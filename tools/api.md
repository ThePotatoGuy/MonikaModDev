**This file is auto-generated**


#### TOC
* [Labels](#labels)
* [Screens](#screens)
* [Python Early](#python-early)
* [`_mas_dm_dm`](#_mas_dm_dm)
* [`_mas_root`](#_mas_root)
* [`evhand`](#evhand)
* [`global`](#global)
* [`hkb_button`](#hkb_button)
* [`mas_affection`](#mas_affection)
* [`mas_anni`](#mas_anni)
* [`mas_apology`](#mas_apology)
* [`mas_background`](#mas_background)
* [`mas_calendar`](#mas_calendar)
* [`mas_chess`](#mas_chess)
* [`mas_compliments`](#mas_compliments)
* [`mas_consumables`](#mas_consumables)
* [`mas_d25_utils`](#mas_d25_utils)
* [`mas_db_merging`](#mas_db_merging)
* [`mas_delact`](#mas_delact)
* [`mas_dockstat`](#mas_dockstat)
* [`mas_ev_data_ver`](#mas_ev_data_ver)
* [`mas_extramenu`](#mas_extramenu)
* [`mas_farewells`](#mas_farewells)
* [`mas_filereacts`](#mas_filereacts)
* [`mas_fun_facts`](#mas_fun_facts)
* [`mas_globals`](#mas_globals)
* [`mas_gmenu`](#mas_gmenu)
* [`mas_greetings`](#mas_greetings)
* [`mas_gtod`](#mas_gtod)
* [`mas_hangman`](#mas_hangman)
* [`mas_history`](#mas_history)
* [`mas_hotkeys`](#mas_hotkeys)
* [`mas_ics`](#mas_ics)
* [`mas_interactions`](#mas_interactions)
* [`mas_island_event`](#mas_island_event)
* [`mas_layout`](#mas_layout)
* [`mas_moods`](#mas_moods)
* [`mas_piano_keys`](#mas_piano_keys)
* [`mas_player_bday_event`](#mas_player_bday_event)
* [`mas_poemgame_consts`](#mas_poemgame_consts)
* [`mas_poemgame_fun`](#mas_poemgame_fun)
* [`mas_poems`](#mas_poems)
* [`mas_pong`](#mas_pong)
* [`mas_ptod`](#mas_ptod)
* [`mas_randchat`](#mas_randchat)
* [`mas_seasons`](#mas_seasons)
* [`mas_selspr`](#mas_selspr)
* [`mas_settings`](#mas_settings)
* [`mas_songs`](#mas_songs)
* [`mas_sprites`](#mas_sprites)
* [`mas_sprites_json`](#mas_sprites_json)
* [`mas_stories`](#mas_stories)
* [`mas_submod_utils`](#mas_submod_utils)
* [`mas_threading`](#mas_threading)
* [`mas_topics`](#mas_topics)
* [`mas_ui`](#mas_ui)
* [`mas_updater`](#mas_updater)
* [`mas_utils`](#mas_utils)
* [`mas_weather`](#mas_weather)
* [`mas_windowreacts`](#mas_windowreacts)
* [`mas_xp`](#mas_xp)
* [`songs`](#songs)

# Labels

#### TOC
* [`bye_922_delegate`](#bye_922_delegate)
* [`bye_d25_delegate`](#bye_d25_delegate)
* [`bye_d25_first_time_out`](#bye_d25_first_time_out)
* [`bye_d25_second_time_out`](#bye_d25_second_time_out)
* [`bye_d25e_delegate`](#bye_d25e_delegate)
* [`bye_d25e_first_time_out`](#bye_d25e_first_time_out)
* [`bye_d25e_second_time_out`](#bye_d25e_second_time_out)
* [`bye_f14`](#bye_f14)
* [`call_next_event`](#call_next_event)
* [`ch30_autoload`](#ch30_autoload)
* [`ch30_day`](#ch30_day)
* [`ch30_end`](#ch30_end)
* [`ch30_hour`](#ch30_hour)
* [`ch30_minute`](#ch30_minute)
* [`ch30_reset`](#ch30_reset)
* [`chara_monika_scare`](#chara_monika_scare)
* [`display_music_menu`](#display_music_menu)
* [`game_hangman`](#game_hangman)
* [`greeting_d25_returned_d25`](#greeting_d25_returned_d25)
* [`greeting_d25_returned_post_d25`](#greeting_d25_returned_post_d25)
* [`greeting_d25e_returned_d25`](#greeting_d25e_returned_d25)
* [`greeting_d25e_returned_d25e`](#greeting_d25e_returned_d25e)
* [`greeting_d25e_returned_post_d25`](#greeting_d25e_returned_post_d25)
* [`greeting_d25p_returned_nyd`](#greeting_d25p_returned_nyd)
* [`greeting_o31_cleanup`](#greeting_o31_cleanup)
* [`greeting_pd25e_returned_d25`](#greeting_pd25e_returned_d25)
* [`greeting_returned_home_bday`](#greeting_returned_home_bday)
* [`greeting_returned_home_f14`](#greeting_returned_home_f14)
* [`greeting_returned_home_player_bday`](#greeting_returned_home_player_bday)
* [`intro_end`](#intro_end)
* [`mas_affection_happynotif`](#mas_affection_happynotif)
* [`mas_affection_upsetwarn`](#mas_affection_upsetwarn)
* [`mas_background_change`](#mas_background_change)
* [`mas_bday_autoload_check`](#mas_bday_autoload_check)
* [`mas_bday_player_bday_select`](#mas_bday_player_bday_select)
* [`mas_bday_surprise_party_reaction`](#mas_bday_surprise_party_reaction)
* [`mas_birthdate_year_redux`](#mas_birthdate_year_redux)
* [`mas_bookmarks_unbookmark`](#mas_bookmarks_unbookmark)
* [`mas_ch30_select_unseen`](#mas_ch30_select_unseen)
* [`mas_change_weather`](#mas_change_weather)
* [`mas_chess_confirm_context`](#mas_chess_confirm_context)
* [`mas_chess_dlg_chess_locked`](#mas_chess_dlg_chess_locked)
* [`mas_chess_dlg_game_drawed`](#mas_chess_dlg_game_drawed)
* [`mas_chess_dlg_game_in_progress`](#mas_chess_dlg_game_in_progress)
* [`mas_chess_dlg_game_in_progress_end`](#mas_chess_dlg_game_in_progress_end)
* [`mas_chess_dlg_game_in_progress_end_quick`](#mas_chess_dlg_game_in_progress_end_quick)
* [`mas_chess_dlg_game_monika_lose`](#mas_chess_dlg_game_monika_lose)
* [`mas_chess_dlg_game_monika_lose_0`](#mas_chess_dlg_game_monika_lose_0)
* [`mas_chess_dlg_game_monika_lose_1`](#mas_chess_dlg_game_monika_lose_1)
* [`mas_chess_dlg_game_monika_lose_10`](#mas_chess_dlg_game_monika_lose_10)
* [`mas_chess_dlg_game_monika_lose_11`](#mas_chess_dlg_game_monika_lose_11)
* [`mas_chess_dlg_game_monika_lose_12`](#mas_chess_dlg_game_monika_lose_12)
* [`mas_chess_dlg_game_monika_lose_13`](#mas_chess_dlg_game_monika_lose_13)
* [`mas_chess_dlg_game_monika_lose_14`](#mas_chess_dlg_game_monika_lose_14)
* [`mas_chess_dlg_game_monika_lose_15`](#mas_chess_dlg_game_monika_lose_15)
* [`mas_chess_dlg_game_monika_lose_16`](#mas_chess_dlg_game_monika_lose_16)
* [`mas_chess_dlg_game_monika_lose_17`](#mas_chess_dlg_game_monika_lose_17)
* [`mas_chess_dlg_game_monika_lose_18`](#mas_chess_dlg_game_monika_lose_18)
* [`mas_chess_dlg_game_monika_lose_19`](#mas_chess_dlg_game_monika_lose_19)
* [`mas_chess_dlg_game_monika_lose_2`](#mas_chess_dlg_game_monika_lose_2)
* [`mas_chess_dlg_game_monika_lose_20`](#mas_chess_dlg_game_monika_lose_20)
* [`mas_chess_dlg_game_monika_lose_3`](#mas_chess_dlg_game_monika_lose_3)
* [`mas_chess_dlg_game_monika_lose_4`](#mas_chess_dlg_game_monika_lose_4)
* [`mas_chess_dlg_game_monika_lose_5`](#mas_chess_dlg_game_monika_lose_5)
* [`mas_chess_dlg_game_monika_lose_6`](#mas_chess_dlg_game_monika_lose_6)
* [`mas_chess_dlg_game_monika_lose_7`](#mas_chess_dlg_game_monika_lose_7)
* [`mas_chess_dlg_game_monika_lose_8`](#mas_chess_dlg_game_monika_lose_8)
* [`mas_chess_dlg_game_monika_lose_9`](#mas_chess_dlg_game_monika_lose_9)
* [`mas_chess_dlg_game_monika_lose_end`](#mas_chess_dlg_game_monika_lose_end)
* [`mas_chess_dlg_game_monika_lose_end_quick`](#mas_chess_dlg_game_monika_lose_end_quick)
* [`mas_chess_dlg_game_monika_lose_pre`](#mas_chess_dlg_game_monika_lose_pre)
* [`mas_chess_dlg_game_monika_lose_silly`](#mas_chess_dlg_game_monika_lose_silly)
* [`mas_chess_dlg_game_monika_win`](#mas_chess_dlg_game_monika_win)
* [`mas_chess_dlg_game_monika_win_0`](#mas_chess_dlg_game_monika_win_0)
* [`mas_chess_dlg_game_monika_win_1`](#mas_chess_dlg_game_monika_win_1)
* [`mas_chess_dlg_game_monika_win_10`](#mas_chess_dlg_game_monika_win_10)
* [`mas_chess_dlg_game_monika_win_11`](#mas_chess_dlg_game_monika_win_11)
* [`mas_chess_dlg_game_monika_win_12`](#mas_chess_dlg_game_monika_win_12)
* [`mas_chess_dlg_game_monika_win_13`](#mas_chess_dlg_game_monika_win_13)
* [`mas_chess_dlg_game_monika_win_14`](#mas_chess_dlg_game_monika_win_14)
* [`mas_chess_dlg_game_monika_win_15`](#mas_chess_dlg_game_monika_win_15)
* [`mas_chess_dlg_game_monika_win_16`](#mas_chess_dlg_game_monika_win_16)
* [`mas_chess_dlg_game_monika_win_17`](#mas_chess_dlg_game_monika_win_17)
* [`mas_chess_dlg_game_monika_win_18`](#mas_chess_dlg_game_monika_win_18)
* [`mas_chess_dlg_game_monika_win_19`](#mas_chess_dlg_game_monika_win_19)
* [`mas_chess_dlg_game_monika_win_2`](#mas_chess_dlg_game_monika_win_2)
* [`mas_chess_dlg_game_monika_win_20`](#mas_chess_dlg_game_monika_win_20)
* [`mas_chess_dlg_game_monika_win_3`](#mas_chess_dlg_game_monika_win_3)
* [`mas_chess_dlg_game_monika_win_4`](#mas_chess_dlg_game_monika_win_4)
* [`mas_chess_dlg_game_monika_win_5`](#mas_chess_dlg_game_monika_win_5)
* [`mas_chess_dlg_game_monika_win_6`](#mas_chess_dlg_game_monika_win_6)
* [`mas_chess_dlg_game_monika_win_7`](#mas_chess_dlg_game_monika_win_7)
* [`mas_chess_dlg_game_monika_win_8`](#mas_chess_dlg_game_monika_win_8)
* [`mas_chess_dlg_game_monika_win_9`](#mas_chess_dlg_game_monika_win_9)
* [`mas_chess_dlg_game_monika_win_end`](#mas_chess_dlg_game_monika_win_end)
* [`mas_chess_dlg_game_monika_win_end_quick`](#mas_chess_dlg_game_monika_win_end_quick)
* [`mas_chess_dlg_game_monika_win_pre`](#mas_chess_dlg_game_monika_win_pre)
* [`mas_chess_dlg_game_monika_win_rekt`](#mas_chess_dlg_game_monika_win_rekt)
* [`mas_chess_dlg_game_monika_win_surr`](#mas_chess_dlg_game_monika_win_surr)
* [`mas_chess_dlg_game_monika_win_surr_0`](#mas_chess_dlg_game_monika_win_surr_0)
* [`mas_chess_dlg_game_monika_win_surr_1`](#mas_chess_dlg_game_monika_win_surr_1)
* [`mas_chess_dlg_game_monika_win_surr_10`](#mas_chess_dlg_game_monika_win_surr_10)
* [`mas_chess_dlg_game_monika_win_surr_11`](#mas_chess_dlg_game_monika_win_surr_11)
* [`mas_chess_dlg_game_monika_win_surr_12`](#mas_chess_dlg_game_monika_win_surr_12)
* [`mas_chess_dlg_game_monika_win_surr_13`](#mas_chess_dlg_game_monika_win_surr_13)
* [`mas_chess_dlg_game_monika_win_surr_14`](#mas_chess_dlg_game_monika_win_surr_14)
* [`mas_chess_dlg_game_monika_win_surr_15`](#mas_chess_dlg_game_monika_win_surr_15)
* [`mas_chess_dlg_game_monika_win_surr_16`](#mas_chess_dlg_game_monika_win_surr_16)
* [`mas_chess_dlg_game_monika_win_surr_17`](#mas_chess_dlg_game_monika_win_surr_17)
* [`mas_chess_dlg_game_monika_win_surr_18`](#mas_chess_dlg_game_monika_win_surr_18)
* [`mas_chess_dlg_game_monika_win_surr_19`](#mas_chess_dlg_game_monika_win_surr_19)
* [`mas_chess_dlg_game_monika_win_surr_2`](#mas_chess_dlg_game_monika_win_surr_2)
* [`mas_chess_dlg_game_monika_win_surr_20`](#mas_chess_dlg_game_monika_win_surr_20)
* [`mas_chess_dlg_game_monika_win_surr_3`](#mas_chess_dlg_game_monika_win_surr_3)
* [`mas_chess_dlg_game_monika_win_surr_4`](#mas_chess_dlg_game_monika_win_surr_4)
* [`mas_chess_dlg_game_monika_win_surr_5`](#mas_chess_dlg_game_monika_win_surr_5)
* [`mas_chess_dlg_game_monika_win_surr_6`](#mas_chess_dlg_game_monika_win_surr_6)
* [`mas_chess_dlg_game_monika_win_surr_7`](#mas_chess_dlg_game_monika_win_surr_7)
* [`mas_chess_dlg_game_monika_win_surr_8`](#mas_chess_dlg_game_monika_win_surr_8)
* [`mas_chess_dlg_game_monika_win_surr_9`](#mas_chess_dlg_game_monika_win_surr_9)
* [`mas_chess_dlg_game_monika_win_surr_pre`](#mas_chess_dlg_game_monika_win_surr_pre)
* [`mas_chess_dlg_game_monika_win_surr_resolve`](#mas_chess_dlg_game_monika_win_surr_resolve)
* [`mas_chess_dlg_game_monika_win_surr_trying`](#mas_chess_dlg_game_monika_win_surr_trying)
* [`mas_chess_dlg_qf_edit`](#mas_chess_dlg_qf_edit)
* [`mas_chess_dlg_qf_edit_n_1`](#mas_chess_dlg_qf_edit_n_1)
* [`mas_chess_dlg_qf_edit_n_2`](#mas_chess_dlg_qf_edit_n_2)
* [`mas_chess_dlg_qf_edit_n_3`](#mas_chess_dlg_qf_edit_n_3)
* [`mas_chess_dlg_qf_edit_n_3_n`](#mas_chess_dlg_qf_edit_n_3_n)
* [`mas_chess_dlg_qf_edit_n_3_n_qs`](#mas_chess_dlg_qf_edit_n_3_n_qs)
* [`mas_chess_dlg_qf_edit_n_3_s`](#mas_chess_dlg_qf_edit_n_3_s)
* [`mas_chess_dlg_qf_edit_n_start`](#mas_chess_dlg_qf_edit_n_start)
* [`mas_chess_dlg_qf_edit_start`](#mas_chess_dlg_qf_edit_start)
* [`mas_chess_dlg_qf_edit_y_1`](#mas_chess_dlg_qf_edit_y_1)
* [`mas_chess_dlg_qf_edit_y_2`](#mas_chess_dlg_qf_edit_y_2)
* [`mas_chess_dlg_qf_edit_y_3`](#mas_chess_dlg_qf_edit_y_3)
* [`mas_chess_dlg_qf_edit_y_start`](#mas_chess_dlg_qf_edit_y_start)
* [`mas_chess_dlg_qf_lost`](#mas_chess_dlg_qf_lost)
* [`mas_chess_dlg_qf_lost_acdnt_2`](#mas_chess_dlg_qf_lost_acdnt_2)
* [`mas_chess_dlg_qf_lost_acdnt_3`](#mas_chess_dlg_qf_lost_acdnt_3)
* [`mas_chess_dlg_qf_lost_acdnt_gen`](#mas_chess_dlg_qf_lost_acdnt_gen)
* [`mas_chess_dlg_qf_lost_acdnt_start`](#mas_chess_dlg_qf_lost_acdnt_start)
* [`mas_chess_dlg_qf_lost_may_2`](#mas_chess_dlg_qf_lost_may_2)
* [`mas_chess_dlg_qf_lost_may_2_found`](#mas_chess_dlg_qf_lost_may_2_found)
* [`mas_chess_dlg_qf_lost_may_3`](#mas_chess_dlg_qf_lost_may_3)
* [`mas_chess_dlg_qf_lost_may_filechecker`](#mas_chess_dlg_qf_lost_may_filechecker)
* [`mas_chess_dlg_qf_lost_may_gen`](#mas_chess_dlg_qf_lost_may_gen)
* [`mas_chess_dlg_qf_lost_may_gen_found`](#mas_chess_dlg_qf_lost_may_gen_found)
* [`mas_chess_dlg_qf_lost_may_removed`](#mas_chess_dlg_qf_lost_may_removed)
* [`mas_chess_dlg_qf_lost_may_start`](#mas_chess_dlg_qf_lost_may_start)
* [`mas_chess_dlg_qf_lost_ofcn_3`](#mas_chess_dlg_qf_lost_ofcn_3)
* [`mas_chess_dlg_qf_lost_ofcn_4`](#mas_chess_dlg_qf_lost_ofcn_4)
* [`mas_chess_dlg_qf_lost_ofcn_5`](#mas_chess_dlg_qf_lost_ofcn_5)
* [`mas_chess_dlg_qf_lost_ofcn_6`](#mas_chess_dlg_qf_lost_ofcn_6)
* [`mas_chess_dlg_qf_lost_ofcn_gen`](#mas_chess_dlg_qf_lost_ofcn_gen)
* [`mas_chess_dlg_qf_lost_ofcn_start`](#mas_chess_dlg_qf_lost_ofcn_start)
* [`mas_chess_dlg_qf_lost_start`](#mas_chess_dlg_qf_lost_start)
* [`mas_chess_dlg_qs_lost`](#mas_chess_dlg_qs_lost)
* [`mas_chess_dlg_qs_lost_2`](#mas_chess_dlg_qs_lost_2)
* [`mas_chess_dlg_qs_lost_3`](#mas_chess_dlg_qs_lost_3)
* [`mas_chess_dlg_qs_lost_5r`](#mas_chess_dlg_qs_lost_5r)
* [`mas_chess_dlg_qs_lost_7r`](#mas_chess_dlg_qs_lost_7r)
* [`mas_chess_dlg_qs_lost_gen`](#mas_chess_dlg_qs_lost_gen)
* [`mas_chess_dlg_qs_lost_start`](#mas_chess_dlg_qs_lost_start)
* [`mas_chess_go_ham_and_delete_everything`](#mas_chess_go_ham_and_delete_everything)
* [`mas_chess_save_migration`](#mas_chess_save_migration)
* [`mas_chess_save_selected`](#mas_chess_save_selected)
* [`mas_clothes_change`](#mas_clothes_change)
* [`mas_consumables_generic_get`](#mas_consumables_generic_get)
* [`mas_crashed_long_prefluster`](#mas_crashed_long_prefluster)
* [`mas_crashed_long_qs`](#mas_crashed_long_qs)
* [`mas_crashed_post`](#mas_crashed_post)
* [`mas_crashed_quip_takecare`](#mas_crashed_quip_takecare)
* [`mas_crashed_start`](#mas_crashed_start)
* [`mas_d25_gift_starter`](#mas_d25_gift_starter)
* [`mas_d25_monika_holiday_intro_rh_rh`](#mas_d25_monika_holiday_intro_rh_rh)
* [`mas_d25_monika_holiday_intro_upset`](#mas_d25_monika_holiday_intro_upset)
* [`mas_d25_season_exit`](#mas_d25_season_exit)
* [`mas_dockstat_decrement_date_counts`](#mas_dockstat_decrement_date_counts)
* [`mas_dockstat_different_monika`](#mas_dockstat_different_monika)
* [`mas_dockstat_empty_desk`](#mas_dockstat_empty_desk)
* [`mas_dockstat_found_monika`](#mas_dockstat_found_monika)
* [`mas_dockstat_found_monika_from_empty`](#mas_dockstat_found_monika_from_empty)
* [`mas_dockstat_ready_to_go`](#mas_dockstat_ready_to_go)
* [`mas_f14_intro_generic`](#mas_f14_intro_generic)
* [`mas_f14_sun_dress_outro`](#mas_f14_sun_dress_outro)
* [`mas_farewell_start`](#mas_farewell_start)
* [`mas_finalfarewell`](#mas_finalfarewell)
* [`mas_finalfarewell_start`](#mas_finalfarewell_start)
* [`mas_fun_facts_end`](#mas_fun_facts_end)
* [`mas_gmenu_confirm_context`](#mas_gmenu_confirm_context)
* [`mas_gmenu_start`](#mas_gmenu_start)
* [`mas_gone_over_bday_check`](#mas_gone_over_bday_check)
* [`mas_gone_over_d25_check`](#mas_gone_over_d25_check)
* [`mas_gone_over_f14_check`](#mas_gone_over_f14_check)
* [`mas_hangman_dlg_game_end_long`](#mas_hangman_dlg_game_end_long)
* [`mas_hangman_dlg_game_end_short`](#mas_hangman_dlg_game_end_short)
* [`mas_hangman_game_end`](#mas_hangman_game_end)
* [`mas_hangman_game_loop`](#mas_hangman_game_loop)
* [`mas_holiday_d25c_autoload_check`](#mas_holiday_d25c_autoload_check)
* [`mas_holiday_o31_returned_home_relaunch`](#mas_holiday_o31_returned_home_relaunch)
* [`mas_idle_mode_greeting_cleanup`](#mas_idle_mode_greeting_cleanup)
* [`mas_lingerie_intro`](#mas_lingerie_intro)
* [`mas_lupd_v0_8_10`](#mas_lupd_v0_8_10)
* [`mas_mood_start`](#mas_mood_start)
* [`mas_o31_autoload_check`](#mas_o31_autoload_check)
* [`mas_piano_def_fail`](#mas_piano_def_fail)
* [`mas_piano_def_fc`](#mas_piano_def_fc)
* [`mas_piano_def_prac`](#mas_piano_def_prac)
* [`mas_piano_def_win`](#mas_piano_def_win)
* [`mas_piano_dpco_win`](#mas_piano_dpco_win)
* [`mas_piano_result_default`](#mas_piano_result_default)
* [`mas_piano_result_none`](#mas_piano_result_none)
* [`mas_piano_start`](#mas_piano_start)
* [`mas_piano_yr_fail`](#mas_piano_yr_fail)
* [`mas_piano_yr_fc`](#mas_piano_yr_fc)
* [`mas_piano_yr_prac`](#mas_piano_yr_prac)
* [`mas_piano_yr_win`](#mas_piano_yr_win)
* [`mas_player_bday_cake`](#mas_player_bday_cake)
* [`mas_player_bday_card`](#mas_player_bday_card)
* [`mas_player_bday_knock_listened`](#mas_player_bday_knock_listened)
* [`mas_player_bday_knock_no_listen`](#mas_player_bday_knock_no_listen)
* [`mas_player_bday_listen`](#mas_player_bday_listen)
* [`mas_player_bday_moni_sings`](#mas_player_bday_moni_sings)
* [`mas_player_bday_opendoor`](#mas_player_bday_opendoor)
* [`mas_player_bday_opendoor_listened`](#mas_player_bday_opendoor_listened)
* [`mas_player_bday_surprise`](#mas_player_bday_surprise)
* [`mas_pong_dlg_loser`](#mas_pong_dlg_loser)
* [`mas_pong_dlg_loser_end`](#mas_pong_dlg_loser_end)
* [`mas_pong_dlg_loser_fast`](#mas_pong_dlg_loser_fast)
* [`mas_pong_dlg_sorry_assuming`](#mas_pong_dlg_sorry_assuming)
* [`mas_pong_dlg_winner`](#mas_pong_dlg_winner)
* [`mas_pong_dlg_winner_end`](#mas_pong_dlg_winner_end)
* [`mas_pong_dlg_winner_fast`](#mas_pong_dlg_winner_fast)
* [`mas_reaction_end`](#mas_reaction_end)
* [`mas_reaction_gift_acs_anonymioo_ribbon_bisexualpride`](#mas_reaction_gift_acs_anonymioo_ribbon_bisexualpride)
* [`mas_reaction_gift_generic_clothes_json`](#mas_reaction_gift_generic_clothes_json)
* [`mas_reaction_gift_hairclip`](#mas_reaction_gift_hairclip)
* [`mas_reaction_gift_starter_d25`](#mas_reaction_gift_starter_d25)
* [`mas_reaction_gift_starter_f14`](#mas_reaction_gift_starter_f14)
* [`mas_reaction_json_ribbon_base`](#mas_reaction_json_ribbon_base)
* [`mas_scary_story_setup`](#mas_scary_story_setup)
* [`mas_selector_generic_sidebar_select_acs`](#mas_selector_generic_sidebar_select_acs)
* [`mas_selector_sidebar_select`](#mas_selector_sidebar_select)
* [`mas_selector_sidebar_select_acs`](#mas_selector_sidebar_select_acs)
* [`mas_selector_sidebar_select_clothes`](#mas_selector_sidebar_select_clothes)
* [`mas_selector_sidebar_select_hair`](#mas_selector_sidebar_select_hair)
* [`mas_set_gender`](#mas_set_gender)
* [`mas_showpoem`](#mas_showpoem)
* [`mas_story_begin`](#mas_story_begin)
* [`mas_thermos_mug_handler`](#mas_thermos_mug_handler)
* [`mas_transition_from_emptydesk`](#mas_transition_from_emptydesk)
* [`mas_transition_to_emptydesk`](#mas_transition_to_emptydesk)
* [`mas_w_cmd`](#mas_w_cmd)
* [`mas_wx_cmd`](#mas_wx_cmd)
* [`mas_wx_cmd_noxwait`](#mas_wx_cmd_noxwait)
* [`mas_x_cmd`](#mas_x_cmd)
* [`monika_gtod_tip009`](#monika_gtod_tip009)
* [`monika_hemispheres_gets_snow`](#monika_hemispheres_gets_snow)
* [`monika_hemispheres_nogets_snow`](#monika_hemispheres_nogets_snow)
* [`monika_holdme_end`](#monika_holdme_end)
* [`monika_kissing_motion_short`](#monika_kissing_motion_short)
* [`monika_ks_present`](#monika_ks_present)
* [`monika_player_appearance_monika_height`](#monika_player_appearance_monika_height)
* [`monika_ptod_tip002`](#monika_ptod_tip002)
* [`monika_ptod_tip003`](#monika_ptod_tip003)
* [`monika_ptod_tip004`](#monika_ptod_tip004)
* [`monika_ptod_tip005`](#monika_ptod_tip005)
* [`monika_ptod_tip006`](#monika_ptod_tip006)
* [`monika_ptod_tip007`](#monika_ptod_tip007)
* [`monika_ptod_tip008`](#monika_ptod_tip008)
* [`monika_ptod_tip009`](#monika_ptod_tip009)
* [`monika_secrets`](#monika_secrets)
* [`monika_snow_gets_snow`](#monika_snow_gets_snow)
* [`monika_snow_nogets_snow`](#monika_snow_nogets_snow)
* [`monika_timeconcern_day_0`](#monika_timeconcern_day_0)
* [`monika_timeconcern_day_2`](#monika_timeconcern_day_2)
* [`monika_timeconcern_day_allow_6`](#monika_timeconcern_day_allow_6)
* [`monika_timeconcern_day_allow_7`](#monika_timeconcern_day_allow_7)
* [`monika_timeconcern_day_allow_8`](#monika_timeconcern_day_allow_8)
* [`monika_timeconcern_day_final`](#monika_timeconcern_day_final)
* [`monika_timeconcern_disallow`](#monika_timeconcern_disallow)
* [`monika_timeconcern_graveyard_night`](#monika_timeconcern_graveyard_night)
* [`monika_timeconcern_lock`](#monika_timeconcern_lock)
* [`monika_timeconcern_night_0`](#monika_timeconcern_night_0)
* [`monika_timeconcern_night_1`](#monika_timeconcern_night_1)
* [`monika_timeconcern_night_2`](#monika_timeconcern_night_2)
* [`monika_timeconcern_night_3`](#monika_timeconcern_night_3)
* [`monika_timeconcern_night_4`](#monika_timeconcern_night_4)
* [`monika_timeconcern_night_5`](#monika_timeconcern_night_5)
* [`monika_timeconcern_night_6`](#monika_timeconcern_night_6)
* [`monika_timeconcern_night_7`](#monika_timeconcern_night_7)
* [`monika_timeconcern_night_after`](#monika_timeconcern_night_after)
* [`monika_timeconcern_night_final`](#monika_timeconcern_night_final)
* [`monika_timeconcern_night_finalfollowup`](#monika_timeconcern_night_finalfollowup)
* [`monika_zoom_fixed_duration_transition`](#monika_zoom_fixed_duration_transition)
* [`monika_zoom_transition`](#monika_zoom_transition)
* [`monika_zoom_transition_reset`](#monika_zoom_transition_reset)
* [`monika_zoom_value_transition`](#monika_zoom_value_transition)
* [`monikaroom_greeting_choice`](#monikaroom_greeting_choice)
* [`monikaroom_greeting_cleanup`](#monikaroom_greeting_cleanup)
* [`monikaroom_greeting_ear_prog_upset`](#monikaroom_greeting_ear_prog_upset)
* [`monikaroom_greeting_opendoor_locked`](#monikaroom_greeting_opendoor_locked)
* [`monikaroom_greeting_opendoor_seen`](#monikaroom_greeting_opendoor_seen)
* [`natsuki_name_scare`](#natsuki_name_scare)
* [`natsuki_name_scare_hungry`](#natsuki_name_scare_hungry)
* [`random_limit_reached`](#random_limit_reached)
* [`sayori_name_scare`](#sayori_name_scare)
* [`spaceroom`](#spaceroom)
* [`start`](#start)
* [`unlock_prompt`](#unlock_prompt)
* [`update_now`](#update_now)
* [`v0_10_0`](#v0_10_0)
* [`v0_10_1`](#v0_10_1)
* [`v0_10_2`](#v0_10_2)
* [`v0_10_3`](#v0_10_3)
* [`v0_10_4`](#v0_10_4)
* [`v0_10_5`](#v0_10_5)
* [`v0_10_6`](#v0_10_6)
* [`v0_10_7`](#v0_10_7)
* [`v0_11_0`](#v0_11_0)
* [`v0_3_0`](#v0_3_0)
* [`v0_4_0`](#v0_4_0)
* [`v0_7_0`](#v0_7_0)
* [`v0_7_1`](#v0_7_1)
* [`v0_7_2`](#v0_7_2)
* [`v0_7_4`](#v0_7_4)
* [`v0_8_0`](#v0_8_0)
* [`v0_8_1`](#v0_8_1)
* [`v0_8_10`](#v0_8_10)
* [`v0_8_11`](#v0_8_11)
* [`v0_8_13`](#v0_8_13)
* [`v0_8_14`](#v0_8_14)
* [`v0_8_2`](#v0_8_2)
* [`v0_8_3`](#v0_8_3)
* [`v0_8_4`](#v0_8_4)
* [`v0_8_6`](#v0_8_6)
* [`v0_8_9`](#v0_8_9)
* [`v0_9_0`](#v0_9_0)
* [`v0_9_1`](#v0_9_1)
* [`v0_9_2`](#v0_9_2)
* [`v0_9_4`](#v0_9_4)
* [`v0_9_5`](#v0_9_5)
* [`vgenericupdate`](#vgenericupdate)
* [`vv_updates_topics`](#vv_updates_topics)
* [`yuri_name_scare`](#yuri_name_scare)
* [`zz_mas_poemgame_sampleone`](#zz_mas_poemgame_sampleone)
* [`zz_mas_poemgame_samplethree`](#zz_mas_poemgame_samplethree)
* [`zz_mas_poemgame_sampletwo`](#zz_mas_poemgame_sampletwo)

## `bye_922_delegate`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] DOCKSTAT FARES
```
## `bye_d25_delegate`

| File |
| ---:|
| `script-holidays` |

```
Christmas Day dockingstation
```
## `bye_d25_first_time_out`

| File |
| ---:|
| `script-holidays` |

```
first time out on d25
```
## `bye_d25_second_time_out`

| File |
| ---:|
| `script-holidays` |

```
second time out on d25
```
## `bye_d25e_delegate`

| File |
| ---:|
| `script-holidays` |

```
Christmas Eve dockingstation
```
## `bye_d25e_first_time_out`

| File |
| ---:|
| `script-holidays` |

```
first time you take her out on d25e
```
## `bye_d25e_second_time_out`

| File |
| ---:|
| `script-holidays` |

```
second time you take her out on d25e
```
## `bye_f14`

| File |
| ---:|
| `script-holidays` |

```
[HOL050] dockstat farwell###############################
```
## `call_next_event`

| File |
| ---:|
| `event-handler` |

```
This calls the next event in the list. It returns the name of the
event called or None if the list is empty or the label is invalid

```
## `ch30_autoload`

| File |
| ---:|
| `script-ch30` |

```
NOTE: START HERE
```
## `ch30_day`

| File |
| ---:|
| `script-ch30` |

```
label for things that should run about once per day
NOTE: it only runs when the day changes, so don't expect this to run on
  staart right away
```
## `ch30_end`

| File |
| ---:|
| `script-ch30` |

```
adding this label so people get redirected to main
this probably occurs when people install the mod right after deleting
monika, so we could probably throw in something here
```
## `ch30_hour`

| File |
| ---:|
| `script-ch30` |

```
label for things that should run about once per hour
NOTE: it only runs when the hour changes, so don't expect this to run
  on start right away
```
## `ch30_minute`

| File |
| ---:|
| `script-ch30` |

```
label for things that should run about once per minute
NOTE: it only runs whent he minute changes, so don't expect this to run
  on start right away
```
## `ch30_reset`

| File |
| ---:|
| `script-ch30` |

```
label for things that may reset after a certain amount of time/conditions
```
## `chara_monika_scare`

| File |
| ---:|
| `script-introduction` |

```
Credit for any assets from Undertale belongs to Toby Fox
```
## `display_music_menu`

| File |
| ---:|
| `zz_music_selector` |

```
sets locks and calls hte appropriate screen
```
## `game_hangman`

| File |
| ---:|
| `zz_hangman` |

```
entry point for the hangman game
```
## `greeting_d25_returned_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from d25 date on d25
```
## `greeting_d25_returned_post_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from d25 date after d25
```
## `greeting_d25e_returned_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from d25e date on d25
```
## `greeting_d25e_returned_d25e`

| File |
| ---:|
| `script-holidays` |

```
returned from d25e date on d25e
```
## `greeting_d25e_returned_post_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from d25e date (or left before d25e) after d25 but before nyd is over
```
## `greeting_d25p_returned_nyd`

| File |
| ---:|
| `script-holidays` |

```
============================================================Greeting returned home D25P NYD(P)============================================================#
```
## `greeting_o31_cleanup`

| File |
| ---:|
| `script-holidays` |

```
Cleanup for o31 greets
```
## `greeting_pd25e_returned_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from pd25e date on d25
```
## `greeting_returned_home_bday`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] DOCKSTAT GREETS ##########
```
## `greeting_returned_home_f14`

| File |
| ---:|
| `script-holidays` |

```
[HOL050] dockstat greet################################
```
## `greeting_returned_home_player_bday`

| File |
| ---:|
| `script-holidays` |

```
player_bday dock stat greets##################################################
```
## `intro_end`

| File |
| ---:|
| `script-introduction` |

```
label for the end so we can jump to this if we timed out in the previous menu
we fall thru to this if not
```
## `mas_affection_happynotif`

| File |
| ---:|
| `script-affection` |

```
Event to indicate that Monika is happy to be receiving your affection.
```
## `mas_affection_upsetwarn`

| File |
| ---:|
| `script-affection` |

```
Event to warn player that Monika feels like she's not receiving the affection she deserves.
```
## `mas_background_change`

| File |
| ---:|
| `zz_backgrounds` |

```
Generic background changing label, can be used if we wanted a sort of story related change
```
## `mas_bday_autoload_check`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] AUTOLOAD
```
## `mas_bday_player_bday_select`

| File |
| ---:|
| `script-story-events` |

```
label mas_bday_player_bday:
```
## `mas_bday_surprise_party_reaction`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] PARTY REACTION
```
## `mas_birthdate_year_redux`

| File |
| ---:|
| `script-story-events` |

```
fixes a rare case for unstable players that were able to confirm a birthdate with an invalid year
```
## `mas_bookmarks_unbookmark`

| File |
| ---:|
| `event-handler` |

```
unbookmark flow
IN:
  bookmarks_disp - list of displayable menu bookmarks.
  regen - function used to regenerate bookmarks_disp

IN/OUT:
  bookmarks_pl - list of available bookmark prompt/label tuples
      items are removed as they are unbookmarked

RETURNS: list of displayable menu bookmarks. migtht be regenerated.
```
## `mas_ch30_select_unseen`

| File |
| ---:|
| `script-ch30` |

```
topic selection labels
```
## `mas_change_weather`

| File |
| ---:|
| `zz_weather` |

```
Changes weather if given a proper weather object
NOTE: we always scene change here
NOTE: if you need to change weather without chanign scene, use the
  set

IN:
  new_weather - weather object to change to
  by_user - whether or not user forced weather
```
## `mas_chess_confirm_context`

| File |
| ---:|
| `chess` |

```
label for new context for confirm screen
```
## `mas_chess_dlg_chess_locked`

| File |
| ---:|
| `chess` |

```
general dialogue
if chess is locked
```
## `mas_chess_dlg_game_drawed`

| File |
| ---:|
| `chess` |

```
draw game
```
## `mas_chess_dlg_game_in_progress`

| File |
| ---:|
| `chess` |

```
in progress game
```
## `mas_chess_dlg_game_in_progress_end`

| File |
| ---:|
| `chess` |

```
game in progress
```
## `mas_chess_dlg_game_in_progress_end_quick`

| File |
| ---:|
| `chess` |

```
quick version of game in progress
```
## `mas_chess_dlg_game_monika_lose`

| File |
| ---:|
| `chess` |

```
main monika lose label
```
## `mas_chess_dlg_game_monika_lose_0`

| File |
| ---:|
| `chess` |

```
losing, chess strength 0
```
## `mas_chess_dlg_game_monika_lose_1`

| File |
| ---:|
| `chess` |

```
losing, chess strength 1
```
## `mas_chess_dlg_game_monika_lose_10`

| File |
| ---:|
| `chess` |

```
losing, chess strength 10
```
## `mas_chess_dlg_game_monika_lose_11`

| File |
| ---:|
| `chess` |

```
losing, chess strength 11
```
## `mas_chess_dlg_game_monika_lose_12`

| File |
| ---:|
| `chess` |

```
losing, chess strength 12
```
## `mas_chess_dlg_game_monika_lose_13`

| File |
| ---:|
| `chess` |

```
losing, chess strength 13
```
## `mas_chess_dlg_game_monika_lose_14`

| File |
| ---:|
| `chess` |

```
losing, chess strength 14
```
## `mas_chess_dlg_game_monika_lose_15`

| File |
| ---:|
| `chess` |

```
losing, chess strength 15
```
## `mas_chess_dlg_game_monika_lose_16`

| File |
| ---:|
| `chess` |

```
losing, chess strength 16
```
## `mas_chess_dlg_game_monika_lose_17`

| File |
| ---:|
| `chess` |

```
losing, chess strength 17
```
## `mas_chess_dlg_game_monika_lose_18`

| File |
| ---:|
| `chess` |

```
losing, chess strength 18
```
## `mas_chess_dlg_game_monika_lose_19`

| File |
| ---:|
| `chess` |

```
losing, chess strength 19
```
## `mas_chess_dlg_game_monika_lose_2`

| File |
| ---:|
| `chess` |

```
losing, chess strength 2
```
## `mas_chess_dlg_game_monika_lose_20`

| File |
| ---:|
| `chess` |

```
losing, chess strength 20
```
## `mas_chess_dlg_game_monika_lose_3`

| File |
| ---:|
| `chess` |

```
losing, chess strength 3
```
## `mas_chess_dlg_game_monika_lose_4`

| File |
| ---:|
| `chess` |

```
losing, chess strength 4
```
## `mas_chess_dlg_game_monika_lose_5`

| File |
| ---:|
| `chess` |

```
losing, chess strength 5
```
## `mas_chess_dlg_game_monika_lose_6`

| File |
| ---:|
| `chess` |

```
losing, chess strength 6
```
## `mas_chess_dlg_game_monika_lose_7`

| File |
| ---:|
| `chess` |

```
losing, chess strength 7
```
## `mas_chess_dlg_game_monika_lose_8`

| File |
| ---:|
| `chess` |

```
losing, chess strength 8
```
## `mas_chess_dlg_game_monika_lose_9`

| File |
| ---:|
| `chess` |

```
losing, chess strength 9
```
## `mas_chess_dlg_game_monika_lose_end`

| File |
| ---:|
| `chess` |

```
monika lost
```
## `mas_chess_dlg_game_monika_lose_end_quick`

| File |
| ---:|
| `chess` |

```
quick version of monika lose
```
## `mas_chess_dlg_game_monika_lose_pre`

| File |
| ---:|
| `chess` |

```
monika loses
monika lose label start dialogue
```
## `mas_chess_dlg_game_monika_lose_silly`

| File |
| ---:|
| `chess` |

```
losing label quips
monika calls you silly
thanks syn
```
## `mas_chess_dlg_game_monika_win`

| File |
| ---:|
| `chess` |

```
main monika win label
```
## `mas_chess_dlg_game_monika_win_0`

| File |
| ---:|
| `chess` |

```
winning, chess strength 0
```
## `mas_chess_dlg_game_monika_win_1`

| File |
| ---:|
| `chess` |

```
winning, chess strength 1
```
## `mas_chess_dlg_game_monika_win_10`

| File |
| ---:|
| `chess` |

```
winning, chess strength 10
```
## `mas_chess_dlg_game_monika_win_11`

| File |
| ---:|
| `chess` |

```
winning, chess strength 11
```
## `mas_chess_dlg_game_monika_win_12`

| File |
| ---:|
| `chess` |

```
winning, chess strength 12
```
## `mas_chess_dlg_game_monika_win_13`

| File |
| ---:|
| `chess` |

```
winning, chess strength 13
```
## `mas_chess_dlg_game_monika_win_14`

| File |
| ---:|
| `chess` |

```
winning, chess strength 14
```
## `mas_chess_dlg_game_monika_win_15`

| File |
| ---:|
| `chess` |

```
winning, chess strength 15
```
## `mas_chess_dlg_game_monika_win_16`

| File |
| ---:|
| `chess` |

```
winning, chess strength 16
```
## `mas_chess_dlg_game_monika_win_17`

| File |
| ---:|
| `chess` |

```
winning, chess strength 17
```
## `mas_chess_dlg_game_monika_win_18`

| File |
| ---:|
| `chess` |

```
winning, chess strength 18
```
## `mas_chess_dlg_game_monika_win_19`

| File |
| ---:|
| `chess` |

```
winning, chess strength 19
```
## `mas_chess_dlg_game_monika_win_2`

| File |
| ---:|
| `chess` |

```
winning, chess strength 2
```
## `mas_chess_dlg_game_monika_win_20`

| File |
| ---:|
| `chess` |

```
winning, chess strength 20
```
## `mas_chess_dlg_game_monika_win_3`

| File |
| ---:|
| `chess` |

```
winning, chess strength 3
```
## `mas_chess_dlg_game_monika_win_4`

| File |
| ---:|
| `chess` |

```
winning, chess strength 4
```
## `mas_chess_dlg_game_monika_win_5`

| File |
| ---:|
| `chess` |

```
winning, chess strength 5
```
## `mas_chess_dlg_game_monika_win_6`

| File |
| ---:|
| `chess` |

```
winning, chess strength 6
```
## `mas_chess_dlg_game_monika_win_7`

| File |
| ---:|
| `chess` |

```
winning, chess strength 7
```
## `mas_chess_dlg_game_monika_win_8`

| File |
| ---:|
| `chess` |

```
winning, chess strength 8
```
## `mas_chess_dlg_game_monika_win_9`

| File |
| ---:|
| `chess` |

```
winning, chess strength 9
```
## `mas_chess_dlg_game_monika_win_end`

| File |
| ---:|
| `chess` |

```
chess has ended dialogue
monika won
```
## `mas_chess_dlg_game_monika_win_end_quick`

| File |
| ---:|
| `chess` |

```
quick version of monika win
```
## `mas_chess_dlg_game_monika_win_pre`

| File |
| ---:|
| `chess` |

```
monika wins
monika win pre dialogue
```
## `mas_chess_dlg_game_monika_win_rekt`

| File |
| ---:|
| `chess` |

```
monika wins quips
```
## `mas_chess_dlg_game_monika_win_surr`

| File |
| ---:|
| `chess` |

```
main monika win by earlt surrenders label
```
## `mas_chess_dlg_game_monika_win_surr_0`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 0
```
## `mas_chess_dlg_game_monika_win_surr_1`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 1
```
## `mas_chess_dlg_game_monika_win_surr_10`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 10
```
## `mas_chess_dlg_game_monika_win_surr_11`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 11
```
## `mas_chess_dlg_game_monika_win_surr_12`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 12
```
## `mas_chess_dlg_game_monika_win_surr_13`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 13
```
## `mas_chess_dlg_game_monika_win_surr_14`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 14
```
## `mas_chess_dlg_game_monika_win_surr_15`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 15
```
## `mas_chess_dlg_game_monika_win_surr_16`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 16
```
## `mas_chess_dlg_game_monika_win_surr_17`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 17
```
## `mas_chess_dlg_game_monika_win_surr_18`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 18
```
## `mas_chess_dlg_game_monika_win_surr_19`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 19
```
## `mas_chess_dlg_game_monika_win_surr_2`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 2
```
## `mas_chess_dlg_game_monika_win_surr_20`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 20
```
## `mas_chess_dlg_game_monika_win_surr_3`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 3
```
## `mas_chess_dlg_game_monika_win_surr_4`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 4
```
## `mas_chess_dlg_game_monika_win_surr_5`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 5
```
## `mas_chess_dlg_game_monika_win_surr_6`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 6
```
## `mas_chess_dlg_game_monika_win_surr_7`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 7
```
## `mas_chess_dlg_game_monika_win_surr_8`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 8
```
## `mas_chess_dlg_game_monika_win_surr_9`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 9
```
## `mas_chess_dlg_game_monika_win_surr_pre`

| File |
| ---:|
| `chess` |

```
monika wins by early surrender
monika win by early surrender dialogue start
```
## `mas_chess_dlg_game_monika_win_surr_resolve`

| File |
| ---:|
| `chess` |

```
monika wins by early surrender quips
poor resolve
```
## `mas_chess_dlg_game_monika_win_surr_trying`

| File |
| ---:|
| `chess` |

```
have you tried
```
## `mas_chess_dlg_qf_edit`

| File |
| ---:|
| `chess` |

```
quickfile edited
main label for quickfile edited flow
```
## `mas_chess_dlg_qf_edit_n_1`

| File |
| ---:|
| `chess` |

```
1st time no edit
```
## `mas_chess_dlg_qf_edit_n_2`

| File |
| ---:|
| `chess` |

```
2nd time no edit
```
## `mas_chess_dlg_qf_edit_n_3`

| File |
| ---:|
| `chess` |

```
3rd time no edit
```
## `mas_chess_dlg_qf_edit_n_3_n`

| File |
| ---:|
| `chess` |

```
3rd time no edit, no sorry
```
## `mas_chess_dlg_qf_edit_n_3_n_qs`

| File |
| ---:|
| `chess` |

```
3rd time no edit, sorry, edit qs
```
## `mas_chess_dlg_qf_edit_n_3_s`

| File |
| ---:|
| `chess` |

```
3rd time no edit, sorry
```
## `mas_chess_dlg_qf_edit_n_start`

| File |
| ---:|
| `chess` |

```
No Edit flow
```
## `mas_chess_dlg_qf_edit_start`

| File |
| ---:|
| `chess` |

```
intro to quickfile edited
```
## `mas_chess_dlg_qf_edit_y_1`

| File |
| ---:|
| `chess` |

```
first time yes edit
```
## `mas_chess_dlg_qf_edit_y_2`

| File |
| ---:|
| `chess` |

```
2nd time yes edit
```
## `mas_chess_dlg_qf_edit_y_3`

| File |
| ---:|
| `chess` |

```
3rd time yes edit
```
## `mas_chess_dlg_qf_edit_y_start`

| File |
| ---:|
| `chess` |

```
Yes Edit flow
```
## `mas_chess_dlg_qf_lost`

| File |
| ---:|
| `chess` |

```
quickfile lost
main label for quickfile lost flow
```
## `mas_chess_dlg_qf_lost_acdnt_2`

| File |
| ---:|
| `chess` |

```
2nd accident monika
```
## `mas_chess_dlg_qf_lost_acdnt_3`

| File |
| ---:|
| `chess` |

```
3rd accident monika
```
## `mas_chess_dlg_qf_lost_acdnt_gen`

| File |
| ---:|
| `chess` |

```
generic accident monika
```
## `mas_chess_dlg_qf_lost_acdnt_start`

| File |
| ---:|
| `chess` |

```
Accident monika flow
```
## `mas_chess_dlg_qf_lost_may_2`

| File |
| ---:|
| `chess` |

```
2nd time maybe monika
```
## `mas_chess_dlg_qf_lost_may_2_found`

| File |
| ---:|
| `chess` |

```
2nd time maybe monika, found file
```
## `mas_chess_dlg_qf_lost_may_3`

| File |
| ---:|
| `chess` |

```
3rd time maybe monika
```
## `mas_chess_dlg_qf_lost_may_filechecker`

| File |
| ---:|
| `chess` |

```
maybe monika file checking parts
```
## `mas_chess_dlg_qf_lost_may_gen`

| File |
| ---:|
| `chess` |

```
generic maybe monika
NOTE: we do a check for the file every line
```
## `mas_chess_dlg_qf_lost_may_gen_found`

| File |
| ---:|
| `chess` |

```
generic maybe monika, found file
```
## `mas_chess_dlg_qf_lost_may_removed`

| File |
| ---:|
| `chess` |

```
maybe monika, but player removed the file again!
```
## `mas_chess_dlg_qf_lost_may_start`

| File |
| ---:|
| `chess` |

```
maybe monika flow
```
## `mas_chess_dlg_qf_lost_ofcn_3`

| File |
| ---:|
| `chess` |

```
3rd time you ofcn monika
```
## `mas_chess_dlg_qf_lost_ofcn_4`

| File |
| ---:|
| `chess` |

```
4th time you ofcn monika
```
## `mas_chess_dlg_qf_lost_ofcn_5`

| File |
| ---:|
| `chess` |

```
5th time you ofcn monika
```
## `mas_chess_dlg_qf_lost_ofcn_6`

| File |
| ---:|
| `chess` |

```
6th time you ofcn monika
```
## `mas_chess_dlg_qf_lost_ofcn_gen`

| File |
| ---:|
| `chess` |

```
generic ofcnot monika
```
## `mas_chess_dlg_qf_lost_ofcn_start`

| File |
| ---:|
| `chess` |

```
of course not flow
```
## `mas_chess_dlg_qf_lost_start`

| File |
| ---:|
| `chess` |

```
intro to quickfile lost
```
## `mas_chess_dlg_qs_lost`

| File |
| ---:|
| `chess` |

```
Quicksave lost:
```
## `mas_chess_dlg_qs_lost_2`

| File |
| ---:|
| `chess` |

```
2nd time quicksave lost statement
```
## `mas_chess_dlg_qs_lost_3`

| File |
| ---:|
| `chess` |

```
3rd time quicksave lost statement
```
## `mas_chess_dlg_qs_lost_5r`

| File |
| ---:|
| `chess` |

```
5th time recurring quicksave lost statement
```
## `mas_chess_dlg_qs_lost_7r`

| File |
| ---:|
| `chess` |

```
7th time recurring quicksave lost statement
```
## `mas_chess_dlg_qs_lost_gen`

| File |
| ---:|
| `chess` |

```
generic quicksave lost statement
```
## `mas_chess_dlg_qs_lost_start`

| File |
| ---:|
| `chess` |

```
quicksave lost start
```
## `mas_chess_go_ham_and_delete_everything`

| File |
| ---:|
| `chess` |

```
do some permanent stuff
```
## `mas_chess_save_migration`

| File |
| ---:|
| `chess` |

```
label for chess save migration
```
## `mas_chess_save_selected`

| File |
| ---:|
| `chess` |

```
FALL THROUGH
```
## `mas_clothes_change`

| File |
| ---:|
| `script-story-events` |

```
Changes clothes to the given outfit.
  IN:
      outfit - the MASClothes object to change outfit to
          If None is passed, the uniform is used
      outfit_mode - does this outfit have and accompanying outfit_mode
          Defaults to False
      exp - the expression we want monika to use when she reveals the outfit
          Defaults to monika 2eua
      restore_zoom - unused
      unlock - True unlocks the outfit's selectable (if it exists)
          Defaults to False
```
## `mas_consumables_generic_get`

| File |
| ---:|
| `zz_consumables` |

```
START: Generic consumable labels
```
## `mas_crashed_long_prefluster`

| File |
| ---:|
| `script-story-events` |

```
make sure to calm her down, player
```
## `mas_crashed_long_qs`

| File |
| ---:|
| `script-story-events` |

```
long flow involves 2 questions
```
## `mas_crashed_post`

| File |
| ---:|
| `script-story-events` |

```
post crashed flow
```
## `mas_crashed_quip_takecare`

| File |
| ---:|
| `script-story-events` |

```
crash labels
```
## `mas_crashed_start`

| File |
| ---:|
| `script-story-events` |

```
start of crash flow
```
## `mas_d25_gift_starter`

| File |
| ---:|
| `script-holidays` |

```
D25 holiday gift starter/connector
```
## `mas_d25_monika_holiday_intro_rh_rh`

| File |
| ---:|
| `script-holidays` |

```
Fall through
ase we need to call just this part, like if returning from bday date from pre-d25
```
## `mas_d25_monika_holiday_intro_upset`

| File |
| ---:|
| `script-holidays` |

```
for people that started the season upset- and graduated to normal
```
## `mas_d25_season_exit`

| File |
| ---:|
| `script-holidays` |

```
D25 Season exit
```
## `mas_dockstat_decrement_date_counts`

| File |
| ---:|
| `zz_dockingstation` |

```
Call this label to reset the date vars
```
## `mas_dockstat_different_monika`

| File |
| ---:|
| `zz_dockingstation` |

```
different monika found
```
## `mas_dockstat_empty_desk`

| File |
| ---:|
| `zz_dockingstation` |

```
empty desk. This one includes file checking every 1 second
```
## `mas_dockstat_found_monika`

| File |
| ---:|
| `zz_dockingstation` |

```
found our monika
```
## `mas_dockstat_found_monika_from_empty`

| File |
| ---:|
| `zz_dockingstation` |

```
found our monika, but we coming from empty desk
```
## `mas_dockstat_ready_to_go`

| File |
| ---:|
| `zz_dockingstation` |

```
call this label when monika is ready to leave the station
RETURNS:
  true if moni can leave
  false otherwise
```
## `mas_f14_intro_generic`

| File |
| ---:|
| `script-holidays` |

```
used for when we have no new outfits to change into
```
## `mas_f14_sun_dress_outro`

| File |
| ---:|
| `script-holidays` |

```
common flow for first time sundress
```
## `mas_farewell_start`

| File |
| ---:|
| `script-farewells` |

```
farewells selection label
```
## `mas_finalfarewell`

| File |
| ---:|
| `script-affection` |

```
this will loop through the final poem everytime!
```
## `mas_finalfarewell_start`

| File |
| ---:|
| `script-affection` |

```
prepwork for the finalfarewell
```
## `mas_fun_facts_end`

| File |
| ---:|
| `script-fun-facts` |

```
Most labels end here
```
## `mas_gmenu_confirm_context`

| File |
| ---:|
| `zz_graphicsmenu` |

```
label for new context for confirm screen
```
## `mas_gmenu_start`

| File |
| ---:|
| `zz_graphicsmenu` |

```
gmenu flow start
```
## `mas_gone_over_bday_check`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] GONE OVER CHECK
```
## `mas_gone_over_d25_check`

| File |
| ---:|
| `script-holidays` |

```
check to see if we missed d25 due to being on a date
```
## `mas_gone_over_f14_check`

| File |
| ---:|
| `script-holidays` |

```
if we went on a date pre-f14 and returned in the time period mas_f14_no_time_spent event runs
need to make sure we get credit for time spent and don't get the event
```
## `mas_hangman_dlg_game_end_long`

| File |
| ---:|
| `zz_hangman` |

```
dialogue related stuff
long form of ending dialgoue
```
## `mas_hangman_dlg_game_end_short`

| File |
| ---:|
| `zz_hangman` |

```
short form of ending dialogue
```
## `mas_hangman_game_end`

| File |
| ---:|
| `zz_hangman` |

```
end of game flow
```
## `mas_hangman_game_loop`

| File |
| ---:|
| `zz_hangman` |

```
looping location for the hangman game
```
## `mas_holiday_d25c_autoload_check`

| File |
| ---:|
| `script-holidays` |

```
autoload starter check
```
## `mas_holiday_o31_returned_home_relaunch`

| File |
| ---:|
| `script-holidays` |

```
post returned home greeting to setup game relaunch
```
## `mas_idle_mode_greeting_cleanup`

| File |
| ---:|
| `script-greetings` |

```
NOTE: this is auto pushed to be shown after an idle mode greeting
```
## `mas_lingerie_intro`

| File |
| ---:|
| `script-holidays` |

```
Global labels
```
## `mas_lupd_v0_8_10`

| File |
| ---:|
| `updates` |

```

SUPER LATE scripts
these scripts are for doing python things really LATE in the pipeline

USAGE:
1. define a label called mas_lupd_v#_#_#
2. Put your update code into there.
3. Push the version number into `persistent._mas_zz_lupd_ex_v` to run it

NOTE: none of this code will ever run more than once.
NOTE: this code will respect version update chaining, but these are chained
  post-version. This means that if a multipel version chain occurs,
  the regular labels are executed first, then this (the late-chain) executes.
  For example, lets say we have 3 versions: A, B, C
  and 2 of these versions have late scripts, B' and C'

  Update order:
  1. A
  2. B
  3. C
  4. B'
  5. C'

  Please make sure your late update scripts are not required before a next
  version regular update script.
```
## `mas_mood_start`

| File |
| ---:|
| `script-moods` |

```
entry point for mood flow
```
## `mas_o31_autoload_check`

| File |
| ---:|
| `script-holidays` |

```
START: O31 AUTOLOAD CHECK
```
## `mas_piano_def_fail`

| File |
| ---:|
| `zz_pianokeys` |

```
default fail
```
## `mas_piano_def_fc`

| File |
| ---:|
| `zz_pianokeys` |

```
defualt fc
```
## `mas_piano_def_prac`

| File |
| ---:|
| `zz_pianokeys` |

```
default practice
```
## `mas_piano_def_win`

| File |
| ---:|
| `zz_pianokeys` |

```
TODO all of these default labels
default win
```
## `mas_piano_dpco_win`

| File |
| ---:|
| `zz_pianokeys` |

```
labels:
```
## `mas_piano_result_default`

| File |
| ---:|
| `zz_pianokeys` |

```
default. post game, freestyle mode
```
## `mas_piano_result_none`

| File |
| ---:|
| `zz_pianokeys` |

```
Shown if player does not hit any notes
```
## `mas_piano_start`

| File |
| ---:|
| `zz_pianokeys` |

```
label that calls this creen
```
## `mas_piano_yr_fail`

| File |
| ---:|
| `zz_pianokeys` |

```
shown if player did not complete song and had more fails than passes
```
## `mas_piano_yr_fc`

| File |
| ---:|
| `zz_pianokeys` |

```
shown if player FCs
```
## `mas_piano_yr_prac`

| File |
| ---:|
| `zz_pianokeys` |

```
shown if player did not complete song but had more passes than fails
```
## `mas_piano_yr_win`

| File |
| ---:|
| `zz_pianokeys` |

```
shown if player completes the song but does not FC
```
## `mas_player_bday_cake`

| File |
| ---:|
| `script-holidays` |

```
all paths lead here
```
## `mas_player_bday_card`

| File |
| ---:|
| `script-holidays` |

```
fall thru
```
## `mas_player_bday_knock_listened`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for knocking after listening
```
## `mas_player_bday_knock_no_listen`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for knocking without listening
```
## `mas_player_bday_listen`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for opening door for listening
```
## `mas_player_bday_moni_sings`

| File |
| ---:|
| `script-holidays` |

```
when did moni last sign happy birthday
moni singing happy birthday
```
## `mas_player_bday_opendoor`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for opening door without listening
```
## `mas_player_bday_opendoor_listened`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for opening door after listening
```
## `mas_player_bday_surprise`

| File |
| ---:|
| `script-holidays` |

```
closed door greet surprise flow
```
## `mas_pong_dlg_loser`

| File |
| ---:|
| `pong` |

```
START: Dialogue shown right when monika loses
```
## `mas_pong_dlg_loser_end`

| File |
| ---:|
| `pong` |

```
Post dlg Moni lose
```
## `mas_pong_dlg_loser_fast`

| File |
| ---:|
| `pong` |

```
Quick Moni lose dlg
```
## `mas_pong_dlg_sorry_assuming`

| File |
| ---:|
| `pong` |

```
dlg for Monika saying she's sorry for assuming
Duplicated, hence label
```
## `mas_pong_dlg_winner`

| File |
| ---:|
| `pong` |

```
START: Dialogue shown when Monika wins
```
## `mas_pong_dlg_winner_end`

| File |
| ---:|
| `pong` |

```
Post dlg Moni win
```
## `mas_pong_dlg_winner_fast`

| File |
| ---:|
| `pong` |

```
Quick Moni win dlg
```
## `mas_reaction_end`

| File |
| ---:|
| `zz_reactions` |

```
ending label for gift reactions, this just resets a thing
```
## `mas_reaction_gift_acs_anonymioo_ribbon_bisexualpride`

| File |
| ---:|
| `zz_reactions` |

```
anonymioo
```
## `mas_reaction_gift_generic_clothes_json`

| File |
| ---:|
| `zz_reactions` |

```
generic reaction for json clothes
```
## `mas_reaction_gift_hairclip`

| File |
| ---:|
| `zz_reactions` |

```
hairclip
```
## `mas_reaction_gift_starter_d25`

| File |
| ---:|
| `zz_reactions` |

```
d25
```
## `mas_reaction_gift_starter_f14`

| File |
| ---:|
| `zz_reactions` |

```
f14
```
## `mas_reaction_json_ribbon_base`

| File |
| ---:|
| `zz_reactions` |

```
JSON ribbons
```
## `mas_scary_story_setup`

| File |
| ---:|
| `script-stories` |

```
Scary stories start here
```
## `mas_selector_generic_sidebar_select_acs`

| File |
| ---:|
| `zz_selector` |

```
generic sidebar-based ACS select
standardized code for ACS selections. If you need custom filtering,
DONT use this.
NOTE: this will always show remover (for now)
NOTE: this wil only show unlocked ACS.

IN:
  acs_type - acs type of the ACS we want to show
  use_acs - list of acs to use. if None, we use standard filter
      (Default: None)
  set_compat_flags - True will adjust the use_acs using compatibly filter
      False will not
      (Default: True)
  launch_exp - the expression to use when saying "Sure [player]!" before
      showing the selector.
      (Default: monika 1eua)
  idle_exp - the expression to use while the selector is runing.
      if None is passed in, we use the launch exp.
      (Default: None)
  sel_group - the selector group to use.
      if None, we use the acs_type
      (Default: None)
  idle_dlg - dialogue shown while selector is running and nothing has been
      hovered/selected.
      if None, we use acs_type, which might be yuck:
      "Which <acs_type> would you like me to wear?"
      (Default: None)
```
## `mas_selector_sidebar_select`

| File |
| ---:|
| `zz_selector` |

```
GENERAL sidebar selector label
NOTE: you should NOT call this label. You should call the helper labels
instead.
NOTE: this shows the `mas_selector_sidebar` screen. It is the caller's
  responsibility to hide the screen when done.

IN:
  items - list of MASSelectable objects to select from.
  select_type - SELECT_* constant for the current mode. We throw
      exceptions if this is not passed in and is a valid type.
  preview_selections - True means the selections are previewed, False means
      they are not.
      (Default: True)
  only_unlocked - True means we only show unlocked items, False means
      show everything.
      (Default: True)
  save_on_confirm - True means we should save selections on a confirm
      (which means we dont undo selections), while False means we will
      undo selections on a confirm, and let the caller handle the actual
      selection saving.
      (Default: True)
  mailbox - MASSelectableSpriteMailbox object to use
      Call send_def_disp_text to set the default display text.
      Call send_disp_text to set the inital display text.
      IF None, we create a MASSelectableSpriteMaibox for use.
  add_remover - True if we want to include a remover in the selector menu,
      False if not
      (Default: False)
  remover_name - name to use for the remover.
      (Default: None)

OUT:
  select_map - map of selections. Organized like:
      name: MASSelectableImageButtonDisplayable object

RETURNS True if we are confirming the changes, False if not.
```
## `mas_selector_sidebar_select_acs`

| File |
| ---:|
| `zz_selector` |

```
ACS sidebar selector label

SEE mas_selector_sidebar_select for info on input params.
NOTE: select_type is not a param here.

RETURNS: True if we are confirming the changes, False if not
```
## `mas_selector_sidebar_select_clothes`

| File |
| ---:|
| `zz_selector` |

```
CLOTH sidebar selector label

SEE mas_selector_sidebar_select for info on input params.
NOTE: select_type is not a param here.

RETURNS: True if we are confirming the changes, False if not
```
## `mas_selector_sidebar_select_hair`

| File |
| ---:|
| `zz_selector` |

```
HAIR sidebar selector label

SEE mas_selector_sidebar_select for info on input params.
NOTE: select_type is not a param here.

RETURNS: True if we are confirming the changes, False if not
```
## `mas_set_gender`

| File |
| ---:|
| `definitions` |

```
Gender specific word replacement
Those are to be used like this "It is [his] pen." Output:
"It is his pen." (if the player's gender is declared as male)
"It is her pen." (if the player's gender is decalred as female)
"It is their pen." (if player's gender is not declared)
Variables (i.e. what you put in square brackets) so far: his, he, hes, heis, bf, man, boy,
Please remember to update the list if you add more gender exclusive words. ^
```
## `mas_showpoem`

| File |
| ---:|
| `zz_poems` |

```
mas_showpoem ####
Handles showing poems and automatically incrementing the shown counts of MASPoems
Can also show normal poems

IN:
  poem - poem to show
  paper - paper to use
      If None, and the poem is a MASPoem, it attempts to get paper by the category.
      If nothing can be found, it defaults to paper.
      Normal poems use the standard paper by default if None.
      (Default: None)
  background_action_label - label to handle background setup with (Default: None)
```
## `mas_story_begin`

| File |
| ---:|
| `script-stories` |

```
Stories start here
```
## `mas_thermos_mug_handler`

| File |
| ---:|
| `zz_reactions` |

```
Thermos handler
```
## `mas_transition_from_emptydesk`

| File |
| ---:|
| `sprite-chart` |

```
transition from empty desk
NOTE: to unhide a desk ACS, set that ACS to keep on desk AFTER calling this
IN:
  exp - expression to show when monika is shown
```
## `mas_transition_to_emptydesk`

| File |
| ---:|
| `sprite-chart` |

```
transiton to empty desk
NOTE: to hide a desk ACS, set that ACS to not keep on desk b4 calling this
```
## `mas_w_cmd`

| File |
| ---:|
| `script-python` |

```
does a write command and waits
```
## `mas_wx_cmd`

| File |
| ---:|
| `script-python` |

```
does both writing and executing, with waits
```
## `mas_wx_cmd_noxwait`

| File |
| ---:|
| `script-python` |

```
does both writing and executing, no x wait
```
## `mas_x_cmd`

| File |
| ---:|
| `script-python` |

```
does an execute and waits
```
## `monika_gtod_tip009`

| File |
| ---:|
| `script-grammar` |

```
Note: formatted apostrophes have been used in examples in this tip for clarity. Please DO NOT remove them.
```
## `monika_hemispheres_gets_snow`

| File |
| ---:|
| `script-topics` |

```
player has snow, hemisphere version
```
## `monika_hemispheres_nogets_snow`

| File |
| ---:|
| `script-topics` |

```
player no snow, hemisphere version
```
## `monika_holdme_end`

| File |
| ---:|
| `script-topics` |

```
label to set the last time held and reset the _holdrequest params
```
## `monika_kissing_motion_short`

| File |
| ---:|
| `special-effects` |

```
short kiss version
```
## `monika_ks_present`

| File |
| ---:|
| `script-topics` |

```
Natsuki == Shizune? (Kind of, if you squint?)
Yuri == Hanako + Lilly
Sayori == Misha and/or Emi
Monika == no one, of course <3
... and Rin doesn't have a counterpart in DDLC.

Of course, I've got nothing against KS, personally. I think it's fantastic.
But this is Monika speaking.
```
## `monika_player_appearance_monika_height`

| File |
| ---:|
| `script-topics` |

```
quick label where monika tells you her height
```
## `monika_ptod_tip002`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  interpreted language (tip 3)
```
## `monika_ptod_tip003`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  What is python (tip 1)
```
## `monika_ptod_tip004`

| File |
| ---:|
| `script-python` |

```
PREREQs:
  interpreted language (tip 3)
```
## `monika_ptod_tip005`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Variables and Assignment
```
## `monika_ptod_tip006`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Types (tip 2)
```
## `monika_ptod_tip007`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Variables and Assignment (tip 6)

```
## `monika_ptod_tip008`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Variables and Assignment (tip 6)
```
## `monika_ptod_tip009`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Comparisons and Booleans (5)
```
## `monika_secrets`

| File |
| ---:|
| `script-topics` |

```
Don't touch
```
## `monika_snow_gets_snow`

| File |
| ---:|
| `script-topics` |

```
player has snow, snow version
```
## `monika_snow_nogets_snow`

| File |
| ---:|
| `script-topics` |

```
player no snow, snow version
```
## `monika_timeconcern_day_0`

| File |
| ---:|
| `script-topics` |

```
If Monika never gives warning and it's daytime or the player never made it to the end
```
## `monika_timeconcern_day_2`

| File |
| ---:|
| `script-topics` |

```
Daytime, if player tells Monika they worked last night but don't work graveyards.
```
## `monika_timeconcern_day_allow_6`

| File |
| ---:|
| `script-topics` |

```
First time Monika closes at night and player reopens during day without coming back.
```
## `monika_timeconcern_day_allow_7`

| File |
| ---:|
| `script-topics` |

```
Second time Monika closes at night and player then reopens during day.
```
## `monika_timeconcern_day_allow_8`

| File |
| ---:|
| `script-topics` |

```
Third time Monika closes the game and player reopens after night.
```
## `monika_timeconcern_day_final`

| File |
| ---:|
| `script-topics` |

```
If Monika lets player stay and it is no longer night.
```
## `monika_timeconcern_disallow`

| File |
| ---:|
| `script-topics` |

```
If player told Monika not to close window and never reached the end.
```
## `monika_timeconcern_graveyard_night`

| File |
| ---:|
| `script-topics` |

```
If you tell Monika you work at night.
```
## `monika_timeconcern_lock`

| File |
| ---:|
| `script-topics` |

```
Used at the end to lock the forced greeting.
```
## `monika_timeconcern_night_0`

| File |
| ---:|
| `script-topics` |

```
First warning, night time.
```
## `monika_timeconcern_night_1`

| File |
| ---:|
| `script-topics` |

```
Second time at night, Monika asks if player is working late.
```
## `monika_timeconcern_night_2`

| File |
| ---:|
| `script-topics` |

```
If player says they were working. Progress stops here.
```
## `monika_timeconcern_night_3`

| File |
| ---:|
| `script-topics` |

```
If player says he was not working. Monika asks the state of the game being open.
```
## `monika_timeconcern_night_4`

| File |
| ---:|
| `script-topics` |

```
Second and final warning before any closes can occur.
```
## `monika_timeconcern_night_5`

| File |
| ---:|
| `script-topics` |

```
Monika force closes game for the first time
```
## `monika_timeconcern_night_6`

| File |
| ---:|
| `script-topics` |

```
First time game is reopened and still night. Monika closes game again.
```
## `monika_timeconcern_night_7`

| File |
| ---:|
| `script-topics` |

```
Second time game is reopened and still night. Monika closes game once more
```
## `monika_timeconcern_night_after`

| File |
| ---:|
| `script-topics` |

```
Every night after, based on seeing the day version first before it.
```
## `monika_timeconcern_night_final`

| File |
| ---:|
| `script-topics` |

```
Third and last time game is reopened in one night. Monika lets player stay.
```
## `monika_timeconcern_night_finalfollowup`

| File |
| ---:|
| `script-topics` |

```
Same night after the final close
```
## `monika_zoom_fixed_duration_transition`

| File |
| ---:|
| `special-effects` |

```
Zoom Transition label #2
Used to transition from any valid zoom value to another valid
zoom valid zoom value in a smooth way
IN:
    new_zoom - the new zoom level to move to
    transition - the time in seconds used to transition to the new zoom level
        (Default: 3.0)
```
## `monika_zoom_transition`

| File |
| ---:|
| `special-effects` |

```
Zoom Transition label #3
Used to transition from any valid zoom value to another valid
zoom valid zoom value in a smooth way
IN:
    new_zoom - the new zoom level to move to
    transition - the time in seconds used to transition from the maximum to the
        minimum zoom level, this works in a way that the time used in the
        transition is lower the nearer the current zoom level is to the
        new zoom level (Default: 3.0)
```
## `monika_zoom_transition_reset`

| File |
| ---:|
| `special-effects` |

```
Resets to the default zoom level, smoothly.
```
## `monika_zoom_value_transition`

| File |
| ---:|
| `special-effects` |

```
Zoom Transition label
Used to transition from any valid zoom value to another valid
zoom valid zoom value in a smooth way
IN:
    new_zoom - the new zoom value to move to
    transition - the time in seconds used to transition to the new zoom level
        (Default: 3.0)
```
## `monikaroom_greeting_choice`

| File |
| ---:|
| `script-greetings` |

```
FALL THROUGH
```
## `monikaroom_greeting_cleanup`

| File |
| ---:|
| `script-greetings` |

```
cleanup label
```
## `monikaroom_greeting_ear_prog_upset`

| File |
| ---:|
| `script-greetings` |

```
shared dialogue for programming-related stuff
```
## `monikaroom_greeting_opendoor_locked`

| File |
| ---:|
| `script-greetings` |

```
locked door, because we are awaitng more content
```
## `monikaroom_greeting_opendoor_seen`

| File |
| ---:|
| `script-greetings` |

```
this one is for people who have already opened her door.
```
## `natsuki_name_scare`

| File |
| ---:|
| `script-easter-eggs` |

```
natsuki scare
```
## `natsuki_name_scare_hungry`

| File |
| ---:|
| `script-easter-eggs` |

```
natsuki scare 2:
```
## `random_limit_reached`

| File |
| ---:|
| `script-story-events` |

```
NOTE: this has been partially disabled
```
## `sayori_name_scare`

| File |
| ---:|
| `script-easter-eggs` |

```
sayori music chnage/scare
```
## `spaceroom`

| File |
| ---:|
| `script-ch30` |

```
IN:
  start_bg - the background image we want to start with. Use this for
      special greetings. None uses the default spaceroom images.
      NOTE: This is called using renpy.show(), so pass the string name of
          the image you want (NOT FILENAME)
      NOTE: You're responsible for setting spaceroom back to normal though
      (Default: None)
  hide_mask - True will hide the mask, false will not
      (Default: False)
  hide_monika - True will hide monika, false will not
      (Default: False)
  dissolve_all - True will dissolve everything, False will not
      NOTE: takes priority over dissolve masks
      (Default: False)
  dissolve_masks - True will dissolve masks, False will not.
      NOTE: this also drives functionality with force_exp
      NOTE: if dissolve_all is True, this is ignored.
      (Default: False)
  scene_change - True will prefix the draw with a scene call. scene black
      will always be used.
      (Default: False)
  force_exp - if not None, then we use this instead of monika idle.
      NOTE: this must be a string
      NOTE: if passed in, this will override aff-based exps from dissolving.
      (Default: None)
  day_bg - the room we'll be showing during the day
      NOTE: must be string
      NOTE: if passed in, it will override the current background day_bg
      (Default: None)
  night_bg - the room we'll be showing during the night
      NOTE: must be string
      NOTE: if passed in, it will override the current background night_bg
      (Default: None)
  show_emptydesk - behavior is determined by `hide_monika`
      if hide_monika is True - True will show emptydesk and False will do
          nothing.
      if hide_monika is False - True will do nothing and False will hide
          emptydesk after Monika is shown.
      (Default: True)
```
## `start`

| File |
| ---:|
| `script` |

```
For simplicity, I'm taking the MAS lines from the script.rpy that was made. It's basically the same.
```
## `unlock_prompt`

| File |
| ---:|
| `event-handler` |

```
This either picks an event from the pool or events or, sometimes offers a set
of three topics to get an event from.
```
## `update_now`

| File |
| ---:|
| `updater` |

```
This file goes through the actions for updating Monika After story
```
## `v0_10_0`

| File |
| ---:|
| `updates` |

```
0.10.0
```
## `v0_10_1`

| File |
| ---:|
| `updates` |

```
0.10.1
```
## `v0_10_2`

| File |
| ---:|
| `updates` |

```
0.10.2
```
## `v0_10_3`

| File |
| ---:|
| `updates` |

```
0.10.3
```
## `v0_10_4`

| File |
| ---:|
| `updates` |

```
0.10.4
```
## `v0_10_5`

| File |
| ---:|
| `updates` |

```
0.10.5
```
## `v0_10_6`

| File |
| ---:|
| `updates` |

```
0.10.6
```
## `v0_10_7`

| File |
| ---:|
| `updates` |

```
0.10.7
```
## `v0_11_0`

| File |
| ---:|
| `updates` |

```
non generic updates go here
0.11.0
```
## `v0_3_0`

| File |
| ---:|
| `updates` |

```
0.3.0
```
## `v0_4_0`

| File |
| ---:|
| `updates` |

```
0.4.0
```
## `v0_7_0`

| File |
| ---:|
| `updates` |

```
0.7.0
```
## `v0_7_1`

| File |
| ---:|
| `updates` |

```
0.7.1
```
## `v0_7_2`

| File |
| ---:|
| `updates` |

```
0.7.2
```
## `v0_7_4`

| File |
| ---:|
| `updates` |

```
NOTE: well shit this wasnt ready and now it has to be done later
0.7.4
```
## `v0_8_0`

| File |
| ---:|
| `updates` |

```
0.8.0
```
## `v0_8_1`

| File |
| ---:|
| `updates` |

```
0.8.1
```
## `v0_8_10`

| File |
| ---:|
| `updates` |

```
0.8.10
```
## `v0_8_11`

| File |
| ---:|
| `updates` |

```
0.8.11
```
## `v0_8_13`

| File |
| ---:|
| `updates` |

```
0.8.13
```
## `v0_8_14`

| File |
| ---:|
| `updates` |

```
0.8.14
```
## `v0_8_2`

| File |
| ---:|
| `updates` |

```
0.8.2
```
## `v0_8_3`

| File |
| ---:|
| `updates` |

```
0.8.3
```
## `v0_8_4`

| File |
| ---:|
| `updates` |

```
0.8.4
```
## `v0_8_6`

| File |
| ---:|
| `updates` |

```
0.8.6
```
## `v0_8_9`

| File |
| ---:|
| `updates` |

```
0.8.9
```
## `v0_9_0`

| File |
| ---:|
| `updates` |

```
0.9.0
```
## `v0_9_1`

| File |
| ---:|
| `updates` |

```
0.9.1
```
## `v0_9_2`

| File |
| ---:|
| `updates` |

```
0.9.2
```
## `v0_9_4`

| File |
| ---:|
| `updates` |

```
0.9.4
```
## `v0_9_5`

| File |
| ---:|
| `updates` |

```
0.9.5
```
## `vgenericupdate`

| File |
| ---:|
| `updates` |

```
all generic (only updateTopicID calls) go here
```
## `vv_updates_topics`

| File |
| ---:|
| `updates_topics` |

```
init label for updats_topics
```
## `yuri_name_scare`

| File |
| ---:|
| `script-easter-eggs` |

```
yuri scare
```
## `zz_mas_poemgame_sampleone`

| File |
| ---:|
| `zz_poemgame` |

```
This label calls actthree but with hopping monika and words gathered
```
## `zz_mas_poemgame_samplethree`

| File |
| ---:|
| `zz_poemgame` |

```
This label does a display mode run while gathering words
This also shows how to do the call via kwargs
```
## `zz_mas_poemgame_sampletwo`

| File |
| ---:|
| `zz_poemgame` |

```
This label calls act one but with words being gathered
```
# Screens

#### TOC
* [`bye_922_delegate`](#bye_922_delegate-1)
* [`bye_d25_delegate`](#bye_d25_delegate-1)
* [`bye_d25_first_time_out`](#bye_d25_first_time_out-1)
* [`bye_d25_second_time_out`](#bye_d25_second_time_out-1)
* [`bye_d25e_delegate`](#bye_d25e_delegate-1)
* [`bye_d25e_first_time_out`](#bye_d25e_first_time_out-1)
* [`bye_d25e_second_time_out`](#bye_d25e_second_time_out-1)
* [`bye_f14`](#bye_f14-1)
* [`call_next_event`](#call_next_event-1)
* [`ch30_autoload`](#ch30_autoload-1)
* [`ch30_day`](#ch30_day-1)
* [`ch30_end`](#ch30_end-1)
* [`ch30_hour`](#ch30_hour-1)
* [`ch30_minute`](#ch30_minute-1)
* [`ch30_reset`](#ch30_reset-1)
* [`chara_monika_scare`](#chara_monika_scare-1)
* [`display_music_menu`](#display_music_menu-1)
* [`game_hangman`](#game_hangman-1)
* [`greeting_d25_returned_d25`](#greeting_d25_returned_d25-1)
* [`greeting_d25_returned_post_d25`](#greeting_d25_returned_post_d25-1)
* [`greeting_d25e_returned_d25`](#greeting_d25e_returned_d25-1)
* [`greeting_d25e_returned_d25e`](#greeting_d25e_returned_d25e-1)
* [`greeting_d25e_returned_post_d25`](#greeting_d25e_returned_post_d25-1)
* [`greeting_d25p_returned_nyd`](#greeting_d25p_returned_nyd-1)
* [`greeting_o31_cleanup`](#greeting_o31_cleanup-1)
* [`greeting_pd25e_returned_d25`](#greeting_pd25e_returned_d25-1)
* [`greeting_returned_home_bday`](#greeting_returned_home_bday-1)
* [`greeting_returned_home_f14`](#greeting_returned_home_f14-1)
* [`greeting_returned_home_player_bday`](#greeting_returned_home_player_bday-1)
* [`intro_end`](#intro_end-1)
* [`mas_affection_happynotif`](#mas_affection_happynotif-1)
* [`mas_affection_upsetwarn`](#mas_affection_upsetwarn-1)
* [`mas_background_change`](#mas_background_change-1)
* [`mas_bday_autoload_check`](#mas_bday_autoload_check-1)
* [`mas_bday_player_bday_select`](#mas_bday_player_bday_select-1)
* [`mas_bday_surprise_party_reaction`](#mas_bday_surprise_party_reaction-1)
* [`mas_birthdate_year_redux`](#mas_birthdate_year_redux-1)
* [`mas_bookmarks_unbookmark`](#mas_bookmarks_unbookmark-1)
* [`mas_ch30_select_unseen`](#mas_ch30_select_unseen-1)
* [`mas_change_weather`](#mas_change_weather-1)
* [`mas_chess_confirm_context`](#mas_chess_confirm_context-1)
* [`mas_chess_dlg_chess_locked`](#mas_chess_dlg_chess_locked-1)
* [`mas_chess_dlg_game_drawed`](#mas_chess_dlg_game_drawed-1)
* [`mas_chess_dlg_game_in_progress`](#mas_chess_dlg_game_in_progress-1)
* [`mas_chess_dlg_game_in_progress_end`](#mas_chess_dlg_game_in_progress_end-1)
* [`mas_chess_dlg_game_in_progress_end_quick`](#mas_chess_dlg_game_in_progress_end_quick-1)
* [`mas_chess_dlg_game_monika_lose`](#mas_chess_dlg_game_monika_lose-1)
* [`mas_chess_dlg_game_monika_lose_0`](#mas_chess_dlg_game_monika_lose_0-1)
* [`mas_chess_dlg_game_monika_lose_1`](#mas_chess_dlg_game_monika_lose_1-1)
* [`mas_chess_dlg_game_monika_lose_10`](#mas_chess_dlg_game_monika_lose_10-1)
* [`mas_chess_dlg_game_monika_lose_11`](#mas_chess_dlg_game_monika_lose_11-1)
* [`mas_chess_dlg_game_monika_lose_12`](#mas_chess_dlg_game_monika_lose_12-1)
* [`mas_chess_dlg_game_monika_lose_13`](#mas_chess_dlg_game_monika_lose_13-1)
* [`mas_chess_dlg_game_monika_lose_14`](#mas_chess_dlg_game_monika_lose_14-1)
* [`mas_chess_dlg_game_monika_lose_15`](#mas_chess_dlg_game_monika_lose_15-1)
* [`mas_chess_dlg_game_monika_lose_16`](#mas_chess_dlg_game_monika_lose_16-1)
* [`mas_chess_dlg_game_monika_lose_17`](#mas_chess_dlg_game_monika_lose_17-1)
* [`mas_chess_dlg_game_monika_lose_18`](#mas_chess_dlg_game_monika_lose_18-1)
* [`mas_chess_dlg_game_monika_lose_19`](#mas_chess_dlg_game_monika_lose_19-1)
* [`mas_chess_dlg_game_monika_lose_2`](#mas_chess_dlg_game_monika_lose_2-1)
* [`mas_chess_dlg_game_monika_lose_20`](#mas_chess_dlg_game_monika_lose_20-1)
* [`mas_chess_dlg_game_monika_lose_3`](#mas_chess_dlg_game_monika_lose_3-1)
* [`mas_chess_dlg_game_monika_lose_4`](#mas_chess_dlg_game_monika_lose_4-1)
* [`mas_chess_dlg_game_monika_lose_5`](#mas_chess_dlg_game_monika_lose_5-1)
* [`mas_chess_dlg_game_monika_lose_6`](#mas_chess_dlg_game_monika_lose_6-1)
* [`mas_chess_dlg_game_monika_lose_7`](#mas_chess_dlg_game_monika_lose_7-1)
* [`mas_chess_dlg_game_monika_lose_8`](#mas_chess_dlg_game_monika_lose_8-1)
* [`mas_chess_dlg_game_monika_lose_9`](#mas_chess_dlg_game_monika_lose_9-1)
* [`mas_chess_dlg_game_monika_lose_end`](#mas_chess_dlg_game_monika_lose_end-1)
* [`mas_chess_dlg_game_monika_lose_end_quick`](#mas_chess_dlg_game_monika_lose_end_quick-1)
* [`mas_chess_dlg_game_monika_lose_pre`](#mas_chess_dlg_game_monika_lose_pre-1)
* [`mas_chess_dlg_game_monika_lose_silly`](#mas_chess_dlg_game_monika_lose_silly-1)
* [`mas_chess_dlg_game_monika_win`](#mas_chess_dlg_game_monika_win-1)
* [`mas_chess_dlg_game_monika_win_0`](#mas_chess_dlg_game_monika_win_0-1)
* [`mas_chess_dlg_game_monika_win_1`](#mas_chess_dlg_game_monika_win_1-1)
* [`mas_chess_dlg_game_monika_win_10`](#mas_chess_dlg_game_monika_win_10-1)
* [`mas_chess_dlg_game_monika_win_11`](#mas_chess_dlg_game_monika_win_11-1)
* [`mas_chess_dlg_game_monika_win_12`](#mas_chess_dlg_game_monika_win_12-1)
* [`mas_chess_dlg_game_monika_win_13`](#mas_chess_dlg_game_monika_win_13-1)
* [`mas_chess_dlg_game_monika_win_14`](#mas_chess_dlg_game_monika_win_14-1)
* [`mas_chess_dlg_game_monika_win_15`](#mas_chess_dlg_game_monika_win_15-1)
* [`mas_chess_dlg_game_monika_win_16`](#mas_chess_dlg_game_monika_win_16-1)
* [`mas_chess_dlg_game_monika_win_17`](#mas_chess_dlg_game_monika_win_17-1)
* [`mas_chess_dlg_game_monika_win_18`](#mas_chess_dlg_game_monika_win_18-1)
* [`mas_chess_dlg_game_monika_win_19`](#mas_chess_dlg_game_monika_win_19-1)
* [`mas_chess_dlg_game_monika_win_2`](#mas_chess_dlg_game_monika_win_2-1)
* [`mas_chess_dlg_game_monika_win_20`](#mas_chess_dlg_game_monika_win_20-1)
* [`mas_chess_dlg_game_monika_win_3`](#mas_chess_dlg_game_monika_win_3-1)
* [`mas_chess_dlg_game_monika_win_4`](#mas_chess_dlg_game_monika_win_4-1)
* [`mas_chess_dlg_game_monika_win_5`](#mas_chess_dlg_game_monika_win_5-1)
* [`mas_chess_dlg_game_monika_win_6`](#mas_chess_dlg_game_monika_win_6-1)
* [`mas_chess_dlg_game_monika_win_7`](#mas_chess_dlg_game_monika_win_7-1)
* [`mas_chess_dlg_game_monika_win_8`](#mas_chess_dlg_game_monika_win_8-1)
* [`mas_chess_dlg_game_monika_win_9`](#mas_chess_dlg_game_monika_win_9-1)
* [`mas_chess_dlg_game_monika_win_end`](#mas_chess_dlg_game_monika_win_end-1)
* [`mas_chess_dlg_game_monika_win_end_quick`](#mas_chess_dlg_game_monika_win_end_quick-1)
* [`mas_chess_dlg_game_monika_win_pre`](#mas_chess_dlg_game_monika_win_pre-1)
* [`mas_chess_dlg_game_monika_win_rekt`](#mas_chess_dlg_game_monika_win_rekt-1)
* [`mas_chess_dlg_game_monika_win_surr`](#mas_chess_dlg_game_monika_win_surr-1)
* [`mas_chess_dlg_game_monika_win_surr_0`](#mas_chess_dlg_game_monika_win_surr_0-1)
* [`mas_chess_dlg_game_monika_win_surr_1`](#mas_chess_dlg_game_monika_win_surr_1-1)
* [`mas_chess_dlg_game_monika_win_surr_10`](#mas_chess_dlg_game_monika_win_surr_10-1)
* [`mas_chess_dlg_game_monika_win_surr_11`](#mas_chess_dlg_game_monika_win_surr_11-1)
* [`mas_chess_dlg_game_monika_win_surr_12`](#mas_chess_dlg_game_monika_win_surr_12-1)
* [`mas_chess_dlg_game_monika_win_surr_13`](#mas_chess_dlg_game_monika_win_surr_13-1)
* [`mas_chess_dlg_game_monika_win_surr_14`](#mas_chess_dlg_game_monika_win_surr_14-1)
* [`mas_chess_dlg_game_monika_win_surr_15`](#mas_chess_dlg_game_monika_win_surr_15-1)
* [`mas_chess_dlg_game_monika_win_surr_16`](#mas_chess_dlg_game_monika_win_surr_16-1)
* [`mas_chess_dlg_game_monika_win_surr_17`](#mas_chess_dlg_game_monika_win_surr_17-1)
* [`mas_chess_dlg_game_monika_win_surr_18`](#mas_chess_dlg_game_monika_win_surr_18-1)
* [`mas_chess_dlg_game_monika_win_surr_19`](#mas_chess_dlg_game_monika_win_surr_19-1)
* [`mas_chess_dlg_game_monika_win_surr_2`](#mas_chess_dlg_game_monika_win_surr_2-1)
* [`mas_chess_dlg_game_monika_win_surr_20`](#mas_chess_dlg_game_monika_win_surr_20-1)
* [`mas_chess_dlg_game_monika_win_surr_3`](#mas_chess_dlg_game_monika_win_surr_3-1)
* [`mas_chess_dlg_game_monika_win_surr_4`](#mas_chess_dlg_game_monika_win_surr_4-1)
* [`mas_chess_dlg_game_monika_win_surr_5`](#mas_chess_dlg_game_monika_win_surr_5-1)
* [`mas_chess_dlg_game_monika_win_surr_6`](#mas_chess_dlg_game_monika_win_surr_6-1)
* [`mas_chess_dlg_game_monika_win_surr_7`](#mas_chess_dlg_game_monika_win_surr_7-1)
* [`mas_chess_dlg_game_monika_win_surr_8`](#mas_chess_dlg_game_monika_win_surr_8-1)
* [`mas_chess_dlg_game_monika_win_surr_9`](#mas_chess_dlg_game_monika_win_surr_9-1)
* [`mas_chess_dlg_game_monika_win_surr_pre`](#mas_chess_dlg_game_monika_win_surr_pre-1)
* [`mas_chess_dlg_game_monika_win_surr_resolve`](#mas_chess_dlg_game_monika_win_surr_resolve-1)
* [`mas_chess_dlg_game_monika_win_surr_trying`](#mas_chess_dlg_game_monika_win_surr_trying-1)
* [`mas_chess_dlg_qf_edit`](#mas_chess_dlg_qf_edit-1)
* [`mas_chess_dlg_qf_edit_n_1`](#mas_chess_dlg_qf_edit_n_1-1)
* [`mas_chess_dlg_qf_edit_n_2`](#mas_chess_dlg_qf_edit_n_2-1)
* [`mas_chess_dlg_qf_edit_n_3`](#mas_chess_dlg_qf_edit_n_3-1)
* [`mas_chess_dlg_qf_edit_n_3_n`](#mas_chess_dlg_qf_edit_n_3_n-1)
* [`mas_chess_dlg_qf_edit_n_3_n_qs`](#mas_chess_dlg_qf_edit_n_3_n_qs-1)
* [`mas_chess_dlg_qf_edit_n_3_s`](#mas_chess_dlg_qf_edit_n_3_s-1)
* [`mas_chess_dlg_qf_edit_n_start`](#mas_chess_dlg_qf_edit_n_start-1)
* [`mas_chess_dlg_qf_edit_start`](#mas_chess_dlg_qf_edit_start-1)
* [`mas_chess_dlg_qf_edit_y_1`](#mas_chess_dlg_qf_edit_y_1-1)
* [`mas_chess_dlg_qf_edit_y_2`](#mas_chess_dlg_qf_edit_y_2-1)
* [`mas_chess_dlg_qf_edit_y_3`](#mas_chess_dlg_qf_edit_y_3-1)
* [`mas_chess_dlg_qf_edit_y_start`](#mas_chess_dlg_qf_edit_y_start-1)
* [`mas_chess_dlg_qf_lost`](#mas_chess_dlg_qf_lost-1)
* [`mas_chess_dlg_qf_lost_acdnt_2`](#mas_chess_dlg_qf_lost_acdnt_2-1)
* [`mas_chess_dlg_qf_lost_acdnt_3`](#mas_chess_dlg_qf_lost_acdnt_3-1)
* [`mas_chess_dlg_qf_lost_acdnt_gen`](#mas_chess_dlg_qf_lost_acdnt_gen-1)
* [`mas_chess_dlg_qf_lost_acdnt_start`](#mas_chess_dlg_qf_lost_acdnt_start-1)
* [`mas_chess_dlg_qf_lost_may_2`](#mas_chess_dlg_qf_lost_may_2-1)
* [`mas_chess_dlg_qf_lost_may_2_found`](#mas_chess_dlg_qf_lost_may_2_found-1)
* [`mas_chess_dlg_qf_lost_may_3`](#mas_chess_dlg_qf_lost_may_3-1)
* [`mas_chess_dlg_qf_lost_may_filechecker`](#mas_chess_dlg_qf_lost_may_filechecker-1)
* [`mas_chess_dlg_qf_lost_may_gen`](#mas_chess_dlg_qf_lost_may_gen-1)
* [`mas_chess_dlg_qf_lost_may_gen_found`](#mas_chess_dlg_qf_lost_may_gen_found-1)
* [`mas_chess_dlg_qf_lost_may_removed`](#mas_chess_dlg_qf_lost_may_removed-1)
* [`mas_chess_dlg_qf_lost_may_start`](#mas_chess_dlg_qf_lost_may_start-1)
* [`mas_chess_dlg_qf_lost_ofcn_3`](#mas_chess_dlg_qf_lost_ofcn_3-1)
* [`mas_chess_dlg_qf_lost_ofcn_4`](#mas_chess_dlg_qf_lost_ofcn_4-1)
* [`mas_chess_dlg_qf_lost_ofcn_5`](#mas_chess_dlg_qf_lost_ofcn_5-1)
* [`mas_chess_dlg_qf_lost_ofcn_6`](#mas_chess_dlg_qf_lost_ofcn_6-1)
* [`mas_chess_dlg_qf_lost_ofcn_gen`](#mas_chess_dlg_qf_lost_ofcn_gen-1)
* [`mas_chess_dlg_qf_lost_ofcn_start`](#mas_chess_dlg_qf_lost_ofcn_start-1)
* [`mas_chess_dlg_qf_lost_start`](#mas_chess_dlg_qf_lost_start-1)
* [`mas_chess_dlg_qs_lost`](#mas_chess_dlg_qs_lost-1)
* [`mas_chess_dlg_qs_lost_2`](#mas_chess_dlg_qs_lost_2-1)
* [`mas_chess_dlg_qs_lost_3`](#mas_chess_dlg_qs_lost_3-1)
* [`mas_chess_dlg_qs_lost_5r`](#mas_chess_dlg_qs_lost_5r-1)
* [`mas_chess_dlg_qs_lost_7r`](#mas_chess_dlg_qs_lost_7r-1)
* [`mas_chess_dlg_qs_lost_gen`](#mas_chess_dlg_qs_lost_gen-1)
* [`mas_chess_dlg_qs_lost_start`](#mas_chess_dlg_qs_lost_start-1)
* [`mas_chess_go_ham_and_delete_everything`](#mas_chess_go_ham_and_delete_everything-1)
* [`mas_chess_save_migration`](#mas_chess_save_migration-1)
* [`mas_chess_save_selected`](#mas_chess_save_selected-1)
* [`mas_clothes_change`](#mas_clothes_change-1)
* [`mas_consumables_generic_get`](#mas_consumables_generic_get-1)
* [`mas_crashed_long_prefluster`](#mas_crashed_long_prefluster-1)
* [`mas_crashed_long_qs`](#mas_crashed_long_qs-1)
* [`mas_crashed_post`](#mas_crashed_post-1)
* [`mas_crashed_quip_takecare`](#mas_crashed_quip_takecare-1)
* [`mas_crashed_start`](#mas_crashed_start-1)
* [`mas_d25_gift_starter`](#mas_d25_gift_starter-1)
* [`mas_d25_monika_holiday_intro_rh_rh`](#mas_d25_monika_holiday_intro_rh_rh-1)
* [`mas_d25_monika_holiday_intro_upset`](#mas_d25_monika_holiday_intro_upset-1)
* [`mas_d25_season_exit`](#mas_d25_season_exit-1)
* [`mas_dockstat_decrement_date_counts`](#mas_dockstat_decrement_date_counts-1)
* [`mas_dockstat_different_monika`](#mas_dockstat_different_monika-1)
* [`mas_dockstat_empty_desk`](#mas_dockstat_empty_desk-1)
* [`mas_dockstat_found_monika`](#mas_dockstat_found_monika-1)
* [`mas_dockstat_found_monika_from_empty`](#mas_dockstat_found_monika_from_empty-1)
* [`mas_dockstat_ready_to_go`](#mas_dockstat_ready_to_go-1)
* [`mas_f14_intro_generic`](#mas_f14_intro_generic-1)
* [`mas_f14_sun_dress_outro`](#mas_f14_sun_dress_outro-1)
* [`mas_farewell_start`](#mas_farewell_start-1)
* [`mas_finalfarewell`](#mas_finalfarewell-1)
* [`mas_finalfarewell_start`](#mas_finalfarewell_start-1)
* [`mas_fun_facts_end`](#mas_fun_facts_end-1)
* [`mas_gmenu_confirm_context`](#mas_gmenu_confirm_context-1)
* [`mas_gmenu_start`](#mas_gmenu_start-1)
* [`mas_gone_over_bday_check`](#mas_gone_over_bday_check-1)
* [`mas_gone_over_d25_check`](#mas_gone_over_d25_check-1)
* [`mas_gone_over_f14_check`](#mas_gone_over_f14_check-1)
* [`mas_hangman_dlg_game_end_long`](#mas_hangman_dlg_game_end_long-1)
* [`mas_hangman_dlg_game_end_short`](#mas_hangman_dlg_game_end_short-1)
* [`mas_hangman_game_end`](#mas_hangman_game_end-1)
* [`mas_hangman_game_loop`](#mas_hangman_game_loop-1)
* [`mas_holiday_d25c_autoload_check`](#mas_holiday_d25c_autoload_check-1)
* [`mas_holiday_o31_returned_home_relaunch`](#mas_holiday_o31_returned_home_relaunch-1)
* [`mas_idle_mode_greeting_cleanup`](#mas_idle_mode_greeting_cleanup-1)
* [`mas_lingerie_intro`](#mas_lingerie_intro-1)
* [`mas_lupd_v0_8_10`](#mas_lupd_v0_8_10-1)
* [`mas_mood_start`](#mas_mood_start-1)
* [`mas_o31_autoload_check`](#mas_o31_autoload_check-1)
* [`mas_piano_def_fail`](#mas_piano_def_fail-1)
* [`mas_piano_def_fc`](#mas_piano_def_fc-1)
* [`mas_piano_def_prac`](#mas_piano_def_prac-1)
* [`mas_piano_def_win`](#mas_piano_def_win-1)
* [`mas_piano_dpco_win`](#mas_piano_dpco_win-1)
* [`mas_piano_result_default`](#mas_piano_result_default-1)
* [`mas_piano_result_none`](#mas_piano_result_none-1)
* [`mas_piano_start`](#mas_piano_start-1)
* [`mas_piano_yr_fail`](#mas_piano_yr_fail-1)
* [`mas_piano_yr_fc`](#mas_piano_yr_fc-1)
* [`mas_piano_yr_prac`](#mas_piano_yr_prac-1)
* [`mas_piano_yr_win`](#mas_piano_yr_win-1)
* [`mas_player_bday_cake`](#mas_player_bday_cake-1)
* [`mas_player_bday_card`](#mas_player_bday_card-1)
* [`mas_player_bday_knock_listened`](#mas_player_bday_knock_listened-1)
* [`mas_player_bday_knock_no_listen`](#mas_player_bday_knock_no_listen-1)
* [`mas_player_bday_listen`](#mas_player_bday_listen-1)
* [`mas_player_bday_moni_sings`](#mas_player_bday_moni_sings-1)
* [`mas_player_bday_opendoor`](#mas_player_bday_opendoor-1)
* [`mas_player_bday_opendoor_listened`](#mas_player_bday_opendoor_listened-1)
* [`mas_player_bday_surprise`](#mas_player_bday_surprise-1)
* [`mas_pong_dlg_loser`](#mas_pong_dlg_loser-1)
* [`mas_pong_dlg_loser_end`](#mas_pong_dlg_loser_end-1)
* [`mas_pong_dlg_loser_fast`](#mas_pong_dlg_loser_fast-1)
* [`mas_pong_dlg_sorry_assuming`](#mas_pong_dlg_sorry_assuming-1)
* [`mas_pong_dlg_winner`](#mas_pong_dlg_winner-1)
* [`mas_pong_dlg_winner_end`](#mas_pong_dlg_winner_end-1)
* [`mas_pong_dlg_winner_fast`](#mas_pong_dlg_winner_fast-1)
* [`mas_reaction_end`](#mas_reaction_end-1)
* [`mas_reaction_gift_acs_anonymioo_ribbon_bisexualpride`](#mas_reaction_gift_acs_anonymioo_ribbon_bisexualpride-1)
* [`mas_reaction_gift_generic_clothes_json`](#mas_reaction_gift_generic_clothes_json-1)
* [`mas_reaction_gift_hairclip`](#mas_reaction_gift_hairclip-1)
* [`mas_reaction_gift_starter_d25`](#mas_reaction_gift_starter_d25-1)
* [`mas_reaction_gift_starter_f14`](#mas_reaction_gift_starter_f14-1)
* [`mas_reaction_json_ribbon_base`](#mas_reaction_json_ribbon_base-1)
* [`mas_scary_story_setup`](#mas_scary_story_setup-1)
* [`mas_selector_generic_sidebar_select_acs`](#mas_selector_generic_sidebar_select_acs-1)
* [`mas_selector_sidebar_select`](#mas_selector_sidebar_select-1)
* [`mas_selector_sidebar_select_acs`](#mas_selector_sidebar_select_acs-1)
* [`mas_selector_sidebar_select_clothes`](#mas_selector_sidebar_select_clothes-1)
* [`mas_selector_sidebar_select_hair`](#mas_selector_sidebar_select_hair-1)
* [`mas_set_gender`](#mas_set_gender-1)
* [`mas_showpoem`](#mas_showpoem-1)
* [`mas_story_begin`](#mas_story_begin-1)
* [`mas_thermos_mug_handler`](#mas_thermos_mug_handler-1)
* [`mas_transition_from_emptydesk`](#mas_transition_from_emptydesk-1)
* [`mas_transition_to_emptydesk`](#mas_transition_to_emptydesk-1)
* [`mas_w_cmd`](#mas_w_cmd-1)
* [`mas_wx_cmd`](#mas_wx_cmd-1)
* [`mas_wx_cmd_noxwait`](#mas_wx_cmd_noxwait-1)
* [`mas_x_cmd`](#mas_x_cmd-1)
* [`monika_gtod_tip009`](#monika_gtod_tip009-1)
* [`monika_hemispheres_gets_snow`](#monika_hemispheres_gets_snow-1)
* [`monika_hemispheres_nogets_snow`](#monika_hemispheres_nogets_snow-1)
* [`monika_holdme_end`](#monika_holdme_end-1)
* [`monika_kissing_motion_short`](#monika_kissing_motion_short-1)
* [`monika_ks_present`](#monika_ks_present-1)
* [`monika_player_appearance_monika_height`](#monika_player_appearance_monika_height-1)
* [`monika_ptod_tip002`](#monika_ptod_tip002-1)
* [`monika_ptod_tip003`](#monika_ptod_tip003-1)
* [`monika_ptod_tip004`](#monika_ptod_tip004-1)
* [`monika_ptod_tip005`](#monika_ptod_tip005-1)
* [`monika_ptod_tip006`](#monika_ptod_tip006-1)
* [`monika_ptod_tip007`](#monika_ptod_tip007-1)
* [`monika_ptod_tip008`](#monika_ptod_tip008-1)
* [`monika_ptod_tip009`](#monika_ptod_tip009-1)
* [`monika_secrets`](#monika_secrets-1)
* [`monika_snow_gets_snow`](#monika_snow_gets_snow-1)
* [`monika_snow_nogets_snow`](#monika_snow_nogets_snow-1)
* [`monika_timeconcern_day_0`](#monika_timeconcern_day_0-1)
* [`monika_timeconcern_day_2`](#monika_timeconcern_day_2-1)
* [`monika_timeconcern_day_allow_6`](#monika_timeconcern_day_allow_6-1)
* [`monika_timeconcern_day_allow_7`](#monika_timeconcern_day_allow_7-1)
* [`monika_timeconcern_day_allow_8`](#monika_timeconcern_day_allow_8-1)
* [`monika_timeconcern_day_final`](#monika_timeconcern_day_final-1)
* [`monika_timeconcern_disallow`](#monika_timeconcern_disallow-1)
* [`monika_timeconcern_graveyard_night`](#monika_timeconcern_graveyard_night-1)
* [`monika_timeconcern_lock`](#monika_timeconcern_lock-1)
* [`monika_timeconcern_night_0`](#monika_timeconcern_night_0-1)
* [`monika_timeconcern_night_1`](#monika_timeconcern_night_1-1)
* [`monika_timeconcern_night_2`](#monika_timeconcern_night_2-1)
* [`monika_timeconcern_night_3`](#monika_timeconcern_night_3-1)
* [`monika_timeconcern_night_4`](#monika_timeconcern_night_4-1)
* [`monika_timeconcern_night_5`](#monika_timeconcern_night_5-1)
* [`monika_timeconcern_night_6`](#monika_timeconcern_night_6-1)
* [`monika_timeconcern_night_7`](#monika_timeconcern_night_7-1)
* [`monika_timeconcern_night_after`](#monika_timeconcern_night_after-1)
* [`monika_timeconcern_night_final`](#monika_timeconcern_night_final-1)
* [`monika_timeconcern_night_finalfollowup`](#monika_timeconcern_night_finalfollowup-1)
* [`monika_zoom_fixed_duration_transition`](#monika_zoom_fixed_duration_transition-1)
* [`monika_zoom_transition`](#monika_zoom_transition-1)
* [`monika_zoom_transition_reset`](#monika_zoom_transition_reset-1)
* [`monika_zoom_value_transition`](#monika_zoom_value_transition-1)
* [`monikaroom_greeting_choice`](#monikaroom_greeting_choice-1)
* [`monikaroom_greeting_cleanup`](#monikaroom_greeting_cleanup-1)
* [`monikaroom_greeting_ear_prog_upset`](#monikaroom_greeting_ear_prog_upset-1)
* [`monikaroom_greeting_opendoor_locked`](#monikaroom_greeting_opendoor_locked-1)
* [`monikaroom_greeting_opendoor_seen`](#monikaroom_greeting_opendoor_seen-1)
* [`natsuki_name_scare`](#natsuki_name_scare-1)
* [`natsuki_name_scare_hungry`](#natsuki_name_scare_hungry-1)
* [`random_limit_reached`](#random_limit_reached-1)
* [`sayori_name_scare`](#sayori_name_scare-1)
* [`spaceroom`](#spaceroom-1)
* [`start`](#start-1)
* [`unlock_prompt`](#unlock_prompt-1)
* [`update_now`](#update_now-1)
* [`v0_10_0`](#v0_10_0-1)
* [`v0_10_1`](#v0_10_1-1)
* [`v0_10_2`](#v0_10_2-1)
* [`v0_10_3`](#v0_10_3-1)
* [`v0_10_4`](#v0_10_4-1)
* [`v0_10_5`](#v0_10_5-1)
* [`v0_10_6`](#v0_10_6-1)
* [`v0_10_7`](#v0_10_7-1)
* [`v0_11_0`](#v0_11_0-1)
* [`v0_3_0`](#v0_3_0-1)
* [`v0_4_0`](#v0_4_0-1)
* [`v0_7_0`](#v0_7_0-1)
* [`v0_7_1`](#v0_7_1-1)
* [`v0_7_2`](#v0_7_2-1)
* [`v0_7_4`](#v0_7_4-1)
* [`v0_8_0`](#v0_8_0-1)
* [`v0_8_1`](#v0_8_1-1)
* [`v0_8_10`](#v0_8_10-1)
* [`v0_8_11`](#v0_8_11-1)
* [`v0_8_13`](#v0_8_13-1)
* [`v0_8_14`](#v0_8_14-1)
* [`v0_8_2`](#v0_8_2-1)
* [`v0_8_3`](#v0_8_3-1)
* [`v0_8_4`](#v0_8_4-1)
* [`v0_8_6`](#v0_8_6-1)
* [`v0_8_9`](#v0_8_9-1)
* [`v0_9_0`](#v0_9_0-1)
* [`v0_9_1`](#v0_9_1-1)
* [`v0_9_2`](#v0_9_2-1)
* [`v0_9_4`](#v0_9_4-1)
* [`v0_9_5`](#v0_9_5-1)
* [`vgenericupdate`](#vgenericupdate-1)
* [`vv_updates_topics`](#vv_updates_topics-1)
* [`yuri_name_scare`](#yuri_name_scare-1)
* [`zz_mas_poemgame_sampleone`](#zz_mas_poemgame_sampleone-1)
* [`zz_mas_poemgame_samplethree`](#zz_mas_poemgame_samplethree-1)
* [`zz_mas_poemgame_sampletwo`](#zz_mas_poemgame_sampletwo-1)

## `bye_922_delegate`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] DOCKSTAT FARES
```
## `bye_d25_delegate`

| File |
| ---:|
| `script-holidays` |

```
Christmas Day dockingstation
```
## `bye_d25_first_time_out`

| File |
| ---:|
| `script-holidays` |

```
first time out on d25
```
## `bye_d25_second_time_out`

| File |
| ---:|
| `script-holidays` |

```
second time out on d25
```
## `bye_d25e_delegate`

| File |
| ---:|
| `script-holidays` |

```
Christmas Eve dockingstation
```
## `bye_d25e_first_time_out`

| File |
| ---:|
| `script-holidays` |

```
first time you take her out on d25e
```
## `bye_d25e_second_time_out`

| File |
| ---:|
| `script-holidays` |

```
second time you take her out on d25e
```
## `bye_f14`

| File |
| ---:|
| `script-holidays` |

```
[HOL050] dockstat farwell###############################
```
## `call_next_event`

| File |
| ---:|
| `event-handler` |

```
This calls the next event in the list. It returns the name of the
event called or None if the list is empty or the label is invalid

```
## `ch30_autoload`

| File |
| ---:|
| `script-ch30` |

```
NOTE: START HERE
```
## `ch30_day`

| File |
| ---:|
| `script-ch30` |

```
label for things that should run about once per day
NOTE: it only runs when the day changes, so don't expect this to run on
  staart right away
```
## `ch30_end`

| File |
| ---:|
| `script-ch30` |

```
adding this label so people get redirected to main
this probably occurs when people install the mod right after deleting
monika, so we could probably throw in something here
```
## `ch30_hour`

| File |
| ---:|
| `script-ch30` |

```
label for things that should run about once per hour
NOTE: it only runs when the hour changes, so don't expect this to run
  on start right away
```
## `ch30_minute`

| File |
| ---:|
| `script-ch30` |

```
label for things that should run about once per minute
NOTE: it only runs whent he minute changes, so don't expect this to run
  on start right away
```
## `ch30_reset`

| File |
| ---:|
| `script-ch30` |

```
label for things that may reset after a certain amount of time/conditions
```
## `chara_monika_scare`

| File |
| ---:|
| `script-introduction` |

```
Credit for any assets from Undertale belongs to Toby Fox
```
## `display_music_menu`

| File |
| ---:|
| `zz_music_selector` |

```
sets locks and calls hte appropriate screen
```
## `game_hangman`

| File |
| ---:|
| `zz_hangman` |

```
entry point for the hangman game
```
## `greeting_d25_returned_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from d25 date on d25
```
## `greeting_d25_returned_post_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from d25 date after d25
```
## `greeting_d25e_returned_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from d25e date on d25
```
## `greeting_d25e_returned_d25e`

| File |
| ---:|
| `script-holidays` |

```
returned from d25e date on d25e
```
## `greeting_d25e_returned_post_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from d25e date (or left before d25e) after d25 but before nyd is over
```
## `greeting_d25p_returned_nyd`

| File |
| ---:|
| `script-holidays` |

```
============================================================Greeting returned home D25P NYD(P)============================================================#
```
## `greeting_o31_cleanup`

| File |
| ---:|
| `script-holidays` |

```
Cleanup for o31 greets
```
## `greeting_pd25e_returned_d25`

| File |
| ---:|
| `script-holidays` |

```
returned from pd25e date on d25
```
## `greeting_returned_home_bday`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] DOCKSTAT GREETS ##########
```
## `greeting_returned_home_f14`

| File |
| ---:|
| `script-holidays` |

```
[HOL050] dockstat greet################################
```
## `greeting_returned_home_player_bday`

| File |
| ---:|
| `script-holidays` |

```
player_bday dock stat greets##################################################
```
## `intro_end`

| File |
| ---:|
| `script-introduction` |

```
label for the end so we can jump to this if we timed out in the previous menu
we fall thru to this if not
```
## `mas_affection_happynotif`

| File |
| ---:|
| `script-affection` |

```
Event to indicate that Monika is happy to be receiving your affection.
```
## `mas_affection_upsetwarn`

| File |
| ---:|
| `script-affection` |

```
Event to warn player that Monika feels like she's not receiving the affection she deserves.
```
## `mas_background_change`

| File |
| ---:|
| `zz_backgrounds` |

```
Generic background changing label, can be used if we wanted a sort of story related change
```
## `mas_bday_autoload_check`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] AUTOLOAD
```
## `mas_bday_player_bday_select`

| File |
| ---:|
| `script-story-events` |

```
label mas_bday_player_bday:
```
## `mas_bday_surprise_party_reaction`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] PARTY REACTION
```
## `mas_birthdate_year_redux`

| File |
| ---:|
| `script-story-events` |

```
fixes a rare case for unstable players that were able to confirm a birthdate with an invalid year
```
## `mas_bookmarks_unbookmark`

| File |
| ---:|
| `event-handler` |

```
unbookmark flow
IN:
  bookmarks_disp - list of displayable menu bookmarks.
  regen - function used to regenerate bookmarks_disp

IN/OUT:
  bookmarks_pl - list of available bookmark prompt/label tuples
      items are removed as they are unbookmarked

RETURNS: list of displayable menu bookmarks. migtht be regenerated.
```
## `mas_ch30_select_unseen`

| File |
| ---:|
| `script-ch30` |

```
topic selection labels
```
## `mas_change_weather`

| File |
| ---:|
| `zz_weather` |

```
Changes weather if given a proper weather object
NOTE: we always scene change here
NOTE: if you need to change weather without chanign scene, use the
  set

IN:
  new_weather - weather object to change to
  by_user - whether or not user forced weather
```
## `mas_chess_confirm_context`

| File |
| ---:|
| `chess` |

```
label for new context for confirm screen
```
## `mas_chess_dlg_chess_locked`

| File |
| ---:|
| `chess` |

```
general dialogue
if chess is locked
```
## `mas_chess_dlg_game_drawed`

| File |
| ---:|
| `chess` |

```
draw game
```
## `mas_chess_dlg_game_in_progress`

| File |
| ---:|
| `chess` |

```
in progress game
```
## `mas_chess_dlg_game_in_progress_end`

| File |
| ---:|
| `chess` |

```
game in progress
```
## `mas_chess_dlg_game_in_progress_end_quick`

| File |
| ---:|
| `chess` |

```
quick version of game in progress
```
## `mas_chess_dlg_game_monika_lose`

| File |
| ---:|
| `chess` |

```
main monika lose label
```
## `mas_chess_dlg_game_monika_lose_0`

| File |
| ---:|
| `chess` |

```
losing, chess strength 0
```
## `mas_chess_dlg_game_monika_lose_1`

| File |
| ---:|
| `chess` |

```
losing, chess strength 1
```
## `mas_chess_dlg_game_monika_lose_10`

| File |
| ---:|
| `chess` |

```
losing, chess strength 10
```
## `mas_chess_dlg_game_monika_lose_11`

| File |
| ---:|
| `chess` |

```
losing, chess strength 11
```
## `mas_chess_dlg_game_monika_lose_12`

| File |
| ---:|
| `chess` |

```
losing, chess strength 12
```
## `mas_chess_dlg_game_monika_lose_13`

| File |
| ---:|
| `chess` |

```
losing, chess strength 13
```
## `mas_chess_dlg_game_monika_lose_14`

| File |
| ---:|
| `chess` |

```
losing, chess strength 14
```
## `mas_chess_dlg_game_monika_lose_15`

| File |
| ---:|
| `chess` |

```
losing, chess strength 15
```
## `mas_chess_dlg_game_monika_lose_16`

| File |
| ---:|
| `chess` |

```
losing, chess strength 16
```
## `mas_chess_dlg_game_monika_lose_17`

| File |
| ---:|
| `chess` |

```
losing, chess strength 17
```
## `mas_chess_dlg_game_monika_lose_18`

| File |
| ---:|
| `chess` |

```
losing, chess strength 18
```
## `mas_chess_dlg_game_monika_lose_19`

| File |
| ---:|
| `chess` |

```
losing, chess strength 19
```
## `mas_chess_dlg_game_monika_lose_2`

| File |
| ---:|
| `chess` |

```
losing, chess strength 2
```
## `mas_chess_dlg_game_monika_lose_20`

| File |
| ---:|
| `chess` |

```
losing, chess strength 20
```
## `mas_chess_dlg_game_monika_lose_3`

| File |
| ---:|
| `chess` |

```
losing, chess strength 3
```
## `mas_chess_dlg_game_monika_lose_4`

| File |
| ---:|
| `chess` |

```
losing, chess strength 4
```
## `mas_chess_dlg_game_monika_lose_5`

| File |
| ---:|
| `chess` |

```
losing, chess strength 5
```
## `mas_chess_dlg_game_monika_lose_6`

| File |
| ---:|
| `chess` |

```
losing, chess strength 6
```
## `mas_chess_dlg_game_monika_lose_7`

| File |
| ---:|
| `chess` |

```
losing, chess strength 7
```
## `mas_chess_dlg_game_monika_lose_8`

| File |
| ---:|
| `chess` |

```
losing, chess strength 8
```
## `mas_chess_dlg_game_monika_lose_9`

| File |
| ---:|
| `chess` |

```
losing, chess strength 9
```
## `mas_chess_dlg_game_monika_lose_end`

| File |
| ---:|
| `chess` |

```
monika lost
```
## `mas_chess_dlg_game_monika_lose_end_quick`

| File |
| ---:|
| `chess` |

```
quick version of monika lose
```
## `mas_chess_dlg_game_monika_lose_pre`

| File |
| ---:|
| `chess` |

```
monika loses
monika lose label start dialogue
```
## `mas_chess_dlg_game_monika_lose_silly`

| File |
| ---:|
| `chess` |

```
losing label quips
monika calls you silly
thanks syn
```
## `mas_chess_dlg_game_monika_win`

| File |
| ---:|
| `chess` |

```
main monika win label
```
## `mas_chess_dlg_game_monika_win_0`

| File |
| ---:|
| `chess` |

```
winning, chess strength 0
```
## `mas_chess_dlg_game_monika_win_1`

| File |
| ---:|
| `chess` |

```
winning, chess strength 1
```
## `mas_chess_dlg_game_monika_win_10`

| File |
| ---:|
| `chess` |

```
winning, chess strength 10
```
## `mas_chess_dlg_game_monika_win_11`

| File |
| ---:|
| `chess` |

```
winning, chess strength 11
```
## `mas_chess_dlg_game_monika_win_12`

| File |
| ---:|
| `chess` |

```
winning, chess strength 12
```
## `mas_chess_dlg_game_monika_win_13`

| File |
| ---:|
| `chess` |

```
winning, chess strength 13
```
## `mas_chess_dlg_game_monika_win_14`

| File |
| ---:|
| `chess` |

```
winning, chess strength 14
```
## `mas_chess_dlg_game_monika_win_15`

| File |
| ---:|
| `chess` |

```
winning, chess strength 15
```
## `mas_chess_dlg_game_monika_win_16`

| File |
| ---:|
| `chess` |

```
winning, chess strength 16
```
## `mas_chess_dlg_game_monika_win_17`

| File |
| ---:|
| `chess` |

```
winning, chess strength 17
```
## `mas_chess_dlg_game_monika_win_18`

| File |
| ---:|
| `chess` |

```
winning, chess strength 18
```
## `mas_chess_dlg_game_monika_win_19`

| File |
| ---:|
| `chess` |

```
winning, chess strength 19
```
## `mas_chess_dlg_game_monika_win_2`

| File |
| ---:|
| `chess` |

```
winning, chess strength 2
```
## `mas_chess_dlg_game_monika_win_20`

| File |
| ---:|
| `chess` |

```
winning, chess strength 20
```
## `mas_chess_dlg_game_monika_win_3`

| File |
| ---:|
| `chess` |

```
winning, chess strength 3
```
## `mas_chess_dlg_game_monika_win_4`

| File |
| ---:|
| `chess` |

```
winning, chess strength 4
```
## `mas_chess_dlg_game_monika_win_5`

| File |
| ---:|
| `chess` |

```
winning, chess strength 5
```
## `mas_chess_dlg_game_monika_win_6`

| File |
| ---:|
| `chess` |

```
winning, chess strength 6
```
## `mas_chess_dlg_game_monika_win_7`

| File |
| ---:|
| `chess` |

```
winning, chess strength 7
```
## `mas_chess_dlg_game_monika_win_8`

| File |
| ---:|
| `chess` |

```
winning, chess strength 8
```
## `mas_chess_dlg_game_monika_win_9`

| File |
| ---:|
| `chess` |

```
winning, chess strength 9
```
## `mas_chess_dlg_game_monika_win_end`

| File |
| ---:|
| `chess` |

```
chess has ended dialogue
monika won
```
## `mas_chess_dlg_game_monika_win_end_quick`

| File |
| ---:|
| `chess` |

```
quick version of monika win
```
## `mas_chess_dlg_game_monika_win_pre`

| File |
| ---:|
| `chess` |

```
monika wins
monika win pre dialogue
```
## `mas_chess_dlg_game_monika_win_rekt`

| File |
| ---:|
| `chess` |

```
monika wins quips
```
## `mas_chess_dlg_game_monika_win_surr`

| File |
| ---:|
| `chess` |

```
main monika win by earlt surrenders label
```
## `mas_chess_dlg_game_monika_win_surr_0`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 0
```
## `mas_chess_dlg_game_monika_win_surr_1`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 1
```
## `mas_chess_dlg_game_monika_win_surr_10`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 10
```
## `mas_chess_dlg_game_monika_win_surr_11`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 11
```
## `mas_chess_dlg_game_monika_win_surr_12`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 12
```
## `mas_chess_dlg_game_monika_win_surr_13`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 13
```
## `mas_chess_dlg_game_monika_win_surr_14`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 14
```
## `mas_chess_dlg_game_monika_win_surr_15`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 15
```
## `mas_chess_dlg_game_monika_win_surr_16`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 16
```
## `mas_chess_dlg_game_monika_win_surr_17`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 17
```
## `mas_chess_dlg_game_monika_win_surr_18`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 18
```
## `mas_chess_dlg_game_monika_win_surr_19`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 19
```
## `mas_chess_dlg_game_monika_win_surr_2`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 2
```
## `mas_chess_dlg_game_monika_win_surr_20`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 20
```
## `mas_chess_dlg_game_monika_win_surr_3`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 3
```
## `mas_chess_dlg_game_monika_win_surr_4`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 4
```
## `mas_chess_dlg_game_monika_win_surr_5`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 5
```
## `mas_chess_dlg_game_monika_win_surr_6`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 6
```
## `mas_chess_dlg_game_monika_win_surr_7`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 7
```
## `mas_chess_dlg_game_monika_win_surr_8`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 8
```
## `mas_chess_dlg_game_monika_win_surr_9`

| File |
| ---:|
| `chess` |

```
winning by surrender, chess strength 9
```
## `mas_chess_dlg_game_monika_win_surr_pre`

| File |
| ---:|
| `chess` |

```
monika wins by early surrender
monika win by early surrender dialogue start
```
## `mas_chess_dlg_game_monika_win_surr_resolve`

| File |
| ---:|
| `chess` |

```
monika wins by early surrender quips
poor resolve
```
## `mas_chess_dlg_game_monika_win_surr_trying`

| File |
| ---:|
| `chess` |

```
have you tried
```
## `mas_chess_dlg_qf_edit`

| File |
| ---:|
| `chess` |

```
quickfile edited
main label for quickfile edited flow
```
## `mas_chess_dlg_qf_edit_n_1`

| File |
| ---:|
| `chess` |

```
1st time no edit
```
## `mas_chess_dlg_qf_edit_n_2`

| File |
| ---:|
| `chess` |

```
2nd time no edit
```
## `mas_chess_dlg_qf_edit_n_3`

| File |
| ---:|
| `chess` |

```
3rd time no edit
```
## `mas_chess_dlg_qf_edit_n_3_n`

| File |
| ---:|
| `chess` |

```
3rd time no edit, no sorry
```
## `mas_chess_dlg_qf_edit_n_3_n_qs`

| File |
| ---:|
| `chess` |

```
3rd time no edit, sorry, edit qs
```
## `mas_chess_dlg_qf_edit_n_3_s`

| File |
| ---:|
| `chess` |

```
3rd time no edit, sorry
```
## `mas_chess_dlg_qf_edit_n_start`

| File |
| ---:|
| `chess` |

```
No Edit flow
```
## `mas_chess_dlg_qf_edit_start`

| File |
| ---:|
| `chess` |

```
intro to quickfile edited
```
## `mas_chess_dlg_qf_edit_y_1`

| File |
| ---:|
| `chess` |

```
first time yes edit
```
## `mas_chess_dlg_qf_edit_y_2`

| File |
| ---:|
| `chess` |

```
2nd time yes edit
```
## `mas_chess_dlg_qf_edit_y_3`

| File |
| ---:|
| `chess` |

```
3rd time yes edit
```
## `mas_chess_dlg_qf_edit_y_start`

| File |
| ---:|
| `chess` |

```
Yes Edit flow
```
## `mas_chess_dlg_qf_lost`

| File |
| ---:|
| `chess` |

```
quickfile lost
main label for quickfile lost flow
```
## `mas_chess_dlg_qf_lost_acdnt_2`

| File |
| ---:|
| `chess` |

```
2nd accident monika
```
## `mas_chess_dlg_qf_lost_acdnt_3`

| File |
| ---:|
| `chess` |

```
3rd accident monika
```
## `mas_chess_dlg_qf_lost_acdnt_gen`

| File |
| ---:|
| `chess` |

```
generic accident monika
```
## `mas_chess_dlg_qf_lost_acdnt_start`

| File |
| ---:|
| `chess` |

```
Accident monika flow
```
## `mas_chess_dlg_qf_lost_may_2`

| File |
| ---:|
| `chess` |

```
2nd time maybe monika
```
## `mas_chess_dlg_qf_lost_may_2_found`

| File |
| ---:|
| `chess` |

```
2nd time maybe monika, found file
```
## `mas_chess_dlg_qf_lost_may_3`

| File |
| ---:|
| `chess` |

```
3rd time maybe monika
```
## `mas_chess_dlg_qf_lost_may_filechecker`

| File |
| ---:|
| `chess` |

```
maybe monika file checking parts
```
## `mas_chess_dlg_qf_lost_may_gen`

| File |
| ---:|
| `chess` |

```
generic maybe monika
NOTE: we do a check for the file every line
```
## `mas_chess_dlg_qf_lost_may_gen_found`

| File |
| ---:|
| `chess` |

```
generic maybe monika, found file
```
## `mas_chess_dlg_qf_lost_may_removed`

| File |
| ---:|
| `chess` |

```
maybe monika, but player removed the file again!
```
## `mas_chess_dlg_qf_lost_may_start`

| File |
| ---:|
| `chess` |

```
maybe monika flow
```
## `mas_chess_dlg_qf_lost_ofcn_3`

| File |
| ---:|
| `chess` |

```
3rd time you ofcn monika
```
## `mas_chess_dlg_qf_lost_ofcn_4`

| File |
| ---:|
| `chess` |

```
4th time you ofcn monika
```
## `mas_chess_dlg_qf_lost_ofcn_5`

| File |
| ---:|
| `chess` |

```
5th time you ofcn monika
```
## `mas_chess_dlg_qf_lost_ofcn_6`

| File |
| ---:|
| `chess` |

```
6th time you ofcn monika
```
## `mas_chess_dlg_qf_lost_ofcn_gen`

| File |
| ---:|
| `chess` |

```
generic ofcnot monika
```
## `mas_chess_dlg_qf_lost_ofcn_start`

| File |
| ---:|
| `chess` |

```
of course not flow
```
## `mas_chess_dlg_qf_lost_start`

| File |
| ---:|
| `chess` |

```
intro to quickfile lost
```
## `mas_chess_dlg_qs_lost`

| File |
| ---:|
| `chess` |

```
Quicksave lost:
```
## `mas_chess_dlg_qs_lost_2`

| File |
| ---:|
| `chess` |

```
2nd time quicksave lost statement
```
## `mas_chess_dlg_qs_lost_3`

| File |
| ---:|
| `chess` |

```
3rd time quicksave lost statement
```
## `mas_chess_dlg_qs_lost_5r`

| File |
| ---:|
| `chess` |

```
5th time recurring quicksave lost statement
```
## `mas_chess_dlg_qs_lost_7r`

| File |
| ---:|
| `chess` |

```
7th time recurring quicksave lost statement
```
## `mas_chess_dlg_qs_lost_gen`

| File |
| ---:|
| `chess` |

```
generic quicksave lost statement
```
## `mas_chess_dlg_qs_lost_start`

| File |
| ---:|
| `chess` |

```
quicksave lost start
```
## `mas_chess_go_ham_and_delete_everything`

| File |
| ---:|
| `chess` |

```
do some permanent stuff
```
## `mas_chess_save_migration`

| File |
| ---:|
| `chess` |

```
label for chess save migration
```
## `mas_chess_save_selected`

| File |
| ---:|
| `chess` |

```
FALL THROUGH
```
## `mas_clothes_change`

| File |
| ---:|
| `script-story-events` |

```
Changes clothes to the given outfit.
  IN:
      outfit - the MASClothes object to change outfit to
          If None is passed, the uniform is used
      outfit_mode - does this outfit have and accompanying outfit_mode
          Defaults to False
      exp - the expression we want monika to use when she reveals the outfit
          Defaults to monika 2eua
      restore_zoom - unused
      unlock - True unlocks the outfit's selectable (if it exists)
          Defaults to False
```
## `mas_consumables_generic_get`

| File |
| ---:|
| `zz_consumables` |

```
START: Generic consumable labels
```
## `mas_crashed_long_prefluster`

| File |
| ---:|
| `script-story-events` |

```
make sure to calm her down, player
```
## `mas_crashed_long_qs`

| File |
| ---:|
| `script-story-events` |

```
long flow involves 2 questions
```
## `mas_crashed_post`

| File |
| ---:|
| `script-story-events` |

```
post crashed flow
```
## `mas_crashed_quip_takecare`

| File |
| ---:|
| `script-story-events` |

```
crash labels
```
## `mas_crashed_start`

| File |
| ---:|
| `script-story-events` |

```
start of crash flow
```
## `mas_d25_gift_starter`

| File |
| ---:|
| `script-holidays` |

```
D25 holiday gift starter/connector
```
## `mas_d25_monika_holiday_intro_rh_rh`

| File |
| ---:|
| `script-holidays` |

```
Fall through
ase we need to call just this part, like if returning from bday date from pre-d25
```
## `mas_d25_monika_holiday_intro_upset`

| File |
| ---:|
| `script-holidays` |

```
for people that started the season upset- and graduated to normal
```
## `mas_d25_season_exit`

| File |
| ---:|
| `script-holidays` |

```
D25 Season exit
```
## `mas_dockstat_decrement_date_counts`

| File |
| ---:|
| `zz_dockingstation` |

```
Call this label to reset the date vars
```
## `mas_dockstat_different_monika`

| File |
| ---:|
| `zz_dockingstation` |

```
different monika found
```
## `mas_dockstat_empty_desk`

| File |
| ---:|
| `zz_dockingstation` |

```
empty desk. This one includes file checking every 1 second
```
## `mas_dockstat_found_monika`

| File |
| ---:|
| `zz_dockingstation` |

```
found our monika
```
## `mas_dockstat_found_monika_from_empty`

| File |
| ---:|
| `zz_dockingstation` |

```
found our monika, but we coming from empty desk
```
## `mas_dockstat_ready_to_go`

| File |
| ---:|
| `zz_dockingstation` |

```
call this label when monika is ready to leave the station
RETURNS:
  true if moni can leave
  false otherwise
```
## `mas_f14_intro_generic`

| File |
| ---:|
| `script-holidays` |

```
used for when we have no new outfits to change into
```
## `mas_f14_sun_dress_outro`

| File |
| ---:|
| `script-holidays` |

```
common flow for first time sundress
```
## `mas_farewell_start`

| File |
| ---:|
| `script-farewells` |

```
farewells selection label
```
## `mas_finalfarewell`

| File |
| ---:|
| `script-affection` |

```
this will loop through the final poem everytime!
```
## `mas_finalfarewell_start`

| File |
| ---:|
| `script-affection` |

```
prepwork for the finalfarewell
```
## `mas_fun_facts_end`

| File |
| ---:|
| `script-fun-facts` |

```
Most labels end here
```
## `mas_gmenu_confirm_context`

| File |
| ---:|
| `zz_graphicsmenu` |

```
label for new context for confirm screen
```
## `mas_gmenu_start`

| File |
| ---:|
| `zz_graphicsmenu` |

```
gmenu flow start
```
## `mas_gone_over_bday_check`

| File |
| ---:|
| `script-holidays` |

```
[HOL060] GONE OVER CHECK
```
## `mas_gone_over_d25_check`

| File |
| ---:|
| `script-holidays` |

```
check to see if we missed d25 due to being on a date
```
## `mas_gone_over_f14_check`

| File |
| ---:|
| `script-holidays` |

```
if we went on a date pre-f14 and returned in the time period mas_f14_no_time_spent event runs
need to make sure we get credit for time spent and don't get the event
```
## `mas_hangman_dlg_game_end_long`

| File |
| ---:|
| `zz_hangman` |

```
dialogue related stuff
long form of ending dialgoue
```
## `mas_hangman_dlg_game_end_short`

| File |
| ---:|
| `zz_hangman` |

```
short form of ending dialogue
```
## `mas_hangman_game_end`

| File |
| ---:|
| `zz_hangman` |

```
end of game flow
```
## `mas_hangman_game_loop`

| File |
| ---:|
| `zz_hangman` |

```
looping location for the hangman game
```
## `mas_holiday_d25c_autoload_check`

| File |
| ---:|
| `script-holidays` |

```
autoload starter check
```
## `mas_holiday_o31_returned_home_relaunch`

| File |
| ---:|
| `script-holidays` |

```
post returned home greeting to setup game relaunch
```
## `mas_idle_mode_greeting_cleanup`

| File |
| ---:|
| `script-greetings` |

```
NOTE: this is auto pushed to be shown after an idle mode greeting
```
## `mas_lingerie_intro`

| File |
| ---:|
| `script-holidays` |

```
Global labels
```
## `mas_lupd_v0_8_10`

| File |
| ---:|
| `updates` |

```

SUPER LATE scripts
these scripts are for doing python things really LATE in the pipeline

USAGE:
1. define a label called mas_lupd_v#_#_#
2. Put your update code into there.
3. Push the version number into `persistent._mas_zz_lupd_ex_v` to run it

NOTE: none of this code will ever run more than once.
NOTE: this code will respect version update chaining, but these are chained
  post-version. This means that if a multipel version chain occurs,
  the regular labels are executed first, then this (the late-chain) executes.
  For example, lets say we have 3 versions: A, B, C
  and 2 of these versions have late scripts, B' and C'

  Update order:
  1. A
  2. B
  3. C
  4. B'
  5. C'

  Please make sure your late update scripts are not required before a next
  version regular update script.
```
## `mas_mood_start`

| File |
| ---:|
| `script-moods` |

```
entry point for mood flow
```
## `mas_o31_autoload_check`

| File |
| ---:|
| `script-holidays` |

```
START: O31 AUTOLOAD CHECK
```
## `mas_piano_def_fail`

| File |
| ---:|
| `zz_pianokeys` |

```
default fail
```
## `mas_piano_def_fc`

| File |
| ---:|
| `zz_pianokeys` |

```
defualt fc
```
## `mas_piano_def_prac`

| File |
| ---:|
| `zz_pianokeys` |

```
default practice
```
## `mas_piano_def_win`

| File |
| ---:|
| `zz_pianokeys` |

```
TODO all of these default labels
default win
```
## `mas_piano_dpco_win`

| File |
| ---:|
| `zz_pianokeys` |

```
labels:
```
## `mas_piano_result_default`

| File |
| ---:|
| `zz_pianokeys` |

```
default. post game, freestyle mode
```
## `mas_piano_result_none`

| File |
| ---:|
| `zz_pianokeys` |

```
Shown if player does not hit any notes
```
## `mas_piano_start`

| File |
| ---:|
| `zz_pianokeys` |

```
label that calls this creen
```
## `mas_piano_yr_fail`

| File |
| ---:|
| `zz_pianokeys` |

```
shown if player did not complete song and had more fails than passes
```
## `mas_piano_yr_fc`

| File |
| ---:|
| `zz_pianokeys` |

```
shown if player FCs
```
## `mas_piano_yr_prac`

| File |
| ---:|
| `zz_pianokeys` |

```
shown if player did not complete song but had more passes than fails
```
## `mas_piano_yr_win`

| File |
| ---:|
| `zz_pianokeys` |

```
shown if player completes the song but does not FC
```
## `mas_player_bday_cake`

| File |
| ---:|
| `script-holidays` |

```
all paths lead here
```
## `mas_player_bday_card`

| File |
| ---:|
| `script-holidays` |

```
fall thru
```
## `mas_player_bday_knock_listened`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for knocking after listening
```
## `mas_player_bday_knock_no_listen`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for knocking without listening
```
## `mas_player_bday_listen`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for opening door for listening
```
## `mas_player_bday_moni_sings`

| File |
| ---:|
| `script-holidays` |

```
when did moni last sign happy birthday
moni singing happy birthday
```
## `mas_player_bday_opendoor`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for opening door without listening
```
## `mas_player_bday_opendoor_listened`

| File |
| ---:|
| `script-holidays` |

```
closed door greet option for opening door after listening
```
## `mas_player_bday_surprise`

| File |
| ---:|
| `script-holidays` |

```
closed door greet surprise flow
```
## `mas_pong_dlg_loser`

| File |
| ---:|
| `pong` |

```
START: Dialogue shown right when monika loses
```
## `mas_pong_dlg_loser_end`

| File |
| ---:|
| `pong` |

```
Post dlg Moni lose
```
## `mas_pong_dlg_loser_fast`

| File |
| ---:|
| `pong` |

```
Quick Moni lose dlg
```
## `mas_pong_dlg_sorry_assuming`

| File |
| ---:|
| `pong` |

```
dlg for Monika saying she's sorry for assuming
Duplicated, hence label
```
## `mas_pong_dlg_winner`

| File |
| ---:|
| `pong` |

```
START: Dialogue shown when Monika wins
```
## `mas_pong_dlg_winner_end`

| File |
| ---:|
| `pong` |

```
Post dlg Moni win
```
## `mas_pong_dlg_winner_fast`

| File |
| ---:|
| `pong` |

```
Quick Moni win dlg
```
## `mas_reaction_end`

| File |
| ---:|
| `zz_reactions` |

```
ending label for gift reactions, this just resets a thing
```
## `mas_reaction_gift_acs_anonymioo_ribbon_bisexualpride`

| File |
| ---:|
| `zz_reactions` |

```
anonymioo
```
## `mas_reaction_gift_generic_clothes_json`

| File |
| ---:|
| `zz_reactions` |

```
generic reaction for json clothes
```
## `mas_reaction_gift_hairclip`

| File |
| ---:|
| `zz_reactions` |

```
hairclip
```
## `mas_reaction_gift_starter_d25`

| File |
| ---:|
| `zz_reactions` |

```
d25
```
## `mas_reaction_gift_starter_f14`

| File |
| ---:|
| `zz_reactions` |

```
f14
```
## `mas_reaction_json_ribbon_base`

| File |
| ---:|
| `zz_reactions` |

```
JSON ribbons
```
## `mas_scary_story_setup`

| File |
| ---:|
| `script-stories` |

```
Scary stories start here
```
## `mas_selector_generic_sidebar_select_acs`

| File |
| ---:|
| `zz_selector` |

```
generic sidebar-based ACS select
standardized code for ACS selections. If you need custom filtering,
DONT use this.
NOTE: this will always show remover (for now)
NOTE: this wil only show unlocked ACS.

IN:
  acs_type - acs type of the ACS we want to show
  use_acs - list of acs to use. if None, we use standard filter
      (Default: None)
  set_compat_flags - True will adjust the use_acs using compatibly filter
      False will not
      (Default: True)
  launch_exp - the expression to use when saying "Sure [player]!" before
      showing the selector.
      (Default: monika 1eua)
  idle_exp - the expression to use while the selector is runing.
      if None is passed in, we use the launch exp.
      (Default: None)
  sel_group - the selector group to use.
      if None, we use the acs_type
      (Default: None)
  idle_dlg - dialogue shown while selector is running and nothing has been
      hovered/selected.
      if None, we use acs_type, which might be yuck:
      "Which <acs_type> would you like me to wear?"
      (Default: None)
```
## `mas_selector_sidebar_select`

| File |
| ---:|
| `zz_selector` |

```
GENERAL sidebar selector label
NOTE: you should NOT call this label. You should call the helper labels
instead.
NOTE: this shows the `mas_selector_sidebar` screen. It is the caller's
  responsibility to hide the screen when done.

IN:
  items - list of MASSelectable objects to select from.
  select_type - SELECT_* constant for the current mode. We throw
      exceptions if this is not passed in and is a valid type.
  preview_selections - True means the selections are previewed, False means
      they are not.
      (Default: True)
  only_unlocked - True means we only show unlocked items, False means
      show everything.
      (Default: True)
  save_on_confirm - True means we should save selections on a confirm
      (which means we dont undo selections), while False means we will
      undo selections on a confirm, and let the caller handle the actual
      selection saving.
      (Default: True)
  mailbox - MASSelectableSpriteMailbox object to use
      Call send_def_disp_text to set the default display text.
      Call send_disp_text to set the inital display text.
      IF None, we create a MASSelectableSpriteMaibox for use.
  add_remover - True if we want to include a remover in the selector menu,
      False if not
      (Default: False)
  remover_name - name to use for the remover.
      (Default: None)

OUT:
  select_map - map of selections. Organized like:
      name: MASSelectableImageButtonDisplayable object

RETURNS True if we are confirming the changes, False if not.
```
## `mas_selector_sidebar_select_acs`

| File |
| ---:|
| `zz_selector` |

```
ACS sidebar selector label

SEE mas_selector_sidebar_select for info on input params.
NOTE: select_type is not a param here.

RETURNS: True if we are confirming the changes, False if not
```
## `mas_selector_sidebar_select_clothes`

| File |
| ---:|
| `zz_selector` |

```
CLOTH sidebar selector label

SEE mas_selector_sidebar_select for info on input params.
NOTE: select_type is not a param here.

RETURNS: True if we are confirming the changes, False if not
```
## `mas_selector_sidebar_select_hair`

| File |
| ---:|
| `zz_selector` |

```
HAIR sidebar selector label

SEE mas_selector_sidebar_select for info on input params.
NOTE: select_type is not a param here.

RETURNS: True if we are confirming the changes, False if not
```
## `mas_set_gender`

| File |
| ---:|
| `definitions` |

```
Gender specific word replacement
Those are to be used like this "It is [his] pen." Output:
"It is his pen." (if the player's gender is declared as male)
"It is her pen." (if the player's gender is decalred as female)
"It is their pen." (if player's gender is not declared)
Variables (i.e. what you put in square brackets) so far: his, he, hes, heis, bf, man, boy,
Please remember to update the list if you add more gender exclusive words. ^
```
## `mas_showpoem`

| File |
| ---:|
| `zz_poems` |

```
mas_showpoem ####
Handles showing poems and automatically incrementing the shown counts of MASPoems
Can also show normal poems

IN:
  poem - poem to show
  paper - paper to use
      If None, and the poem is a MASPoem, it attempts to get paper by the category.
      If nothing can be found, it defaults to paper.
      Normal poems use the standard paper by default if None.
      (Default: None)
  background_action_label - label to handle background setup with (Default: None)
```
## `mas_story_begin`

| File |
| ---:|
| `script-stories` |

```
Stories start here
```
## `mas_thermos_mug_handler`

| File |
| ---:|
| `zz_reactions` |

```
Thermos handler
```
## `mas_transition_from_emptydesk`

| File |
| ---:|
| `sprite-chart` |

```
transition from empty desk
NOTE: to unhide a desk ACS, set that ACS to keep on desk AFTER calling this
IN:
  exp - expression to show when monika is shown
```
## `mas_transition_to_emptydesk`

| File |
| ---:|
| `sprite-chart` |

```
transiton to empty desk
NOTE: to hide a desk ACS, set that ACS to not keep on desk b4 calling this
```
## `mas_w_cmd`

| File |
| ---:|
| `script-python` |

```
does a write command and waits
```
## `mas_wx_cmd`

| File |
| ---:|
| `script-python` |

```
does both writing and executing, with waits
```
## `mas_wx_cmd_noxwait`

| File |
| ---:|
| `script-python` |

```
does both writing and executing, no x wait
```
## `mas_x_cmd`

| File |
| ---:|
| `script-python` |

```
does an execute and waits
```
## `monika_gtod_tip009`

| File |
| ---:|
| `script-grammar` |

```
Note: formatted apostrophes have been used in examples in this tip for clarity. Please DO NOT remove them.
```
## `monika_hemispheres_gets_snow`

| File |
| ---:|
| `script-topics` |

```
player has snow, hemisphere version
```
## `monika_hemispheres_nogets_snow`

| File |
| ---:|
| `script-topics` |

```
player no snow, hemisphere version
```
## `monika_holdme_end`

| File |
| ---:|
| `script-topics` |

```
label to set the last time held and reset the _holdrequest params
```
## `monika_kissing_motion_short`

| File |
| ---:|
| `special-effects` |

```
short kiss version
```
## `monika_ks_present`

| File |
| ---:|
| `script-topics` |

```
Natsuki == Shizune? (Kind of, if you squint?)
Yuri == Hanako + Lilly
Sayori == Misha and/or Emi
Monika == no one, of course <3
... and Rin doesn't have a counterpart in DDLC.

Of course, I've got nothing against KS, personally. I think it's fantastic.
But this is Monika speaking.
```
## `monika_player_appearance_monika_height`

| File |
| ---:|
| `script-topics` |

```
quick label where monika tells you her height
```
## `monika_ptod_tip002`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  interpreted language (tip 3)
```
## `monika_ptod_tip003`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  What is python (tip 1)
```
## `monika_ptod_tip004`

| File |
| ---:|
| `script-python` |

```
PREREQs:
  interpreted language (tip 3)
```
## `monika_ptod_tip005`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Variables and Assignment
```
## `monika_ptod_tip006`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Types (tip 2)
```
## `monika_ptod_tip007`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Variables and Assignment (tip 6)

```
## `monika_ptod_tip008`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Variables and Assignment (tip 6)
```
## `monika_ptod_tip009`

| File |
| ---:|
| `script-python` |

```
PREREQS:
  Comparisons and Booleans (5)
```
## `monika_secrets`

| File |
| ---:|
| `script-topics` |

```
Don't touch
```
## `monika_snow_gets_snow`

| File |
| ---:|
| `script-topics` |

```
player has snow, snow version
```
## `monika_snow_nogets_snow`

| File |
| ---:|
| `script-topics` |

```
player no snow, snow version
```
## `monika_timeconcern_day_0`

| File |
| ---:|
| `script-topics` |

```
If Monika never gives warning and it's daytime or the player never made it to the end
```
## `monika_timeconcern_day_2`

| File |
| ---:|
| `script-topics` |

```
Daytime, if player tells Monika they worked last night but don't work graveyards.
```
## `monika_timeconcern_day_allow_6`

| File |
| ---:|
| `script-topics` |

```
First time Monika closes at night and player reopens during day without coming back.
```
## `monika_timeconcern_day_allow_7`

| File |
| ---:|
| `script-topics` |

```
Second time Monika closes at night and player then reopens during day.
```
## `monika_timeconcern_day_allow_8`

| File |
| ---:|
| `script-topics` |

```
Third time Monika closes the game and player reopens after night.
```
## `monika_timeconcern_day_final`

| File |
| ---:|
| `script-topics` |

```
If Monika lets player stay and it is no longer night.
```
## `monika_timeconcern_disallow`

| File |
| ---:|
| `script-topics` |

```
If player told Monika not to close window and never reached the end.
```
## `monika_timeconcern_graveyard_night`

| File |
| ---:|
| `script-topics` |

```
If you tell Monika you work at night.
```
## `monika_timeconcern_lock`

| File |
| ---:|
| `script-topics` |

```
Used at the end to lock the forced greeting.
```
## `monika_timeconcern_night_0`

| File |
| ---:|
| `script-topics` |

```
First warning, night time.
```
## `monika_timeconcern_night_1`

| File |
| ---:|
| `script-topics` |

```
Second time at night, Monika asks if player is working late.
```
## `monika_timeconcern_night_2`

| File |
| ---:|
| `script-topics` |

```
If player says they were working. Progress stops here.
```
## `monika_timeconcern_night_3`

| File |
| ---:|
| `script-topics` |

```
If player says he was not working. Monika asks the state of the game being open.
```
## `monika_timeconcern_night_4`

| File |
| ---:|
| `script-topics` |

```
Second and final warning before any closes can occur.
```
## `monika_timeconcern_night_5`

| File |
| ---:|
| `script-topics` |

```
Monika force closes game for the first time
```
## `monika_timeconcern_night_6`

| File |
| ---:|
| `script-topics` |

```
First time game is reopened and still night. Monika closes game again.
```
## `monika_timeconcern_night_7`

| File |
| ---:|
| `script-topics` |

```
Second time game is reopened and still night. Monika closes game once more
```
## `monika_timeconcern_night_after`

| File |
| ---:|
| `script-topics` |

```
Every night after, based on seeing the day version first before it.
```
## `monika_timeconcern_night_final`

| File |
| ---:|
| `script-topics` |

```
Third and last time game is reopened in one night. Monika lets player stay.
```
## `monika_timeconcern_night_finalfollowup`

| File |
| ---:|
| `script-topics` |

```
Same night after the final close
```
## `monika_zoom_fixed_duration_transition`

| File |
| ---:|
| `special-effects` |

```
Zoom Transition label #2
Used to transition from any valid zoom value to another valid
zoom valid zoom value in a smooth way
IN:
    new_zoom - the new zoom level to move to
    transition - the time in seconds used to transition to the new zoom level
        (Default: 3.0)
```
## `monika_zoom_transition`

| File |
| ---:|
| `special-effects` |

```
Zoom Transition label #3
Used to transition from any valid zoom value to another valid
zoom valid zoom value in a smooth way
IN:
    new_zoom - the new zoom level to move to
    transition - the time in seconds used to transition from the maximum to the
        minimum zoom level, this works in a way that the time used in the
        transition is lower the nearer the current zoom level is to the
        new zoom level (Default: 3.0)
```
## `monika_zoom_transition_reset`

| File |
| ---:|
| `special-effects` |

```
Resets to the default zoom level, smoothly.
```
## `monika_zoom_value_transition`

| File |
| ---:|
| `special-effects` |

```
Zoom Transition label
Used to transition from any valid zoom value to another valid
zoom valid zoom value in a smooth way
IN:
    new_zoom - the new zoom value to move to
    transition - the time in seconds used to transition to the new zoom level
        (Default: 3.0)
```
## `monikaroom_greeting_choice`

| File |
| ---:|
| `script-greetings` |

```
FALL THROUGH
```
## `monikaroom_greeting_cleanup`

| File |
| ---:|
| `script-greetings` |

```
cleanup label
```
## `monikaroom_greeting_ear_prog_upset`

| File |
| ---:|
| `script-greetings` |

```
shared dialogue for programming-related stuff
```
## `monikaroom_greeting_opendoor_locked`

| File |
| ---:|
| `script-greetings` |

```
locked door, because we are awaitng more content
```
## `monikaroom_greeting_opendoor_seen`

| File |
| ---:|
| `script-greetings` |

```
this one is for people who have already opened her door.
```
## `natsuki_name_scare`

| File |
| ---:|
| `script-easter-eggs` |

```
natsuki scare
```
## `natsuki_name_scare_hungry`

| File |
| ---:|
| `script-easter-eggs` |

```
natsuki scare 2:
```
## `random_limit_reached`

| File |
| ---:|
| `script-story-events` |

```
NOTE: this has been partially disabled
```
## `sayori_name_scare`

| File |
| ---:|
| `script-easter-eggs` |

```
sayori music chnage/scare
```
## `spaceroom`

| File |
| ---:|
| `script-ch30` |

```
IN:
  start_bg - the background image we want to start with. Use this for
      special greetings. None uses the default spaceroom images.
      NOTE: This is called using renpy.show(), so pass the string name of
          the image you want (NOT FILENAME)
      NOTE: You're responsible for setting spaceroom back to normal though
      (Default: None)
  hide_mask - True will hide the mask, false will not
      (Default: False)
  hide_monika - True will hide monika, false will not
      (Default: False)
  dissolve_all - True will dissolve everything, False will not
      NOTE: takes priority over dissolve masks
      (Default: False)
  dissolve_masks - True will dissolve masks, False will not.
      NOTE: this also drives functionality with force_exp
      NOTE: if dissolve_all is True, this is ignored.
      (Default: False)
  scene_change - True will prefix the draw with a scene call. scene black
      will always be used.
      (Default: False)
  force_exp - if not None, then we use this instead of monika idle.
      NOTE: this must be a string
      NOTE: if passed in, this will override aff-based exps from dissolving.
      (Default: None)
  day_bg - the room we'll be showing during the day
      NOTE: must be string
      NOTE: if passed in, it will override the current background day_bg
      (Default: None)
  night_bg - the room we'll be showing during the night
      NOTE: must be string
      NOTE: if passed in, it will override the current background night_bg
      (Default: None)
  show_emptydesk - behavior is determined by `hide_monika`
      if hide_monika is True - True will show emptydesk and False will do
          nothing.
      if hide_monika is False - True will do nothing and False will hide
          emptydesk after Monika is shown.
      (Default: True)
```
## `start`

| File |
| ---:|
| `script` |

```
For simplicity, I'm taking the MAS lines from the script.rpy that was made. It's basically the same.
```
## `unlock_prompt`

| File |
| ---:|
| `event-handler` |

```
This either picks an event from the pool or events or, sometimes offers a set
of three topics to get an event from.
```
## `update_now`

| File |
| ---:|
| `updater` |

```
This file goes through the actions for updating Monika After story
```
## `v0_10_0`

| File |
| ---:|
| `updates` |

```
0.10.0
```
## `v0_10_1`

| File |
| ---:|
| `updates` |

```
0.10.1
```
## `v0_10_2`

| File |
| ---:|
| `updates` |

```
0.10.2
```
## `v0_10_3`

| File |
| ---:|
| `updates` |

```
0.10.3
```
## `v0_10_4`

| File |
| ---:|
| `updates` |

```
0.10.4
```
## `v0_10_5`

| File |
| ---:|
| `updates` |

```
0.10.5
```
## `v0_10_6`

| File |
| ---:|
| `updates` |

```
0.10.6
```
## `v0_10_7`

| File |
| ---:|
| `updates` |

```
0.10.7
```
## `v0_11_0`

| File |
| ---:|
| `updates` |

```
non generic updates go here
0.11.0
```
## `v0_3_0`

| File |
| ---:|
| `updates` |

```
0.3.0
```
## `v0_4_0`

| File |
| ---:|
| `updates` |

```
0.4.0
```
## `v0_7_0`

| File |
| ---:|
| `updates` |

```
0.7.0
```
## `v0_7_1`

| File |
| ---:|
| `updates` |

```
0.7.1
```
## `v0_7_2`

| File |
| ---:|
| `updates` |

```
0.7.2
```
## `v0_7_4`

| File |
| ---:|
| `updates` |

```
NOTE: well shit this wasnt ready and now it has to be done later
0.7.4
```
## `v0_8_0`

| File |
| ---:|
| `updates` |

```
0.8.0
```
## `v0_8_1`

| File |
| ---:|
| `updates` |

```
0.8.1
```
## `v0_8_10`

| File |
| ---:|
| `updates` |

```
0.8.10
```
## `v0_8_11`

| File |
| ---:|
| `updates` |

```
0.8.11
```
## `v0_8_13`

| File |
| ---:|
| `updates` |

```
0.8.13
```
## `v0_8_14`

| File |
| ---:|
| `updates` |

```
0.8.14
```
## `v0_8_2`

| File |
| ---:|
| `updates` |

```
0.8.2
```
## `v0_8_3`

| File |
| ---:|
| `updates` |

```
0.8.3
```
## `v0_8_4`

| File |
| ---:|
| `updates` |

```
0.8.4
```
## `v0_8_6`

| File |
| ---:|
| `updates` |

```
0.8.6
```
## `v0_8_9`

| File |
| ---:|
| `updates` |

```
0.8.9
```
## `v0_9_0`

| File |
| ---:|
| `updates` |

```
0.9.0
```
## `v0_9_1`

| File |
| ---:|
| `updates` |

```
0.9.1
```
## `v0_9_2`

| File |
| ---:|
| `updates` |

```
0.9.2
```
## `v0_9_4`

| File |
| ---:|
| `updates` |

```
0.9.4
```
## `v0_9_5`

| File |
| ---:|
| `updates` |

```
0.9.5
```
## `vgenericupdate`

| File |
| ---:|
| `updates` |

```
all generic (only updateTopicID calls) go here
```
## `vv_updates_topics`

| File |
| ---:|
| `updates_topics` |

```
init label for updats_topics
```
## `yuri_name_scare`

| File |
| ---:|
| `script-easter-eggs` |

```
yuri scare
```
## `zz_mas_poemgame_sampleone`

| File |
| ---:|
| `zz_poemgame` |

```
This label calls actthree but with hopping monika and words gathered
```
## `zz_mas_poemgame_samplethree`

| File |
| ---:|
| `zz_poemgame` |

```
This label does a display mode run while gathering words
This also shows how to do the call via kwargs
```
## `zz_mas_poemgame_sampletwo`

| File |
| ---:|
| `zz_poemgame` |

```
This label calls act one but with words being gathered
```
# Python Early

#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `traceback` |

#### TOC
* [`Event`](#event)
* [`EventException`](#eventexception)
* [`MASButtonDisplayable`](#masbuttondisplayable)
* [`MASClickZone`](#masclickzone)
* [`MASEdge`](#masedge)
* [`MASFilterable`](#masfilterable)
* [`MASFilterableSprite`](#masfilterablesprite)
* [`MASInteractable`](#masinteractable)
* [`MASLinearForm`](#maslinearform)
* [`MASMailbox`](#masmailbox)
* [`MASQuipList`](#masquiplist)
* [`_mas_earlyCheck`](#_mas_earlycheck)
* [`tryper`](#tryper)
* [`trywrite`](#trywrite)
* [`wraparound_sort`](#wraparound_sort)

## `Event`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `object` |

```
event class for chatbot replacement
NOTE: effectively a wrapper for dict of tuples
NOTE: Events are TIED to the database they are found in. Moving databases
  is not supported ATM

PROPERTIES:
  per_eventdb - persistent database (dict of tupes) this event is
      connectet to
      NOTE: REQUIRED
  eventlabel - the identifier for this event. basically the label that
      this event is tied to. MUST BE UNIQUE
      NOTE: REQUIRED
  prompt - String label shown on the button for this topic in the prompt
      menu
      (Default: eventlabel)
  label - Optional plain text name of the event, good for calendars
      (Default: prompt)
  category - Tuple of string that define the categories for the event
      (Default: None)
  unlocked - True if the event appears in the prompt menu, False if not
      (Default: False)
  random - True if the event can appear in random chatter, False if not
      (Default: False)
  pool - True if the event is in the pool of prompts that get drawn from
      when new prompts become randomly available, False if not
      (Default: False)
  conditional - string that is a conditional expression that can be
      executed via eval. This is checked at various points to determine
      if this event gets pushed to the stack or not
      (Default: None)
  action - an EV_ACTION constant that tells us what to do if the
      conditional is True (See EV_ACTIONS and EV_ACT_...)
      (Default: None)
  start_date - datetime for when this event is available
      NOTE: date can be provided, this will be converted to datetime
      (Default: None)
  end_date - datetime for when this event is no longer available
      NOTE: date can be provided, this will be converted to datetime
      (Default: None)
  unlock_date - datetime for when this event is unlocked
      (Default: None)
  shown_count - number of times this event has been shown to the user
      NOTE: this must be set by the caller, and it is asssumed that
          call_next_event is the only one who changes this
      (Default: 0)
  diary_entry - string that will be added as a diary entry if this event
      has been seen. This string will respect \n and other formatting
      characters. Can be None
      NOTE: diary entries cannot be longer than 500 characters
      NOTE: treat diary entries as single paragraphs
      (Default: None)
  rules - dict of special rules that this event uses for various cases.
      NOTE: this does not get svaed to persistent
      NOTE: refer to RULES documentation in event-rules
      NOTE: if you set this to None, you will break this forever
      (Default: empty dict)
  last_seen - datetime of the last time this topic has been seen
      (Default: None)
  years - list of years that this event repeats in.
      NOTE: requires start_date param to be not None
      NOTE: If this is given, the year part of start_date and end_date
          will be IGNORED
      (Default: None)
  sensitive - True means this is a sensitve topic, False means it is not
      (Default: False)
  aff_range - tuple of the following format:
      [0]: - low limit of affection where this event is available
          (inclusive)
          If None, assumed to be no lower limit
      [1]: - upper limit of affection where this event is available
          (inclusive)
          If None, assumed to be no uppwer limit
      If None, then event is considered to be always available regardless
      of affection level
      NOTE: the tuple items should be AFFECTION STATES.
          not using an affection state may break things
      (Default: None)
  show_in_idle - True if this Event can be shown during idle
      False if not
      (Default: False)
  flags - bitmask system that acts as unchanging flags.
      (Default: 0)
```
#### TOC
* [Constructor](#constructor)
* [`checkFarewellRules`](#checkfarewellrules)
* [`monikaWantsThisFirst`](#monikawantsthisfirst)
* [`_yearAdjustEV`](#_yearadjustev)
* [`_checkRepeatRule`](#_checkrepeatrule)
* [`unlockInit`](#unlockinit)
* [`timePassedSinceLastSeen_dt`](#timepassedsincelastseen_dt)
* [`getSortShownCount`](#getsortshowncount)
* [`_verifyDates`](#_verifydates)
* [`__setattr__`](#__setattr__)
* [`_verifyDatesEV`](#_verifydatesev)
* [`_checkFarewellRule`](#_checkfarewellrule)
* [`timePassedSinceLastSeen_d`](#timepassedsincelastseen_d)
* [`isWithinRange`](#iswithinrange)
* [`checkEvents`](#checkevents)
* [`_modifyInitLock`](#_modifyinitlock)
* [`checkRepeatRules`](#checkrepeatrules)
* [`checkCalendar`](#checkcalendar)
* [`__getattr__`](#__getattr__)
* [`_undoEVAction`](#_undoevaction)
* [`canRepeat`](#canrepeat)
* [`getSortedKeys`](#getsortedkeys)
* [`stripDates`](#stripdates)
* [`__ne__`](#__ne__)
* [`_yearAdjust`](#_yearadjust)
* [`filterEvents`](#filterevents)
* [`checkConditionals`](#checkconditionals)
* [`getSortPrompt`](#getsortprompt)
* [`__eq__`](#__eq__)
* [`_getNextYear`](#_getnextyear)
* [`checkAffection`](#checkaffection)
* [`_filterEvent`](#_filterevent)
* [`checkAffectionRules`](#checkaffectionrules)
* [`_performAction`](#_performaction)
* [`_checkAffectionRule`](#_checkaffectionrule)
* [`performAction`](#performaction)
* [`prepareRepeat`](#preparerepeat)
* [`lockInit`](#lockinit)
* [`_checkEvent`](#_checkevent)
* [`_verifyAndSetDatesEV`](#_verifyandsetdatesev)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`Event`](#event) | `` |

```
NOTE: _eventlabel is required, its the key to this event
its also how we handle equality. also it cannot be None
```
### `checkFarewellRules`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```
Checks the event dict (farewells) against their own farewell specific
rules, filters out those Events whose rule check return true. As for
now the only rule specific is their specific special random chance

IN:
    events - dict of events of the following format:
        eventlabel: event object

RETURNS:
    A filtered dict containing the events that passed their own rules

```
### `monikaWantsThisFirst`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `` | `public` |

```
Checks if a special instant key is in this Event's rule dict

RETURNS: True if the this key is here, false otherwise
```
### `_yearAdjustEV`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
_yearAdjust, but for an Event object

IN:
    ev - evnet object to adjust years
    force - if True, we force years to update
        (Default: False)

RETURNS: See _verifyDates
```
### `_checkRepeatRule`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```

(remove when farewells is updated)

Checks a single event against its repeat rules, which are evaled
to a time.
NOTE: no sanity checks

IN:
    ev - single event to check
    check_time - datetime used to check time rules
    defval - defval to pass into the rules
        (Default: True)

RETURNS:
    True if this event passes its repeat rule, False otherwise
```
### `unlockInit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```
Unlocks the property for a given event object or event label.
This will allow the property to be overwritten on object creation.

IN:
    name - name of property to lock
    ev - Event object to property lock
        (Default: None)
    ev_label - event label of Event to property lock
        (Default: None)
```
### `timePassedSinceLastSeen_dt`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `` | `public` |

```
Checks if time_passed amount of time has passed since we've last seen this event, precise to datetime.datetime
(Includes hours, minutes, seconds, and microseconds)

IN:
    time_passed - amount of time to check should have passed
    _now - current time. If None, now is assumed (Default: None)

OUT:
    boolean:
        - True if the amount of time provided has passed since we've last seen this event
        - False otherwise

NOTE: This can only be used after init 2 as mas_timePastSince() doesn't exist otherwise
```
### `getSortShownCount`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```
Function used for sorting by shown counts

RETURNS: the shown_count property of an event
```
### `_verifyDates`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Given start/end/_yeras, figure out the appropriate start and end
dates. We use current datetime to figure this out.

NOTE: this is meant for Event use ONLY
NOTE: this is NOT meant to be used with an Event object.
    See _verifyDatesEV

IN:
    _start - start datetime
    _end - end datetime (exclusive)
    _years - years list

RETURNS tuple of the following format:
    [0]: start datetime to use
    [1]: end datetime to use
    [2]: True if there was and adjustment, False if not
```
### `__setattr__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`Event`](#event) | `` |

```

Override of setattr so we can do cool things

```
### `_verifyDatesEV`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
_verifyDates, but for an Event object.

IN:
    ev - event object to verify dates

RETURNS: See _verifyDates
```
### `_checkFarewellRule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Checks the given event against its own farewell specific rule.

IN:
    ev - event to check

RETURNS:
    True if this event passes its repeat rule, False otherwise
```
### `timePassedSinceLastSeen_d`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `` | `public` |

```
Checks if time_passed amount of time has passed since we've last seen this event, in terms of datetime.date
(Excludes hours, minutes, seconds, and microseconds)

IN:
    time_passed - amount of time to check should have passed
    _now - current time. If None, now is assumed (Default: None)

OUT:
    boolean:
        - True if the amount of time provided has passed since we've last seen this event
        - False otherwise

NOTE: This can only be used after init 2 as mas_timePastSince() doesn't exist otherwise
```
### `isWithinRange`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `` | `public` |

```
Checks if the given dt is within range of this events start/end

IN:
    check_dt - datetime to check, if None passed, we use .now()

RETURNS: True if within range, False if not within range, None
    if no dts to compare
```
### `checkEvents`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```
This acts as a combination of both checkConditoinal and
checkCalendar

does NOT return dict
```
### `_modifyInitLock`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Modifies the init lock for a given event/eventlabel

IN:
    name - name of property to modify
    value - value to set the property
    ev - Eveng object to property lock
        (Default: None)
    ev_label - event label of Event to property lock
        (Default: None)
```
### `checkRepeatRules`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```

(remove when farewells is updated)

checks the event dict against repeat rules, which are evaluated
to a time.

IN:
    events - dict of events of the following format:
        eventlabel: event object
    check_time - the datetime object that will be used to check the
        timed rules, if none is passed we check against the current time

RETURNS:
    A filtered dict containing the events that passed their own rules
    for the given check_time
```
### `checkCalendar`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```

This checks the date for all events to see if they are active.
If they are active, then it checks for a conditional, and evaluates
if an action should be run.
```
### `__getattr__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`Event`](#event) | `` |

```
get attribute ovverride
```
### `_undoEVAction`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Undoes the ev_action

IN:
    ev - event to undo ev action for
```
### `canRepeat`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `` | `public` |

```
Checks if this event has the vars to enable repeat

RETURNS: True if this event can repeat, False if not
```
### `getSortedKeys`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```

Returns a list of eventlables (keys) of the given dict of events
sorted by the field unlock_date. The list is sorted in
chronological order (newest first). Events with an unlock_date
of None are not included unless include_none is True, in which
case, Nones are put after everything else

IN:
  events - dict of events of the following format:
      eventlabel: event object
  include_none - True means we include events that have None for
      unlock_date int he sorted key list, False means we dont
      (Default: False)

RETURNS:
  list of eventlabels (keys), sorted in chronological order.
  OR: [] if the given events is empty or all unlock_date fields
  were None and include_none is False
```
### `stripDates`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `` | `public` |

```
Removes date data from the event
```
### `__ne__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`Event`](#event) | `` |

```
equality override
```
### `_yearAdjust`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Performs the year adjustment algorithm.

IN:
    force - If True, we force year to update
        (Default: False)

RETURNS: see _verifyDates
```
### `filterEvents`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```

Filters the given events dict according to the given filters.
HOW TO USE: Use ** to pass in a dict of filters. they must match
the names we use here.

IN:
  events - the dict of events we want to filter
  full_copy - True means we create a new dict with deepcopies of
      the events. False will only copy references
      (Default: False)
      DEPRECATEDE

  FILTERING RULES: (recommend to use **kwargs)
  NOTE: None means we ignore that filtering rule
  category - Tuple of the following format:
      [0]: True means we use OR logic. False means AND logic.
      [1]: Tuple/list of strings that to match category.
      (Default: None)
      NOTE: If either element is None, we ignore this filteirng
          rule.
  unlocked - boolean value to match unlocked attribute.
      (Default: None)
  random - boolean value to match random attribute
      (Default: None)
  pool - boolean value to match pool attribute
      (Default: None)
  action - Tuple/list of strings/EV_ACTIONS to match action
      NOTE: OR logic is applied
      (Default: None)
  seen - boolean value to match renpy.seen_label
      (True means include seen, False means dont include seen)
      (Default: None)
  excl_cat - list of categories to exclude, if given an empty
      list it filters out events that have a non-None category
      (Default: None)
  moni_wants - boolean value to match if the event has the monika
      wants this first.
      (Default: None )
  sensitive - boolean value to match if the event is sensitive
      or not
      NOTE: if None, we use inverse of _mas_sensitive_mode, only
          if sensitive mode is True.
          AKA: we only filter sensitve topics if sensitve mode is
          enabled.
      (Default: None)
  aff - affection level to match aff_range
      (Default: None)

RETURNS:
  if full_copy is True, we return a completely separate copy of
  Events (in a new dict) with the given filters applied
  If full_copy is False, we return a copy of references of the
  Events (in a new dict) with the given filters applied
  if the given events is None, empty, or no filters are given,
  events is returned
```
### `checkConditionals`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```

This checks the conditionals for all of the events in the event list
if any evaluate to true, run the desired action then clear the
conditional.

IN:
  rebulid_ev - pass in True to notify idle to rebuild events
      if a random action occured.
```
### `getSortPrompt`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```

Special function we use to get a lowercased version of the prompt
for sorting purposes
```
### `__eq__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`Event`](#event) | `` |

```
equality override
```
### `_getNextYear`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Retreieves the next possible year into the future from the given
years list.

NOTE: if empty list, we return current year.

IN:
    _years - list of years
    year_comp - year to start search from.

RETURNS next possible year into the future from the given years
    list. If _years is empty, current year is returned.
    If unable to find a next year, we return None.
```
### `checkAffection`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `` | `public` |

```
Checks if the given aff_level is within range of this event's
aff_range.

IN:
    aff_level - aff_level to check

RETURNS: True if aff_level is within range of event's aff_range,
    False otherwise
```
### `_filterEvent`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```

Filters the given event object accoridng to the given filters
NOTE: NO SANITY CHECKS

For variable explanations, please see the static method
  filterEvents

RETURNS:
  True if this event passes the filter, False if not
```
### `checkAffectionRules`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```
Checks the event dict against their own affection specific rules,
filters out those Events whose rule check return true. This rule
checks if current affection is inside the specified range contained
on the rule

IN:
    events - dict of events of the following format:
        eventlabel: event object
    keepNoRule - Boolean indicating wheter if it should keep
        events that don't have an affection rule defined

RETURNS:
    A filtered dict containing the events that passed their own rules

```
### `_performAction`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Efficient / no checking action performing

NOTE: does NOT check ev.action for nonNone

IN:
    ev - event we are performing action on
    **kwargs - keyword args to pass to action
```
### `_checkAffectionRule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Checks the given event against its own affection specific rule.

IN:
    ev - event to check

RETURNS:
    True if this event passes its repeat rule, False otherwise
```
### `performAction`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```
Performs the action of the given event

IN:
    ev - event we are perfrming action on
```
### `prepareRepeat`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `` | `public` |

```
Prepres this event's dates for a repeat.

NOTE: does not check if the event hasnt been reached this year.

IN:
    force - If True, we force the years to change
        (Default: False)

RETURNS: True if this event can repeat, False if not
```
### `lockInit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `public` |

```
Locks the property for a given event object or eventlabel.
This will prevent the property from being overwritten on object
creation.

IN:
    name - name of property to lock
    ev - Event object to property lock
        (Default: None)
    ev_label - event label of Event to property lock
        (Default: None)
```
### `_checkEvent`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Singular filter function for checkEvents

RETURNS: True if passes filter, False if not
```
### `_verifyAndSetDatesEV`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`Event`](#event) | `staticmethod` | `internal` |

```
Runs _verifyDatesEV and sets the event properties if change
happens

IN:
    ev - event object to verify and set

RETURNS: was_changed
```
## `EventException`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `Exception` |

```
custom event exceptions
```
#### TOC
* [Constructor](#constructor-1)
* [`__str__`](#__str__)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`EventException`](#eventexception) | `` |

### `__str__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`EventException`](#eventexception) | `` |

## `MASButtonDisplayable`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `Displayable` |

```
Special button type that represents a usable button for custom
displayables.

PROPERTIES:
    xpos - x position of this button (relative to container)
    ypos - y position of this button (relative to container)
    width - width of this button
    height - height of this button
    hover_sound - sound played when being hovered (this is played only
        once per hover. IF None, no sound is played)
    activate_sound - sound played when activated (this is played only
        once per activation. If None, no sound is played)
    enable_when_disabled - True means that the button is active even
        if shown disabled. False if otherwise
    sound_when_disabled - True means that sound is active even when the
        button is shown disabled, False if not.
        NOTE: only works if enable_when_disabled is True
    return_value - Value returned when button is activated
    disabled - True means to disable this button, False not
    hovered - True if we are being hovered, False if not
    _button_click - integer value to match a mouse click:
        1 - left (Default)
        2 - middle
        3 - right
        4 - scroll up
        5 - scroll down
    _button_down - pygame mouse button event type to activate button
        MOUSEBUTTONUP (Default)
        MOUSEBUTTONDOWN
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `pygame` |

#### TOC
* [Constructor](#constructor-2)
* [`enable`](#enable)
* [`_playActivateSound`](#_playactivatesound)
* [`hover`](#hover)
* [`render`](#render)
* [`getSize`](#getsize)
* [`_playHoverSound`](#_playhoversound)
* [`_isOverMe`](#_isoverme)
* [`disable`](#disable)
* [`event`](#event)
* [`ground`](#ground)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` |

```
Constructor for the custom displayable

IN:
    idle_text - Text object to show when button is idle
    hover_text - Text object to show when button is being hovered
    disable_text - Text object to show when button is disabled
    idle_back - Image object for background when button is idle
    hover_back - Image object for background when button is being
        hovered
    disable_back - Image object for background when button is
        disabled
    xpos - x position of this button (relative to container)
    ypos - y position of this button (relative to container)
    with - with of this button
    height - height of this button
    hover_sound - sound to play when hovering. If None, no sound
        is played
        (Default: None)
    activate_sound - sound to play when activated. If None, no
        sound is played
        (Default: None)
    enable_when_disabled - True will enable the button even if
        it is visibly disabled. FAlse will not
        (Default: False)
    sound_when_disabled - True will enable sound even if the
        button is visibly disabled. False will not. Only works if
        enable_when_disabled is True.
        (Default: False)
    return_value - Value to return when the button is activated
        (Default: True)
```
### `enable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `public` |

```
Enables this button. This changes the internal state, so its
preferable to use this over setting the disabled property
directly
```
### `_playActivateSound`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `internal` |

```
Plays the activate sound if we are allowed to.
```
### `hover`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `public` |

```
Hovers this button. This changes the internal state, so its
preferable to use this over setting the hovered property directly

NOTE: IF this button is disabled (and not enable_when_disabled),
this will do NOTHING
```
### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `public` |

### `getSize`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `public` |

```
Returns the size of this button

RETURNS:
    tuple of the following format:
        [0]: width
        [1]: height
```
### `_playHoverSound`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `internal` |

```
Plays the hover soudn if we are allowed to.
```
### `_isOverMe`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `internal` |

```
Checks if the given x and y coodrinates are over this button.

RETURNS: True if the given x, y is over this button, False if not
```
### `disable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `public` |

```
Disables this button. This changes the internal state, so its
preferable to use this over setting the disabled property
directly
```
### `event`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `public` |

### `ground`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASButtonDisplayable`](#masbuttondisplayable) | `` | `public` |

```
Grounds (unhovers) this button. This changes the internal state,
so its preferable to use this over setting the hovered property
directly

NOTE: If this button is disabled (and not enable_when_disabled),
this will do NOTHING
```
## `MASClickZone`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `Displayable` |

```
Special mousezone that can react depending if being clicked
with mouse. Meant for custom displayable use.

PROPERTIES:
    corners - list of verticies. each element should be a tuple like
        (x, y)
    disabled - True means to disable this mouse zone, False not
```
#### TOC
* [Constructor](#constructor-3)
* [`__setupEdges`](#__setupedges)
* [`_was_clicked`](#_was_clicked)
* [`__setup`](#__setup)
* [`render`](#render-1)
* [`_reset_click`](#_reset_click)
* [`_start_click`](#_start_click)
* [`_isOverMe`](#_isoverme-1)
* [`__setupBoundingBox`](#__setupboundingbox)
* [`_inBoundingBox`](#_inboundingbox)
* [`event`](#event-1)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` |

```
Constructor for the Clickzone displayable

IN:
    corners - list of verticies (x, y)
        ASSUMES THAT THIS IS SORTED IN ORDER
```
### `__setupEdges`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `private` |

```
Sets up the edges for this click zone
```
### `_was_clicked`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `internal` |

```
Checks if this button spot was clicked
```
### `__setup`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `private` |

```
setup functions
```
### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `public` |

```
Render functions
```
### `_reset_click`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `internal` |

```
Resets click status for a button
```
### `_start_click`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `internal` |

```
Marks the appropraite spot where a click should occur
ASSUMES MOUSEBUTTONDOWN was found, and we are just determining
the click.
```
### `_isOverMe`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `internal` |

```
Determines if the given coordinates are inside this click zone

IN:
    x - x coordinage to check
    y - y coordinate to check

RETURNS: True if these coordinates are in this clickzone, False
    if not
```
### `__setupBoundingBox`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `private` |

```
Generates the bounding box for this click zone
```
### `_inBoundingBox`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `internal` |

```
Checks if the given coordinates are within the bounding box

IN:
    x - x coordinate to check
    y - y coordinat eto check

RETURNS: True if these coords are within the bounding box, False
    if not
```
### `event`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASClickZone`](#masclickzone) | `` | `public` |

```
Event function
```
## `MASEdge`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `object` |

```
Representation of an edge (line with 2 points)
Has functions related to determining if a point will intersect with
this edge (aka for point in polygon calculations)
```
#### TOC
* [Constructor](#constructor-4)
* [`__setupLinearFunction`](#__setuplinearfunction)
* [`__setupNormalizedPoints`](#__setupnormalizedpoints)
* [`__setup`](#__setup-1)
* [`_inBoundingBoxX`](#_inboundingboxx)
* [`_inBoundingBoxY`](#_inboundingboxy)
* [`inBoundingBox`](#inboundingbox)
* [`__setupPoints`](#__setuppoints)
* [`_normalize`](#_normalize)
* [`__setupBoundingBox`](#__setupboundingbox-1)
* [`horizontalIntersect`](#horizontalintersect)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`MASEdge`](#masedge) | `` |

```
Constructor for an edge
NOTE: the edges do NOT have to be the correct order. This is
    determined internally.

IN:
    p1 - start point of edge (x, y)
    p2 - end point of edge (x, y)
```
### `__setupLinearFunction`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `private` |

```
Sets up the MASLinearForm functions for this Edge
```
### `__setupNormalizedPoints`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `private` |

```
Sets up the appropraite normlization points
```
### `__setup`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `private` |

```
Sets up this MASEdge using given points
```
### `_inBoundingBoxX`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `internal` |

```
Checks if the given point is within the vertical parts of the
bounding box (within x range)

IN:
    x - x coordinate to check

RETURNS: True if the given x is within bounding box range, False
    if not
```
### `_inBoundingBoxY`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `internal` |

```
Checks if the given y coord is within the horizontal parts of the
bounding box (within y range)

IN:
    y - y coordinate to check

RETURNS: True if the given y is within bounding box range, False if
    not
```
### `inBoundingBox`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `public` |

```
Checks if the given x,y is in teh bounding box

IN:
    x - x coordinate to check
    y - y coordinate to check

RETURNS: True if in bounding box, False if not
```
### `__setupPoints`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `private` |

```
Sets up the appropriate vars for point handling
```
### `_normalize`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `internal` |

```
Normalizes a point so its normalized to this edge

IN:
    point - (x, y) point to normalize

RETURNS: normalized point (x, y)
```
### `__setupBoundingBox`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `private` |

```
Sets up bounding box
```
### `horizontalIntersect`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASEdge`](#masedge) | `` | `public` |

```
Checks if a horizontal ray going right with the given point as
the origin of the ray will intersect this Edge

IN:
    x - x coordinate to check
    y - y coodinate to check

RETURNS: True if it intersects, False if not
```
## `MASFilterable`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `sprite-chart-matrix` | [`early`]() | `Displayable` |

```
Special displayable that adjusts its image based on filter.
Also includes surface caching, if desired.

PROPERTIES:
        caching.
    flt - filter we last used
```
#### TOC
* [Constructor](#constructor-5)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`MASFilterable`](#masfilterable) | `` |

```
Constructor

IN:
    All params are passed to Displayable
```
## `MASFilterableSprite`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `sprite-chart-matrix` | [`early`]() | `MASFilterable` |

```
Basic filterable sprite that changes for filter.
This has NO x/y support

PROPERTIES:
    img_obj - the Image object represnting this sprite
```
#### TOC
* [Constructor](#constructor-6)
* [`visit`](#visit)
* [`render`](#render-2)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`MASFilterableSprite`](#masfilterablesprite) | `` |

```
Constructor

IN:
    image_path - image path (or Image) of the sprite to use
    remaining properties are sent to Displayable
```
### `visit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterableSprite`](#masfilterablesprite) | `` | `public` |

### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterableSprite`](#masfilterablesprite) | `` | `public` |

## `MASInteractable`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `Displayable` |

```
Base class for all interactable displayables.
Interactables are custom displayables that use clickzones
```
#### TOC
* [Constructor](#constructor-7)
* [`check_click`](#check_click)
* [`_build_zones`](#_build_zones)
* [`check_over`](#check_over)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`MASInteractable`](#masinteractable) | `` |

```
Constructor for an interactable.

IN:
    zones - dict of the following format:
        key: key of the zone, this is returned if the zone is
            clicked
        value: list of vertexes that make teh zone
    button_down - button_down item to use for each clickzone
    debug - Set to True to fill the clickzones
```
### `check_click`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASInteractable`](#masinteractable) | `` | `public` |

```
Checks if an ev was a click over a zone.

RETURNS: zone key if clicked, None if not clicked
```
### `_build_zones`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASInteractable`](#masinteractable) | `` | `internal` |

```
Builds clickzone objects (self.zones and self.zones_render)

IN:
    zones - dict of zones (see constructor)
    button_down - button_down item to use for each clikzone
    debug - set to True to see clickzones
```
### `check_over`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASInteractable`](#masinteractable) | `` | `public` |

```
Checks if the given x y is over a zone, and returns the zone key
if appropripate

IN:
    x - x
    y - y

RETURNS: zone_key, or None if no click over zones
```
## `MASLinearForm`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `object` |

```
Representation of a linear functions
```
#### TOC
* [Constructor](#constructor-8)
* [`_getx`](#_getx)
* [`_gety`](#_gety)
* [`_slope`](#_slope)
* [`sortPoints`](#sortpoints)
* [`fromSlope`](#fromslope)
* [`getx`](#getx)
* [`gety`](#gety)
* [`yintPoints`](#yintpoints)
* [`diffPoints`](#diffpoints)
* [`fromPoints`](#frompoints)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `` |

```
Constructor for a Linear Formula.

IN:
    xdiff - difference in x coords (used in M)
    ydiff - difference in y coords (used in M)
    yint - y intercept
```
### `_getx`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `` | `internal` |

```
Gets x without any checks (this can crash)
```
### `_gety`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `` | `internal` |

```
Gets y with out any checks (this can crash)
```
### `_slope`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `` | `internal` |

```
Returns the slope of this line
Pass in X to calculate mx instead of just m
```
### `sortPoints`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `staticmethod` | `public` |

```
Returns the two points as an ordered tuple

IN:
    p1 - (x, y) point
    p2 - (x, y) point

RETURNS: tuple of the following format:
    [0] - left most point
    [1] - right most point
```
### `fromSlope`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `staticmethod` | `public` |

```
Generates a MASLinearForm object using slope

IN:
    slope - the slope of the line
    yint - the yintercept of the line

RETURNS: MASLinearForm object
```
### `getx`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `` | `public` |

```
Calculates the X value given a y

IN:
    y - y value to input

RETURNS: x value, or None if not possible
```
### `gety`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `` | `public` |

```
Calculates the Y value given an x

IN:
    x - x value to input

RETURNS: y value, or None if not possible
```
### `yintPoints`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `staticmethod` | `public` |

```
Returns yintercept from 2 points

IN:
    p1 - (x, y) point
    p2 - (x, y) point

RETURNS: yintercept, or None if no yintercept
```
### `diffPoints`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `staticmethod` | `public` |

```
Generats x/y diffs for 2 points

IN:
    p1 - (x, y) point
    p2 - (x, y) point

RETURNS: tuple of the following format:
    [0] - xdiff
    [1] - ydiff
```
### `fromPoints`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASLinearForm`](#maslinearform) | `staticmethod` | `public` |

```
Generates a MASLinearform object using points

IN:
    p1 - (x, y) point
    p2 - (x, y) point

RETURNS: MASLinearForm object
```
## `MASMailbox`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `object` |

```
Async communication between different objects.

NOTE: even though this is usable on its own, its highly recommended
that you extend this class to encapsulate message constants.

NOTE: this is NOT like notify, objects can only respond to messages
    when they are active.

PROPERTIES:
    box - the actual mailbox that contains messages
```
#### TOC
* [Constructor](#constructor-9)
* [`mas_send_return`](#mas_send_return)
* [`mas_get_return`](#mas_get_return)
* [`get`](#get)
* [`read`](#read)
* [`send`](#send)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`MASMailbox`](#masmailbox) | `` |

```
Constructor
```
### `mas_send_return`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASMailbox`](#masmailbox) | `` | `public` |

```
Adds a MAS_RETURN message to the box.

IN:
    msg - message to return
```
### `mas_get_return`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASMailbox`](#masmailbox) | `` | `public` |

```
Removes and returns a MAS_RETURN message.

RETURNS:
    the returned message, or None if no message data or if the
    emssage was wasctually none
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASMailbox`](#masmailbox) | `` | `public` |

```
Removes a message from the box, and returns it.

IN:
    headline - identifier for the message

RETURNS:
    the message data stored, None if no message data or if the
    message was actually None.
```
### `read`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASMailbox`](#masmailbox) | `` | `public` |

```
Reads a message from the box.

NOTE: does NOT remove the message.

IN:
    headline - identifier for the message

RETURNS:
    the message data stored, None if no message data or if the
    message was actually None
```
### `send`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASMailbox`](#masmailbox) | `` | `public` |

```
Adds a message to the box.

IN:
    headline - identifier for this message.
    msg - message to send
```
## `MASQuipList`

| File | Store Module | Base Class |
| ---:| ---:| ---:|
| `definitions` | [`early`]() | `object` |

```
init -1 python:
  # new class to manage a list of quips
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `random` |

#### TOC
* [Constructor](#constructor-10)
* [`_quipGlitch`](#_quipglitch)
* [`_getQuip`](#_getquip)
* [`quip`](#quip)
* [`addGlitchQuip`](#addglitchquip)
* [`_quipLine`](#_quipline)
* [`_quipLabel`](#_quiplabel)
* [`__generateLineQuipReplacements`](#__generatelinequipreplacements)
* [`_removeQuip`](#_removequip)
* [`addLineQuip`](#addlinequip)
* [`addLabelQuip`](#addlabelquip)
* [`addLabelQuips`](#addlabelquips)
* [`_getQuipList`](#_getquiplist)
* [`__throwError`](#__throwerror)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` |

```
Constructor for MASQuipList

IN:
    allow_glitch - True means glitch quips can be added to this
        list, False means no
        (Default: True)
    allow_label - True means label quips can be added to this list,
        False means no
        (Default: True)
    allow_line - True means line quips can be added to ths list,
        False means no
        (Default: True)
    raise_issues - True means we will raise exceptions if bad
        things occour. False means we stay quiet
        (Default: True)
```
### `_quipGlitch`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `internal` |

```
Processes the given glitch text quip for usage.

IN:
    gt_quip - the glitchtext quip (value) to process

RETURNS:
    glitchtext quip ready for display.
```
### `_getQuip`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `internal` |

```
Retrieves the quip at the given index.

IN:
    index - the index the wanted quip is at

RETURNS:
    tuple of the following format:
        [0]: type of this quip
        [1]: value of this quip
```
### `quip`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `public` |

```
Randomly picks a quip and returns the result.

Line quips are automatically cleaned and prepared ([player],
gender pronouns are all replaced appropraitely). If the caller
wants additional variable replacements, they must do that
themselves.

IN:
    remove - True means we remove the quip we select. False means
        keep it in the internal list.

RETURNS:
    tuple of the following format:
        [0]: type of this quip
        [1]: value of this quip
```
### `addGlitchQuip`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `public` |

```
Adds a glitch quip based upon the given params.

IN:
    length - length of the glitch text
    cps_speed - integer value to use as glitchtext speed multiplier
        If 0 or 1, no cps speed change is done.
        (Default: 0)
    wait_time - integer value to use as wait time. If None, no
        wait tag is used
        (Default: None)
    no_wait - If True, a no wait tag is added to the glitchtext.
        otherwise, no no-wait tag is added.
        (Default: False)

RETURNS:
    index location of the added quip, or -1 if we werent allowed to
```
### `_quipLine`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `internal` |

```
Processes the given line quip for usage.

IN:
    li_quip - the line quip (value) to process

RETURNS:
    line quip ready for display
```
### `_quipLabel`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `internal` |

```
Processes the given label quip for usage.

IN:
    la_quip - the label quip (value) to process

RETURNS:
    label quip ready for call
```
### `__generateLineQuipReplacements`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `private` |

```
Generates line quip replacement list for easy string replacement.

RETURNS: a list for line quip variable replacements

ASSUMES:
    player
    currentuser
    mcname
    <all gender prounouns>
```
### `_removeQuip`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `internal` |

```
Removes the quip at the given index. (and returns it back)

IN:
    index - the index of the quip to remove.

RETURNS:
    tuple of the following format:
        [0]: type of the removed quip
        [1]: value of the removed quip
```
### `addLineQuip`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `public` |

```
Adds a line quip. A custom type can be given if the caller wants
this line quip to be differentable from other line quips.

IN:
    line - line quip
    custom_type - the type to use for this line quip instead of
        TYPE_LINE. If None, TYPE_LINE is used.
        (Default: None)

RETURNS:
    index location of the added quip, or -1 if we werent allowed to
    or the given custom_type is conflicting exisiting types.
```
### `addLabelQuip`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `public` |

```
Adds a label quip.

IN:
    label_name - label name of this quip

RETURNS:
    index location of the added quip, or -1 if we werent allowed to
    or the label didnt exist
```
### `addLabelQuips`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `public` |

```
Adds multiple label quips.

IN:
    label_list - list of label names to add
```
### `_getQuipList`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `internal` |

```
Retrieves the internal quip list. This is a direct reference to
the internal list, so be careful.

RETURNS:
    the internal quiplist
```
### `__throwError`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `definitions` | [`MASQuipList`](#masquiplist) | `` | `private` |

```
Internal function that throws an error if we are allowed to raise
issues.

IN:
    msg - message to display
```
## `_mas_earlyCheck`

| File | Store Module | Visiblity |
| ---:| ---:|:--- |
| `zz_backup` | [`early`]() | `internal` |

```
attempts to read in the persistent and load it. if an error occurs
during loading, we'll log it in a dumped file in basedir.

NOTE: we don't have many functions available here. However, we can
import __main__ and gain access to core functions.
```
## `tryper`

| File | Store Module | Visiblity |
| ---:| ---:|:--- |
| `zz_backup` | [`early`]() | `public` |

```
tryies a persistent and checks if it is decoded succesfully
returns True on success. raises errors if failure
```
## `trywrite`

| File | Store Module | Visiblity |
| ---:| ---:|:--- |
| `zz_backup` | [`early`]() | `public` |

```
attempt to write, no worries if no worko
```
## `wraparound_sort`

| File | Store Module | Visiblity |
| ---:| ---:|:--- |
| `zz_backup` | [`early`]() | `public` |

```
Sorts a list of numbers using a special wraparound sort.
Basically if all the numbers are between 0 and 98, then we sort
normally. If we have 99 in there, then we need to make the wrap
around numbers (the single digit ints in the list) be sorted
as larger than 99.
```
# _mas_dm_dm

#### Defined Init Levels
* `-999`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-999` |

#### TOC
* [`add_idxs`](#add_idxs)
* [`__add_idxs`](#__add_idxs)
* [`add_idxs_db`](#add_idxs_db)
* [`_determine_version`](#_determine_version)
* [`_dm_073_to_2`](#_dm_073_to_2)
* [`_dm_080_to_2`](#_dm_080_to_2)
* [`_dm_0811_to_2`](#_dm_0811_to_2)
* [`_dm_082_to_2`](#_dm_082_to_2)
* [`_dm_089_to_2`](#_dm_089_to_2)
* [`_dm_1_to_2`](#_dm_1_to_2)
* [`__dm_1_to_2_helper`](#__dm_1_to_2_helper)
* [`_dm_2_to_1`](#_dm_2_to_1)
* [`_find_dm_fun`](#_find_dm_fun)
* [`__lessthan`](#__lessthan)
* [`__morethan`](#__morethan)
* [`__rm_idxs`](#__rm_idxs)
* [`rm_idxs`](#rm_idxs)
* [`rm_idxs_db`](#rm_idxs_db)
* [`run`](#run)

## `add_idxs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `public` |

```
Adds indexes to the given key

NOTE: indxs_d is added in reverse order.

IN:
    _db - database to add indexes to
    _key - key of the item to add indexes to
    _exp_len - the length the item should have prior to addition
        Pass in less than 0 to ignore length checks
    *idxs_d - tuples of the following format:
        [0]: index to add
        [1]: data to add at index
```
## `__add_idxs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `private` |

```
adds indexes to the given key to the given db
```
## `add_idxs_db`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `public` |

```
Adds indexes to items in the given db

IN:
    _db - database to add indexes to
    _exp_len - the length the item shoudl have prior to additoin
        Pass in 0 or less to ignore length checks
    *idxs_d - tuples of the following format:
        [0]: index to add
        [1]: data to add at index
```
## `_determine_version`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
This returns an  appropriate dm version based on version
NOTE: this should only be used if migrating from versions 0814 and
below.
```
## `_dm_073_to_2`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
Data migration from version 073-074 to 2

GOALS:
    - remove rules property from events and shrink the tuples
```
## `_dm_080_to_2`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
Data migration from version 080-081 to 2

GOALS:
    - remove rules property from events and shrink the tuples
```
## `_dm_0811_to_2`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
Data migration from version 0811-0814 to 2

GOALS:
    - remove rules property from events and shrink the tuples
```
## `_dm_082_to_2`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
Data migration from version 082-088 to 2

GOALS:
    - remove rules property from events and shrink the tuples
```
## `_dm_089_to_2`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
Data migration from version 089-0810 to 2

GOALS:
    - remove rules property from events and shrink the tuples
```
## `_dm_1_to_2`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
Data migration from version 1 to 2

GOALS:
    - remove rules property from events and shrink the tuples.
```
## `__dm_1_to_2_helper`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `private` |

```
needed vars
```
## `_dm_2_to_1`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
Data migration from version 2 to 1

GOALS:
    - add rules property to events, expand tuples
```
## `_find_dm_fun`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `internal` |

```
Iterates until we find a dm function and returns it.

IN:
    piv_ver - the verion number we dont want to change when searching
    adj_ver - the verison number we change when searching
    direction - the direction to change adj_ver

RETURNS tuple of the following format:
    [0]: data migration function found, Or none if not found
    [1]: value of adj_ver when data migration found
```
## `__lessthan`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `private` |

## `__morethan`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `private` |

## `__rm_idxs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `private` |

```
removes indexes off the given key off the given db
```
## `rm_idxs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `public` |

```
removes indexes off the given key off the given db

IN:
    _db - database to remove indexes off of
    _key - key of the item to remove indexes off of
    _exp_len - the length the item should have prior to removal.
        Pass in 0 or less to ignore length checks.
    *idxs - indexes to remove
        If nothing is passed, nothing happens.
```
## `rm_idxs_db`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `public` |

```
Removes indexes off items in the given db

IN:
    _db - database to remove indexes off of
    _exp_len - the length the item should have prior to removal
        Pass in 0 or less to ignore length checks
    *idxs - indexes to remove
        if Nothing is passsed, nothing happens
```
## `run`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dm` | [`_mas_dm_dm_-999`]() | `-999` | `public` |

```
Runs the data migration algorithms.

ASSUMES: start_ver != end_ver

IN:
    start_ver - start version to start
    end_ver - ending version number
```
# _mas_root

#### Defined Init Levels
* `-1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `datetime` | `-1` |

#### TOC
* [`glitchtext`](#glitchtext)
* [`initialSessionData`](#initialsessiondata)
* [`mangleFile`](#manglefile)
* [`resetPlayerData`](#resetplayerdata)

## `glitchtext`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `definitions` | [`_mas_root_-1`]() | `-1` | `public` |

## `initialSessionData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `definitions` | [`_mas_root_-1`]() | `-1` | `public` |

```
Completely resets session data to usable initial values.
NOTE: these are not the defaults, but rather what they would be set to
on a first load.
```
## `mangleFile`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `definitions` | [`_mas_root_-1`]() | `-1` | `public` |

```
Mangles the file at the given filepath. Will create the file if it
doesnt exists

IN:
    filepath - path of the file to mangle
    mangle_length - how many characters to use to mangle
        (Default: 1000)
```
## `resetPlayerData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `definitions` | [`_mas_root_-1`]() | `-1` | `public` |

```
Completely resets player data in persistents.

NOTE: Not all player-related persistent values may be reset by this
function. If there are more player-related data in persistent that is
not reset by this function, PLEASE LET US KNOW

ASSUMES: a ton of persistent stuff
```
# evhand

#### Defined Init Levels
* `-1`
* `1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `datetime` | `-1` |

#### TOC
* [`actionPool`](#actionpool)
* [`actionPush`](#actionpush)
* [`actionQueue`](#actionqueue)
* [`actionRandom`](#actionrandom)
* [`actionUnlock`](#actionunlock)
* [`addIfNew`](#addifnew)
* [`addYearsetBlacklist`](#addyearsetblacklist)
* [`cleanYearsetBlacklist`](#cleanyearsetblacklist)
* [`_hideEvent`](#_hideevent)
* [`_hideEventLabel`](#_hideeventlabel)
* [`_isFuture`](#_isfuture)
* [`_isPast`](#_ispast)
* [`_isPresent`](#_ispresent)
* [`isYearsetBlacklisted`](#isyearsetblacklisted)
* [`_lockEvent`](#_lockevent)
* [`_lockEventLabel`](#_lockeventlabel)
* [`tuplizeEventLabelList`](#tuplizeeventlabellist)
* [`_unlockEvent`](#_unlockevent)
* [`_unlockEventLabel`](#_unlockeventlabel)

## `actionPool`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_1`]() | `1` | `public` |

```
Pools an event.

IN:
    ev - event to pool
```
## `actionPush`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_1`]() | `1` | `public` |

```
Runs Push Event action for the given event

IN:
    ev - event to push to event stack
```
## `actionQueue`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_1`]() | `1` | `public` |

```
Runs Queue event action for the given event

IN:
    ev - event to queue to event stack
```
## `actionRandom`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_1`]() | `1` | `public` |

```
Randos an event.

IN:
    ev - event to random
    rebuild_ev - True if we wish to notify idle to rebuild events
```
## `actionUnlock`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_1`]() | `1` | `public` |

```
Unlocks an event. Also setse the unlock_date to the given
    unlock time

IN:
    ev - event to unlock
    unlock_time - time to set unlock_date to
```
## `addIfNew`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `public` |

```

Adds the list of given items to the given pool (assuemd to be list)
such that new only new items are added.

IN:
  item - list of items to add the given pool
  pool - pool to be added to

RETURNS:
  the pool
```
## `addYearsetBlacklist`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `public` |

```
Adds the given evl to the yearset blacklist, with the given expiration
dt

IN:
    evl - event label
    expire_dt - when the evl should be removed from the blacklist
```
## `cleanYearsetBlacklist`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `public` |

```
Goes through the year setblacklist and removes expired entries
```
## `_hideEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Internalized hideEvent
```
## `_hideEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Internalized hideEventLabel
```
## `_isFuture`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Checks if the start_date of the given event happens after the
given time.

IN:
    ev - Event to check the start_time
    date - a datetime object used to check against
        If None is passed it will check against current time
        (Default: None)

RETURNS:
    True if the Event's start_date is in the future, False otherwise
```
## `_isPast`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Checks if the end_date of the given event happens before the
given time.

IN:
    ev - Event to check the start_time
    date - a datetime object used to check against
        If None is passed it will check against current time
        (Default: None)

RETURNS:
    True if the Event's end_date is in the past, False otherwise
```
## `_isPresent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Checks if current date falls within the given event's start/end date
range

IN:
    ev - Event to check the start_time and end_time

RETURNS:
    True if current time is inside the  Event's start_date/end_date
    interval, False otherwise
```
## `isYearsetBlacklisted`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `public` |

```
Checks if the given evl is yearset blacklisted. Also checks expiration
date and removes if needed.

IN:
    evl - event label

RETURNS: True if blacklisted, false if not
```
## `_lockEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Internalized lockEvent
```
## `_lockEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Internalized lockEventLabel
```
## `tuplizeEventLabelList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `public` |

```

Creates a list of prompt,label tuple pairs using the given key list
and db (dict of events)

IN:
  key_list - list of keys (labels)
  db - dict of events

RETURNS:
  list of tuples of the following format:
      [0]: prompt/caption
      [1]: eventlabel
```
## `_unlockEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Internalized unlockEvent
```
## `_unlockEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`evhand_-1`]() | `-1` | `internal` |

```
Internalized unlockEventLabel
```
# global

#### Defined Init Levels
* `-999`
* `-990`
* `-989`
* `-985`
* `-900`
* `-897`
* `-894`
* `-880`
* `-850`
* `-825`
* `-810`
* `-500`
* `-101`
* `-100`
* `-45`
* `-20`
* `-11`
* `-10`
* `-9`
* `-4`
* `-3`
* `-2`
* `-1`
* `0`
* `1`
* `2`
* `4`
* `5`
* `6`
* `7`
* `9`
* `10`
* `11`
* `20`
* `100`
* `501`
* `800`
* `810`
* `899`
* `900`
* `970`
* `995`
* `999`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `os` | `5` |

#### TOC
* [`CustomEncoder`](#customencoder)
* [`MASAccessory`](#masaccessory)
* [`MASAccessoryBase`](#masaccessorybase)
* [`MASAffectionRule`](#masaffectionrule)
* [`MASArm`](#masarm)
* [`MASArmBoth`](#masarmboth)
* [`MASArmLeft`](#masarmleft)
* [`MASArmRight`](#masarmright)
* [`MASBackground`](#masbackground)
* [`MASBoopInteractable`](#masboopinteractable)
* [`MASCalendar`](#mascalendar)
* [`MASClothes`](#masclothes)
* [`MASConsumable`](#masconsumable)
* [`MASDelayedAction`](#masdelayedaction)
* [`MASDockingStation`](#masdockingstation)
* [`MASFarewellRule`](#masfarewellrule)
* [`MASFilterMap`](#masfiltermap)
* [`MASGraphicsMenu`](#masgraphicsmenu)
* [`MASGreetingRule`](#masgreetingrule)
* [`MASHair`](#mashair)
* [`MASHighlightMap`](#mashighlightmap)
* [`MASHistorySaver`](#mashistorysaver)
* [`MASIdleMailbox`](#masidlemailbox)
* [`MASMonika`](#masmonika)
* [`MASNumericalRepeatRule`](#masnumericalrepeatrule)
* [`MASPoemWord`](#maspoemword)
* [`MASPoemWordList`](#maspoemwordlist)
* [`MASPoseArms`](#masposearms)
* [`MASPoseMap`](#masposemap)
* [`MASPriorityRule`](#maspriorityrule)
* [`MASSelectableAccessory`](#masselectableaccessory)
* [`MASSelectableClothes`](#masselectableclothes)
* [`MASSelectableHair`](#masselectablehair)
* [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable)
* [`MASSelectableSprite`](#masselectablesprite)
* [`MASSelectiveRepeatRule`](#masselectiverepeatrule)
* [`MASSplitAccessory`](#massplitaccessory)
* [`MASSpriteBase`](#masspritebase)
* [`MASSpriteFallbackBase`](#masspritefallbackbase)
* [`MASStripDatesRule`](#masstripdatesrule)
* [`MASTableChair`](#mastablechair)
* [`MASTopicLabelException`](#mastopiclabelexception)
* [`MASUndoActionRule`](#masundoactionrule)
* [`MASUpdaterDisplayable`](#masupdaterdisplayable)
* [`MASWeather`](#masweather)
* [`PauseDisplayable`](#pausedisplayable)
* [`PianoDisplayable`](#pianodisplayable)
* [`StatCounter`](#statcounter)
* [`FileActionMod`](#fileactionmod)
* [`FinishEnterName`](#finishentername)
* [`HKBHideButtons`](#hkbhidebuttons)
* [`HKBShowButtons`](#hkbshowbuttons)
* [`MovieOverlayHideButtons`](#movieoverlayhidebuttons)
* [`MovieOverlayShowButtons`](#movieoverlayshowbuttons)
* [`RigMouse`](#rigmouse)
* [`addEvent`](#addevent)
* [`addReaction`](#addreaction)
* [`adjustTopicIDs`](#adjusttopicids)
* [`clearUpdateStructs`](#clearupdatestructs)
* [`cts`](#cts)
* [`dec_musicvol`](#dec_musicvol)
* [`disable_esc`](#disable_esc)
* [`display_notif`](#display_notif)
* [`dumpPersistentToFile`](#dumppersistenttofile)
* [`enable_esc`](#enable_esc)
* [`force_integer_multiplier`](#force_integer_multiplier)
* [`game_menu_check`](#game_menu_check)
* [`getCharacterImage`](#getcharacterimage)
* [`get_level`](#get_level)
* [`get_shown_count`](#get_shown_count)
* [`glitchWord`](#glitchword)
* [`grant_xp`](#grant_xp)
* [`hideEvent`](#hideevent)
* [`hideEventLabel`](#hideeventlabel)
* [`inc_musicvol`](#inc_musicvol)
* [`__init__`](#__init__)
* [`isFuture`](#isfuture-1)
* [`isPast`](#ispast)
* [`isPresent`](#ispresent)
* [`is_seen`](#is_seen)
* [`lockEvent`](#lockevent)
* [`lockEventLabel`](#lockeventlabel)
* [`map_keys_to_topics`](#map_keys_to_topics)
* [`mas_DropShield_core`](#mas_dropshield_core)
* [`mas_DropShield_dlg`](#mas_dropshield_dlg)
* [`mas_DropShield_idle`](#mas_dropshield_idle)
* [`mas_DropShield_mumu`](#mas_dropshield_mumu)
* [`mas_HKBDropShield`](#mas_hkbdropshield)
* [`mas_HKBIsEnabled`](#mas_hkbisenabled)
* [`mas_HKBIsVisible`](#mas_hkbisvisible)
* [`mas_HKBRaiseShield`](#mas_hkbraiseshield)
* [`mas_HKCanQuietMusic`](#mas_hkcanquietmusic)
* [`mas_HKDropShield`](#mas_hkdropshield)
* [`mas_HKIsEnabled`](#mas_hkisenabled)
* [`mas_HKRaiseShield`](#mas_hkraiseshield)
* [`mas_HistGetFirstYearOfValue`](#mas_histgetfirstyearofvalue)
* [`mas_HistLookup`](#mas_histlookup)
* [`mas_HistLookup_k`](#mas_histlookup_k)
* [`mas_HistLookup_ot`](#mas_histlookup_ot)
* [`mas_HistLookup_otl`](#mas_histlookup_otl)
* [`mas_HistLookup_otl_k`](#mas_histlookup_otl_k)
* [`mas_HistVerify`](#mas_histverify)
* [`mas_HistVerifyAll_k`](#mas_histverifyall_k)
* [`mas_HistVerifyLastYear_k`](#mas_histverifylastyear_k)
* [`mas_HistVerify_k`](#mas_histverify_k)
* [`mas_HistWasFirstValueIn`](#mas_histwasfirstvaluein)
* [`mas_MUMUDropShield`](#mas_mumudropshield)
* [`mas_MUMURaiseShield`](#mas_mumuraiseshield)
* [`mas_OVLDropShield`](#mas_ovldropshield)
* [`mas_OVLHide`](#mas_ovlhide)
* [`mas_OVLRaiseShield`](#mas_ovlraiseshield)
* [`mas_OVLShow`](#mas_ovlshow)
* [`mas_RaiseShield_core`](#mas_raiseshield_core)
* [`mas_RaiseShield_dlg`](#mas_raiseshield_dlg)
* [`mas_RaiseShield_idle`](#mas_raiseshield_idle)
* [`mas_RaiseShield_mumu`](#mas_raiseshield_mumu)
* [`mas_SELisUnlocked`](#mas_selisunlocked)
* [`mas_addBlacklistReact`](#mas_addblacklistreact)
* [`mas_addClothesToHolidayMap`](#mas_addclothestoholidaymap)
* [`mas_addClothesToHolidayMapRange`](#mas_addclothestoholidaymaprange)
* [`mas_addDelayedAction`](#mas_adddelayedaction)
* [`mas_addDelayedActions`](#mas_adddelayedactions)
* [`mas_addDelayedActions_list`](#mas_adddelayedactions_list)
* [`_mas_backgroundUpdateCheck`](#_mas_backgroundupdatecheck)
* [`mas_backgroundUpdateCheck`](#mas_backgroundupdatecheck)
* [`mas_bookmark_topic`](#mas_bookmark_topic)
* [`mas_buildEventLists`](#mas_buildeventlists)
* [`mas_buildSeenEventLists`](#mas_buildseeneventlists)
* [`mas_calDropOverlayShield`](#mas_caldropoverlayshield)
* [`mas_calHideOverlay`](#mas_calhideoverlay)
* [`mas_calIsVisible_ovl`](#mas_calisvisible_ovl)
* [`mas_calRaiseOverlayShield`](#mas_calraiseoverlayshield)
* [`mas_calShowOverlay`](#mas_calshowoverlay)
* [`mas_canCheckActiveWindow`](#mas_cancheckactivewindow)
* [`mas_capGainAff`](#mas_capgainaff)
* [`mas_changeBackground`](#mas_changebackground)
* [`mas_changeWeather`](#mas_changeweather)
* [`mas_checkApologies`](#mas_checkapologies)
* [`mas_checkForWindowReacts`](#mas_checkforwindowreacts)
* [`mas_checkOverDate`](#mas_checkoverdate)
* [`mas_checkReactions`](#mas_checkreactions)
* [`mas_check_player_derand`](#mas_check_player_derand)
* [`mas_chgCalEVul`](#mas_chgcalevul)
* [`mas_cleanBadUpdateFiles`](#mas_cleanbadupdatefiles)
* [`mas_cleanEventList`](#mas_cleaneventlist)
* [`mas_cleanJustSeen`](#mas_cleanjustseen)
* [`mas_cleanJustSeenEV`](#mas_cleanjustseenev)
* [`mas_clearNotifs`](#mas_clearnotifs)
* [`mas_confirmedParty`](#mas_confirmedparty)
* [`mas_coreToIdleShield`](#mas_coretoidleshield)
* [`mas_d25HideVisuals`](#mas_d25hidevisuals)
* [`mas_d25ReactToGifts`](#mas_d25reacttogifts)
* [`mas_d25SeasonExit_PP`](#mas_d25seasonexit_pp)
* [`mas_d25ShowVisuals`](#mas_d25showvisuals)
* [`mas_d25SilentReactToGifts`](#mas_d25silentreacttogifts)
* [`mas_darkMode`](#mas_darkmode)
* [`mas_derandom_topic`](#mas_derandom_topic)
* [`mas_disableTextSpeed`](#mas_disabletextspeed)
* [`mas_disable_quit`](#mas_disable_quit)
* [`mas_disable_quitbox`](#mas_disable_quitbox)
* [`mas_dlgToIdleShield`](#mas_dlgtoidleshield)
* [`mas_drawSpaceroomMasks`](#mas_drawspaceroommasks)
* [`mas_drawemptydesk_rk`](#mas_drawemptydesk_rk)
* [`mas_drawmonika`](#mas_drawmonika)
* [`mas_drawmonika_rk`](#mas_drawmonika_rk)
* [`mas_enableTextSpeed`](#mas_enabletextspeed)
* [`mas_enable_quit`](#mas_enable_quit)
* [`mas_enable_quitbox`](#mas_enable_quitbox)
* [`mas_eraseTopic`](#mas_erasetopic)
* [`mas_eventDataDump`](#mas_eventdatadump)
* [`mas_f14CapGainAff`](#mas_f14capgainaff)
* [`mas_filterUnlockGroup`](#mas_filterunlockgroup)
* [`mas_findEVL`](#mas_findevl)
* [`mas_finishSpriteObjInfo`](#mas_finishspriteobjinfo)
* [`_mas_game_menu`](#_mas_game_menu)
* [`mas_generateGiftsReport`](#mas_generategiftsreport)
* [`mas_generateShoppingList`](#mas_generateshoppinglist)
* [`_mas_generate_backup_notes`](#_mas_generate_backup_notes)
* [`mas_getActiveWindow`](#mas_getactivewindow)
* [`_mas_getBadFiles`](#_mas_getbadfiles)
* [`mas_getConsumable`](#mas_getconsumable)
* [`mas_getEV`](#mas_getev)
* [`mas_getEVCL`](#mas_getevcl)
* [`mas_getGiftStatsForDate`](#mas_getgiftstatsfordate)
* [`mas_getGiftStatsRange`](#mas_getgiftstatsrange)
* [`mas_getGiftedDates`](#mas_getgifteddates)
* [`mas_getNextMonikaBirthday`](#mas_getnextmonikabirthday)
* [`mas_getSpriteObjInfo`](#mas_getspriteobjinfo)
* [`mas_getTimeFile`](#mas_gettimefile)
* [`mas_get_player_bookmarks`](#mas_get_player_bookmarks)
* [`mas_get_player_derandoms`](#mas_get_player_derandoms)
* [`mas_getuser`](#mas_getuser)
* [`mas_giftCapGainAff`](#mas_giftcapgainaff)
* [`mas_hasBookmarks`](#mas_hasbookmarks)
* [`mas_hasLockedClothesWithExprop`](#mas_haslockedclotheswithexprop)
* [`mas_hasSpecialOutfit`](#mas_hasspecialoutfit)
* [`mas_hasUnlockedClothesWithExprop`](#mas_hasunlockedclotheswithexprop)
* [`mas_hideEVL`](#mas_hideevl)
* [`mas_hideEvent`](#mas_hideevent)
* [`mas_hideEventLabel`](#mas_hideeventlabel)
* [`_mas_hide_windows`](#_mas_hide_windows)
* [`_mas_hk_bookmark_topic`](#_mas_hk_bookmark_topic)
* [`_mas_hk_dec_musicvol`](#_mas_hk_dec_musicvol)
* [`_mas_hk_derandom_topic`](#_mas_hk_derandom_topic)
* [`_mas_hk_inc_musicvol`](#_mas_hk_inc_musicvol)
* [`_mas_hk_mute_music`](#_mas_hk_mute_music)
* [`_mas_hk_open_extra_menu`](#_mas_hk_open_extra_menu)
* [`_mas_hk_pick_game`](#_mas_hk_pick_game)
* [`_mas_hk_select_music`](#_mas_hk_select_music)
* [`_mas_hk_show_dialogue_box`](#_mas_hk_show_dialogue_box)
* [`mas_inEVL`](#mas_inevl)
* [`mas_insertSort`](#mas_insertsort)
* [`mas_isA01`](#mas_isa01)
* [`mas_isD25`](#mas_isd25)
* [`mas_isD25Eve`](#mas_isd25eve)
* [`mas_isD25GiftHold`](#mas_isd25gifthold)
* [`mas_isD25Outfit`](#mas_isd25outfit)
* [`mas_isD25Post`](#mas_isd25post)
* [`mas_isD25PostNYD`](#mas_isd25postnyd)
* [`mas_isD25Pre`](#mas_isd25pre)
* [`mas_isD25PreNYE`](#mas_isd25prenye)
* [`mas_isD25Season`](#mas_isd25season)
* [`mas_isF14`](#mas_isf14)
* [`mas_isFall`](#mas_isfall)
* [`mas_isFocused`](#mas_isfocused)
* [`mas_isGameUnlocked`](#mas_isgameunlocked)
* [`mas_isInActiveWindow`](#mas_isinactivewindow)
* [`mas_isMonikaBirthday`](#mas_ismonikabirthday)
* [`mas_isMorning`](#mas_ismorning)
* [`mas_isNYD`](#mas_isnyd)
* [`mas_isNYE`](#mas_isnye)
* [`mas_isO31`](#mas_iso31)
* [`mas_isRstBlk`](#mas_isrstblk)
* [`mas_isSpring`](#mas_isspring)
* [`mas_isSummer`](#mas_issummer)
* [`mas_isTextSpeedEnabled`](#mas_istextspeedenabled)
* [`mas_isWinter`](#mas_iswinter)
* [`mas_isplayer_bday`](#mas_isplayer_bday)
* [`mas_lastGiftedInYear`](#mas_lastgiftedinyear)
* [`mas_lastSeenInYear`](#mas_lastseeninyear)
* [`mas_lastSeenLastYear`](#mas_lastseenlastyear)
* [`mas_lockEVL`](#mas_lockevl)
* [`mas_lockEvent`](#mas_lockevent)
* [`mas_lockEventLabel`](#mas_lockeventlabel)
* [`mas_lockHair`](#mas_lockhair)
* [`mas_mbdayCapGainAff`](#mas_mbdaycapgainaff)
* [`mas_mumuToIdleShield`](#mas_mumutoidleshield)
* [`mas_notifsEnabledForGroup`](#mas_notifsenabledforgroup)
* [`mas_o31CapGainAff`](#mas_o31capgainaff)
* [`mas_o31CostumeWorn`](#mas_o31costumeworn)
* [`mas_o31CostumeWorn_n`](#mas_o31costumeworn_n)
* [`mas_o31HideVisuals`](#mas_o31hidevisuals)
* [`mas_o31SelectCostume`](#mas_o31selectcostume)
* [`mas_o31SetCostumeWorn`](#mas_o31setcostumeworn)
* [`mas_o31SetCostumeWorn_n`](#mas_o31setcostumeworn_n)
* [`mas_o31ShowVisuals`](#mas_o31showvisuals)
* [`mas_open_extra_menu`](#mas_open_extra_menu)
* [`mas_pbdayCapGainAff`](#mas_pbdaycapgainaff)
* [`mas_player_bday_curr`](#mas_player_bday_curr)
* [`_mas_quick_menu_cb`](#_mas_quick_menu_cb)
* [`mas_randomSelectAndPush`](#mas_randomselectandpush)
* [`mas_randomSelectAndRemove`](#mas_randomselectandremove)
* [`mas_rebuildEventLists`](#mas_rebuildeventlists)
* [`mas_receivedGift`](#mas_receivedgift)
* [`mas_recognizedBday`](#mas_recognizedbday)
* [`mas_removeBlacklistReact`](#mas_removeblacklistreact)
* [`mas_removeDelayedAction`](#mas_removedelayedaction)
* [`mas_removeDelayedActions`](#mas_removedelayedactions)
* [`mas_removeDelayedActions_list`](#mas_removedelayedactions_list)
* [`mas_resetIdleMode`](#mas_resetidlemode)
* [`mas_resetTextSpeed`](#mas_resettextspeed)
* [`_mas_resetVersionUpdates`](#_mas_resetversionupdates)
* [`mas_resetWindowReacts`](#mas_resetwindowreacts)
* [`mas_rmEVL`](#mas_rmevl)
* [`mas_rmallEVL`](#mas_rmallevl)
* [`mas_runDelayedActions`](#mas_rundelayedactions)
* [`mas_seasonalCheck`](#mas_seasonalcheck)
* [`mas_sessionDataDump`](#mas_sessiondatadump)
* [`mas_setBackground`](#mas_setbackground)
* [`mas_setWeather`](#mas_setweather)
* [`mas_shouldChangeTime`](#mas_shouldchangetime)
* [`mas_shouldRain`](#mas_shouldrain)
* [`mas_showEVL`](#mas_showevl)
* [`mas_showEvent`](#mas_showevent)
* [`mas_showEventLabel`](#mas_showeventlabel)
* [`mas_splitRandomEvents`](#mas_splitrandomevents)
* [`mas_splitSeenEvents`](#mas_splitseenevents)
* [`mas_startup_song`](#mas_startup_song)
* [`mas_stripEVL`](#mas_stripevl)
* [`mas_surpriseBdayHideVisuals`](#mas_surprisebdayhidevisuals)
* [`mas_surpriseBdayShowVisuals`](#mas_surprisebdayshowvisuals)
* [`mas_transferTopic`](#mas_transfertopic)
* [`mas_transferTopicData`](#mas_transfertopicdata)
* [`mas_transferTopicSeen`](#mas_transfertopicseen)
* [`mas_tryShowNotificationLinux`](#mas_tryshownotificationlinux)
* [`mas_tryShowNotificationOSX`](#mas_tryshownotificationosx)
* [`mas_unlockEVL`](#mas_unlockevl)
* [`mas_unlockEvent`](#mas_unlockevent)
* [`mas_unlockEventLabel`](#mas_unlockeventlabel)
* [`mas_unlockFailedWRS`](#mas_unlockfailedwrs)
* [`mas_unlockGame`](#mas_unlockgame)
* [`mas_unlockPrompt`](#mas_unlockprompt)
* [`mas_unstableDataDump`](#mas_unstabledatadump)
* [`mas_updateFilterDict`](#mas_updatefilterdict)
* [`mas_useThermos`](#mas_usethermos)
* [`mute_music`](#mute_music)
* [`pick_game`](#pick_game)
* [`play_song`](#play_song)
* [`pnmlLoadTuples`](#pnmlloadtuples)
* [`pnmlSaveTuples`](#pnmlsavetuples)
* [`popEvent`](#popevent)
* [`pushEvent`](#pushevent)
* [`queueEvent`](#queueevent)
* [`removeTopicID`](#removetopicid)
* [`remove_seen_labels`](#remove_seen_labels)
* [`replace_text`](#replace_text)
* [`restartEvent`](#restartevent)
* [`safeDel`](#safedel)
* [`seen_event`](#seen_event)
* [`select_music`](#select_music)
* [`set_keymaps`](#set_keymaps)
* [`show_calendar`](#show_calendar)
* [`show_dialogue_box`](#show_dialogue_box)
* [`slow_nodismiss`](#slow_nodismiss)
* [`strip_mas_birthdate`](#strip_mas_birthdate)
* [`unlockEvent`](#unlockevent)
* [`unlockEventLabel`](#unlockeventlabel)
* [`updateGameFrom`](#updategamefrom)
* [`updateTopicIDs`](#updatetopicids)
* [`zoom_smoothly`](#zoom_smoothly)

## `CustomEncoder`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_calendar` | [`global_-1`]() | `-1` | `JSONEncoder` |

```
Custom JSONEncoder used to process sets
```
#### TOC
* [`default`](#default)

### `default`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`CustomEncoder`](#customencoder) | `` | `public` |

## `MASAccessory`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASAccessoryBase` |

```
Standard MASAccessory object.

PROPERTIES:
    hl_map - MASHighlightMap containing MASFilterMap objects.

See MASAccessoryBase for inherited properties.
```
#### TOC
* [Constructor](#constructor-11)
* [`opt_gethlc`](#opt_gethlc)
* [`build_loadstrs`](#build_loadstrs)
* [`__build_loadstrs_hl`](#__build_loadstrs_hl)
* [`gethlc`](#gethlc)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASAccessory`](#masaccessory) | `` |

```
Constructor.

IN:
    name - name of this accessory
    img_sit - file name of the sitting image
    pose_map - MASPoseMap object that contains pose mappings
    img_stand - file name of the standing image
        IF this is not passed in, we assume the standing version
            has no accessory.
        (Default: "")
    rec_layer - recommended layer to place this accessory
        (Must be one the ACS types in MASMonika)
        (Default: MASMonika.PST_ACS)
    priority - render priority. Lower is rendered first
        (Default: 10)
    stay_on_start - True means the accessory is saved for next
        startup. False means the accessory is dropped on next
        startup.
        (Default: False)
    entry_pp - programming point to call when wearing this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    exit_pp - programming point to call when taking off this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    acs_type - type, for ease of organization of acs
        This works with mux type to determine if an ACS can work
        with another ACS.
        (Default: None)
    mux_type - list of acs types that should be
        mutually exclusive with this acs.
        this works with acs_type to determine if this works with
        other ACS.
        (Default: None)
    ex_props - dict of additional properties to apply to this
        sprite object.
        (Default: None)
    dlg_data - tuple of the following format:
        [0] - string to use for dlg_desc
        [1] - boolean value for dlg_plur
        (Default: None)
    keep_on_desk - determines if ACS should be shown if monika
        leaves
        (Default: False)
    hl_data - ACS highlight data. Format: tuple:
        [0] - default MASFilterMap highlight to use
            if None, then no default highlight
        [1] - dict of the following format:
            key: values used for pose_map
            value: MASFilterMap to associate with that pose id
                None means no highlight for the pose code
            if None, then no mapped highlights
        if None, then no highlights at all
        (Default: None)
```
### `opt_gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessory`](#masaccessory) | `` | `public` |

```
MASAccessory-specific gethlc.
Optimized to only accept the args that actually matter for
MASAccessory objects.

IN:
    poseid - string from pose_map
    flt - fitler to get highlight for
    arm_split - unused
    defval - default value to return
        (Default: None)

RETURNS: highlight code, or None if no highlight
```
### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessory`](#masaccessory) | `` | `public` |

```
See MASSpriteBase.build_loadstrs
```
### `__build_loadstrs_hl`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessory`](#masaccessory) | `` | `private` |

```
Builds highlight load strs for a pose

IN:
    prefix - prefix to apply to the load strings
        should be a list of strings
    poseid - pose id to find highlights for

RETURNS: list of lists of strings
```
### `gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessory`](#masaccessory) | `` | `public` |

```
Gets highlight code.
NOTE: if you already know the poseid, use opt_gethlc

IN:
    leanpose - leanpose to get highlight for
    flt - filter to get highlight for
    hl_key - unused
    defval - default value to return
        (Default: None)

RETURNS: highlight code, or None if no highlight
```
## `MASAccessoryBase`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASSpriteBase` |

```
MASAccesory base objects

PROPERTIES:
    priority - render priority. Lower is rendered first
    acs_type - an optional type to help organize acs
    mux_type - list of acs types that we shoudl treat
        as mutally exclusive with this type. Basically if this acs is
        worn, all acs with a type in this property are removed.
    dlg_desc - user friendly way to describe this accessory in dialogue
        Think "black bow" or "silver earrings"
    dlg_plur - True if the dlg_desc should be used in the plural
        sense, like "these silver earrings", False if not, like:
        "this black bow"
    keep_on_desk - Set to True to keep the ACS on the desk when monika
        leaves, False if not
    hl_map - MASHighlightMap object where keys are defined by the given
        posemap. Value determined by extending classes.

SEE MASSpriteBase for inherited properties
```
#### TOC
* [Constructor](#constructor-12)
* [`opt_gethlc`](#opt_gethlc-1)
* [`get_arm_split_code`](#get_arm_split_code)
* [`get_priority`](#get_priority)
* [`get_rec_layer`](#get_rec_layer)
* [`_prepare_hl_data`](#_prepare_hl_data)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASAccessoryBase`](#masaccessorybase) | `` |

```
MASAccessory constructor

IN:
    aso_type - Accessory Sprite Object type
    name - name of this accessory
    img_sit - file name of the sitting image
    pose_map - MASPoseMap object that contains pose mappings
    img_stand - file name of the standing image
        IF this is not passed in, we assume the standing version
            has no accessory.
        (Default: "")
    rec_layer - recommended layer to place this accessory
        (Must be one the ACS types in MASMonika)
        (Default: MASMonika.PST_ACS)
    priority - render priority. Lower is rendered first
        (Default: 10)
    stay_on_start - True means the accessory is saved for next
        startup. False means the accessory is dropped on next
        startup.
        (Default: False)
    entry_pp - programming point to call when wearing this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    exit_pp - programming point to call when taking off this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    acs_type - type, for ease of organization of acs
        This works with mux type to determine if an ACS can work
        with another ACS.
        (Default: None)
    mux_type - list of acs types that should be
        mutually exclusive with this acs.
        this works with acs_type to determine if this works with
        other ACS.
        (Default: None)
    ex_props - dict of additional properties to apply to this
        sprite object.
        (Default: None)
    dlg_data - tuple of the following format:
        [0] - string to use for dlg_desc
        [1] - boolean value for dlg_plur
        (Default: None)
    keep_on_desk - determines if ACS should be shown if monika
        leaves
        (Default: False)
    hl_data - tuple of the following format:
        [0] - default value for MASHighlightMap
            if None, no default highlight
        [1] - dict-based highlight map data:
            key: string. should match values used in pose_map
            value: highlight data. Determined by extended classes.
                if None, then no highlight for the key
            if None, then no mapped highlights
        if None, no highlights at all
        (Default: None)
```
### `opt_gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessoryBase`](#masaccessorybase) | `` | `public` |

```
Optimized highlight code getter. Implementation varies in
extended classes.
The point of this is to avoid additional lookups during render.
```
### `get_arm_split_code`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessoryBase`](#masaccessorybase) | `` | `public` |

```
NOTE: we are keeping this around for compatiblity purposes

IN:
    poseid - ignored

RETURNS: empty list
```
### `get_priority`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessoryBase`](#masaccessorybase) | `staticmethod` | `public` |

```
Gets the priority of the given accessory

This is for sorting
```
### `get_rec_layer`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessoryBase`](#masaccessorybase) | `` | `public` |

```
Returns the recommended layer ofr this accessory

RETURNS:
    recommend MASMOnika accessory type for this accessory
```
### `_prepare_hl_data`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASAccessoryBase`](#masaccessorybase) | `staticmethod` | `internal` |

```
Generates hl-ready data from ahldata

IN:
    hl_data - ahl data. See constructor for info
    pose_map - pose map. see constructor for info

RETURNS: hl data to pass into MASSpriteBase
```
## `MASAffectionRule`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-rules` | [`global_-1`]() | `-1` | `object` |

```
NOTE: DEPRECATED
Use the aff_range property for Events instead

Static Class used to create affection specific rules in tuple form.
That tuple is then stored in a dict containing this rule name constant.
Each rule is defined by a min and a max determining a range of affection
to check against.
```
#### TOC
* [`evaluate_rule`](#evaluate_rule)
* [`create_rule`](#create_rule)

### `evaluate_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASAffectionRule`](#masaffectionrule) | `staticmethod` | `public` |

```
IN:
    event - the event to evaluate
    rule - the MASAffectionRule to check against
    affection - the affection to check the rule against

RETURNS:
    True if the current affection is inside the rule range
```
### `create_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASAffectionRule`](#masaffectionrule) | `staticmethod` | `public` |

```
IN:
    min - An int representing the minimal(inclusive) affection required
        for the event to be available, if None is passed is assumed
        that there's no minimal affection
    max - An int representing the maximum(inclusive) affection required
        for the event to be available, if None is passed is assumed
        that there's no maximum affection
    ev - Event to create rule for, if passed in
        (Default: None)

RETURNS:
    a dict containing the specified rules
```
## `MASArm`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `object` |

```
Representation of an "Arm"

Each Arm consists of of a layered combination:
NOTE: we re using spaced layers so we can insert more if needed.
0 - bottom layer. after body-0 but before table. Primary bottom layer.
5 - middle layer. after table but before body-1.
10 - top layer. after body-1.

PROPERTIES:
    tag - the tag string of this arm
    layer_map - mapping of layer exiestence to image code
        key: layer code
        value: True if exists, False if not
    hl_map - MASHighlightMap with layer code keys
```
#### TOC
* [Constructor](#constructor-13)
* [`_fromJSON`](#_fromjson)
* [`build_loadstrs`](#build_loadstrs-1)
* [`hl_keys`](#hl_keys)
* [`gethlc`](#gethlc-1)
* [`get`](#get-1)
* [`hl_keys_c`](#hl_keys_c)
* [`clean_map`](#clean_map)
* [`__build_loadstrs_hl`](#__build_loadstrs_hl-1)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `` |

```
Constructor

IN:
    tag - tag string for this arm
    layer_map - layer map to use
        key: image layer code
        value: True if exists, False if not
    hl_data - highlght map data. tuple of the following formaT:
        [0] - default MASFilterMap to use. Pass in None to
            not set a default highlight
        [1] - highlight mapping to use. Format:
            key: image layer code
            value: MASFilterMap object, or None if no highlight
        pass in None if no highlights should be used at all
```
### `_fromJSON`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `classmethod` | `internal` |

```
Builds a MASArm object based on the given JSON format of it

IN:
    json_obj - JSON object to parse
    ind_lvl - indent level
    build_class - actual MASArm derivative to build

OUT:
    msg_log - list to save messages to

RETURNS: MASArm instance built with the JSON, or None if failed
```
### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `` | `public` |

```
Builds loadstrs for this arm

IN:
    prefix - prefix to apply to the loadstrs
        should be list of strings

RETURNS: list of lists of strings representing the load strings
    for this arm, + highlights
```
### `hl_keys`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `` | `public` |

```
Returns hl keys for a MASArm

RETURNS: tuple of hl keys
```
### `gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `` | `public` |

```
Gets highlight code.

IN:
    layer_code - layer to get highlight for
    flt - filter to get highilght for
    defval - default value to return
        (Default: None)

RETURNS: highlight code, or None if no highligiht
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `` | `public` |

```
Generates tag name + suffixes to use for
a given layer code. A tag name is a tuple of strings
that can be joined to build the full tag name,
Tag Names do NOT include file extensions

IN:
    layer_code - layer code to fetch tag names for
    prefix - prefix to apply to the tag string if desired
        (Default: [])

RETURNS: list consisting of the tag strings and
    appropriate suffixes
```
### `hl_keys_c`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `classmethod` | `public` |

```
Class method version of hl_keys

RETURNS: tuple of hl keys
```
### `clean_map`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `` | `public` |

```
cleans the given map, ensuring it contains only valid layer
keys. No errors are logged.

IN:
    mapping - mapping to clean
```
### `__build_loadstrs_hl`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArm`](#masarm) | `` | `private` |

```
Builds load strings for a hlight from a given map

IN:
    prefix - prefix to apply
    layer_code - layer code to generate loadstrings for

RETURNS: list of lists of strings representing image path for all
    highlights for a layer code
```
## `MASArmBoth`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASArm` |

```
Representation of an "arm" that actually covers both arms

This currently has no additional behavior.
It's primary use is to act as a type of MASArm

PROPERTIES:
    see MASArm
```
#### TOC

## `MASArmLeft`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASArm` |

```
Representation of a left arm.

Overrides prefix-based functions

PROPERTIES:
    see MASArm
```
#### TOC
* [`build_loadstrs`](#build_loadstrs-2)
* [`get`](#get-2)

### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArmLeft`](#masarmleft) | `` | `public` |

```
Generates loadstrs for this arm

IN:
    prefix - prefix to apply to the loadstrs
        list of strings

RETURNS: list of lists of strings representing the loadstrs
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArmLeft`](#masarmleft) | `` | `public` |

```
See MASArm.get

This adds left- prefix to result
```
## `MASArmRight`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASArm` |

```
Representation of a right arm.

Overrides prefix-based functions

PROPERTIES:
    see MASArm
```
#### TOC
* [`build_loadstrs`](#build_loadstrs-3)
* [`get`](#get-3)

### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArmRight`](#masarmright) | `` | `public` |

```
Generates loadstrs for this arm

IN:
    prefix - prefix to apply to the loadstrs
        list of strings

RETURNS: list of lists of strings representing the loadstrs
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASArmRight`](#masarmright) | `` | `public` |

```
See MASArm.get

This adds right- prefix to result
```
## `MASBackground`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_backgrounds` | [`global_-10`]() | `-10` | `object` |

```
Background class to get display props for bgs

PROPERTIES:
    background_id - the id which defines this bg
    prompt - button label for the bg
    image_map - Dict mapping all images for the bgs, keys are precip types (See MASWeather)
    hide_calendar - whether or not we display the calendar with this
    hide_masks - whether or not we display the window masks
    disable_progressive - weather or not we disable progesssive weather
    unlocked - whether or not this background is unlocked
    entry_pp - entry programming points for bgs
    exit_pp - exit programming points
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-14)
* [`__ne__`](#__ne__-1)
* [`isChangingRoom`](#ischangingroom)
* [`fromTuple`](#fromtuple)
* [`exit`](#exit)
* [`getDayRoom`](#getdayroom)
* [`getNightRoom`](#getnightroom)
* [`toTuple`](#totuple)
* [`entry`](#entry)
* [`__eq__`](#__eq__-1)
* [`getRoomForTime`](#getroomfortime)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` |

```
Constructor for background objects

IN:
    background_id:
        id that defines the background object
        NOTE: Must be unique

    prompt:
        button label for this bg

    image_day:
        the renpy.image object we use for this bg during the day
        NOTE: Mandatory

    image_night:
        the renpy.image object we use for this bg during the night
        NOTE: Mandatory

    image_rain_day:
        the image tag we use for the background while it's raining (day)
        (Default: None, not required)

    image_rain_night:
        the image tag we use for the background while it's raining (night)
        (Default: None, not required)

    image_overcast_day:
        the image tag we use for the background while it's overcast (day)
        (Default: None, not required)

    image_overcast_night:
        the image tag we use for the background while it's overcast (night)
        (Default: None, not required)

    image_snow_day:
        the image tag we use for the background while it's snowing (day)
        (Default: None, not required)

    image_snow_night:
        the image tag we use for the background while it's snowing (night)
        (Default: None, not required)

    hide_calendar:
        whether or not we want to display the calendar
        (Default: False)

    hide_masks:
        weather or not we want to show the windows
        (Default: False)

    disable_progressive:
        weather or not we want to disable progressive weather
        (Default: None, if hide masks is true and this is not provided, we assume True, otherwise False)

    unlocked:
        whether or not this background starts unlocked
        (Default: False)

    entry_pp:
        Entry programming point for the background
        (Default: None)

    exit_pp:
        Exit programming point for this background
        (Default: None)
```
### `__ne__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` |

### `isChangingRoom`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` | `public` |

```
If the room has a different look for the new weather we're going into, the room is "changing" and we need to flag this to
scene change and dissolve the spaceroom in the spaceroom label
```
### `fromTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` | `public` |

```
Loads data from tuple

IN:
    data_tuple - tuple of the following format:
        [0]: unlocked property
```
### `exit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` | `public` |

```
Run the exit programming point
```
### `getDayRoom`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` | `public` |

```
Returns the day masks to use given the conditions/availablity of present assets
```
### `getNightRoom`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` | `public` |

```
Returns the night masks to use given the conditions/availablity of present assets
```
### `toTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` | `public` |

```
Converts this MASWeather object into a tuple

RETURNS: tuple of the following format:
    [0]: unlocked property
```
### `entry`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` | `public` |

```
Run the entry programming point
```
### `__eq__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` |

### `getRoomForTime`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_backgrounds` | [`MASBackground`](#masbackground) | `` | `public` |

```
Gets the room for the current time

IN:
    weather - get the room bg for the time and weather
    (Default: current weather)
```
## `MASBoopInteractable`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_interactions` | [`global_-9`]() | `-9` | `MASInteractable` |

```
Interactable for nose booping
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-15)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_interactions` | [`MASBoopInteractable`](#masboopinteractable) | `` |

```
contstructor

IN:
    chest_open - true if the chest is fully open at start
```
## `MASCalendar`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_calendar` | [`global_-1`]() | `-1` | `Displayable` |

```
Custom Calendar UI, can be used to display the events that are dependent
on dates or to allow user to pick a date

```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-16)
* [`render`](#render-3)
* [`_buttonSelect`](#_buttonselect)
* [`_setupDayButtons`](#_setupdaybuttons)
* [`_showScrollableEventList`](#_showscrollableeventlist)
* [`_xcenter`](#_xcenter)
* [`_changeYear`](#_changeyear)
* [`_setupEasterEG`](#_setupeastereg)
* [`_getEGMonthEvents`](#_getegmonthevents)
* [`_yearSanityChecks`](#_yearsanitychecks)
* [`_changeMonth`](#_changemonth)
* [`event`](#event-2)
* [`_isEvInYear`](#_isevinyear)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` |

```
Constructor for the custom calendar.

IN:
    select_date - a boolean that indicates how this calendar is going to
        do, True indicates that it will select a day, False means that it
        will only be for displaying events.
        (Default: False)
```
### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `public` |

### `_buttonSelect`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Goes through the list of buttons and return the first non-None
value returned

RETURNS:
    first non-none value returned
```
### `_setupDayButtons`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Sets up the day buttons used in the calendar
```
### `_showScrollableEventList`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Displays the events contained in the events list
said list is a list of Strings to show
```
### `_xcenter`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Returns the appropriate X location to center an object with the
given width

IN:
    v_width - width of the view
    width - width of the object to center

RETURNS:
    appropiate X coord to center
```
### `_changeYear`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Changes the currently selected year by incrementing or decrementing it by one
and refreshes the view

IN:
    ascend - flag that indicates wheter increment or decrement
        (Defaults to True)
```
### `_setupEasterEG`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Fills the quip objects used to generate EG events
```
### `_getEGMonthEvents`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Generates a dict of events to display in the calendar
when players go too far away

RETURNS: A dict with the proper structure [day][eventname]
    which contains a repeatable event with a nice label :D
```
### `_yearSanityChecks`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Checks that the current date is on the right interval, otherwise,
it will force it back
```
### `_changeMonth`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Changes the currently selected month by incrementing or decrementing it by one
and refreshes the view

IN:
    ascend - flag that indicates wheter increment or decrement
        (Defaults to True)
```
### `event`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `public` |

### `_isEvInYear`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`MASCalendar`](#mascalendar) | `` | `internal` |

```
Checks if the given event should appear in the given year.

IN:
    ev - event to check
    year - year to check

RETURNS: True if the given event belongs in the given year,
    False otherwise
```
## `MASClothes`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASSpriteFallbackBase` |

```
MASClothes objects

Representations of clothes

PROPERTIES:
    hair_map - dict of available hair styles for these clothes
        keys should be hair name properites. Values should also be
        hair name properties.
        use "all" to signify a default hair style for all mappings that
        are not found.
    pose_arms - MASPoseArms object containing the arms for these
        clothes.
    hl_map - MASHighlightMap with the following format:
        keys:
            "0" - body-0 layer
            "1" - body-1 layer
            "<lean>|0" - body-0 layer for a leaning type
                NOTE: can be multiple of this format
            "<lean>|1" - body-1 layer for a leaning type
                NOTE: can be multiple of this format
        values:
            MASFilterMap objects

SEE MASSpriteFallbackBase for inherited properties
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-17)
* [`build_loadstrs`](#build_loadstrs-4)
* [`by_exprop`](#by_exprop)
* [`hl_keys`](#hl_keys-1)
* [`gethlc`](#gethlc-2)
* [`get_hair`](#get_hair)
* [`hl_keys_c`](#hl_keys_c-1)
* [`__build_loadstrs_hl`](#__build_loadstrs_hl-2)
* [`determine_arms`](#determine_arms)
* [`has_hair_map`](#has_hair_map)
* [`_prepare_hl_data`](#_prepare_hl_data-1)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `` |

```
MASClothes constructor

IN;
    name - name of these clothes
    img_sit - filename of the sitting image for these clothes
    pose_map - MASPoseMap object that contains pose mappings
    img_stand - filename of the standing image for these clothes
        If this is not passed in, this is considered blacklisted
            from standing sprites.
        (Default: "")
    stay_on_start - True means the clothes should reappear on
        startup. False means a restart clears the clothes
        (Default: False)
    fallback - Unused
    hair_map - dict of available hair styles and what they map to
        These should all be strings. To signify a default, add
        a single item called "all" with the value being the hair
        to map to.
        NOTE: use the name property for hairstyles.
        (Default: {})
    entry_pp - programming point to call when wearing this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    exit_pp - programming point to call when taking off this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    ex_props - dict of additional properties to apply to this
        sprite object.
        (Default: None)
    pose_arms - MASPoseMap object represneting the arm layers
        for poses. If None is passed, we assume use the base
        layers as a guide
        (Default: None)
    hl_data - tuple of the following format:
        [0] - default MASFilterMap to use.
            NOTE: it almost certain that you do NOT want to set
                this
            If None, no default highlight
        [1] - mapping dict. Format:
            key: see hl_map proprety
            value: MASFilterMap object, or None if no highlight
        if None, then no highlights at all.
        (Default: None)
```
### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `` | `public` |

```
See MASSpriteBase.build_loadstrs
```
### `by_exprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `staticmethod` | `public` |

```
Gets all clothes that have the given exprop.

IN:
    exprop - exprop to look for
    value - value the exprop should be. Set to None to ignore.

RETURNS: list of MASClothes objects with the given exprop and value
```
### `hl_keys`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `` | `public` |

```
Returns keys used for MASHighlightMap.

RETURNS: keys used for all MASHighlightMaps for MASHair objects
```
### `gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `` | `public` |

```
Gets highlight code

IN:
    bcode - base code to get hlc for (0,1)
    lean - type of lean
    flt - filter to get highlight for
    defval - the default value to return
        (Default: None)

RETURNS: highlight code, or defval is no highlight
```
### `get_hair`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `` | `public` |

```
Given a hair type, grabs the available mapping for this hair type

IN:
    hair - hair type to get mapping for

RETURNS:
    the hair mapping to use inplace for the given hair type
```
### `hl_keys_c`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `classmethod` | `public` |

```
Class method version of hl_keys

RETURNS: tuple of hl keys
```
### `__build_loadstrs_hl`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `` | `private` |

```
Builds loadstrs for body highlights

IN:
    prefix - prefix to apply
        should be a list of strings
    hl_key - key of the hl to use

RETURNS: list of lists of strings representing image paths
```
### `determine_arms`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `` | `public` |

```
Determines arms pose to use for a given leanpose

IN:
    leanpose - leanpose to determine arms pose for

RETURNS: MASPoseArms object to use for this leanpose, or None if
    no MASPoseArms to use
```
### `has_hair_map`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `` | `public` |

```
RETURNS: True if we have a mapping to check, False otherwise
```
### `_prepare_hl_data`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASClothes`](#masclothes) | `classmethod` | `internal` |

```
Generates hl-ready data for MASSpriteBase

IN:
    hl_data - hl data. See constructor for info

RETURNS: hl_data to pass into MASSpriteBase
```
## `MASConsumable`

| File | Store Module | Available After |
| ---:| ---:| ---:|
| `zz_consumables` | [`global_5`]() | `5` |

```
Consumable class

PROPERTIES:
    consumable_id - id of the consumable
    consumable_type - Type of consumable this is
    disp_name - friendly name for this consumable
    container - the container of this consumable (cup, mug, glass, bottle, etc)
    start_end_tuple_list - list of (start_hour, end_hour) tuples
    acs - MASAccessory to display for the consumable
    split_list - list of split hours
    portable - NOTE: Only for drinks, whether or not Monika can take this with her when taking her somewhere
    should_restock_warn - whether or not Monika should warn the player that she's running out of this consumable
    late_entry_list - list of integers storing the hour which would be considered a late entry
    max_re_serve - amount of times Monika can get a re-serving of this consumable
    cons_chance - likelihood of Monika to keep having this consumable
    prep_low - bottom bracket of preparation time (NOTE: Should be passed in as number of seconds)
    prep_high - top bracket of preparation time (NOTE: Should be passed in as number of seconds)
    cons_low - bottom bracket of consumable time (NOTE: Should be passed in as number of seconds)
    cons_high - top bracket of consumable time (NOTE: Should be passed in as number of seconds)
    done_cons_until - the time until Monika can randomly have this consumable again
    get_cons_evl - evl to use for getting the consumable (no prep)
    finish_prep_evl - evl to use when finished preparing a consumable
    finish_cons_evl - evl to use when finished having a consumable
```
#### TOC
* [Constructor](#constructor-18)
* [`_getLowConsType`](#_getlowconstype)
* [`increment`](#increment)
* [`_getLowConsNotWarned`](#_getlowconsnotwarned)
* [`_getConsumablesForTime`](#_getconsumablesfortime)
* [`isLow`](#islow)
* [`shouldPrep`](#shouldprep)
* [`isLateEntry`](#islateentry)
* [`have`](#have)
* [`flagRestockWarn`](#flagrestockwarn)
* [`_getLowCons`](#_getlowcons)
* [`checkCanHave`](#checkcanhave)
* [`use`](#use)
* [`getAmountHad`](#getamounthad)
* [`hasRestockWarned`](#hasrestockwarned)
* [`prepable`](#prepable)
* [`resetRestockWarnFlag`](#resetrestockwarnflag)
* [`_validatePersistentData`](#_validatepersistentdata)
* [`isStillPrep`](#isstillprep)
* [`shouldHave`](#shouldhave)
* [`__checkingLogic`](#__checkinglogic)
* [`restock`](#restock)
* [`getStock`](#getstock)
* [`_getEnabledConsumables`](#_getenabledconsumables)
* [`enable`](#enable-1)
* [`__getCurrentConsumable`](#__getcurrentconsumable)
* [`disable`](#disable-1)
* [`_checkConsumables`](#_checkconsumables)
* [`_getCurrentFood`](#_getcurrentfood)
* [`hasServing`](#hasserving)
* [`_isStillCons`](#_isstillcons)
* [`isCriticalLow`](#iscriticallow)
* [`enabled`](#enabled)
* [`isConsTime`](#isconstime)
* [`re_serve`](#re_serve)
* [`prepare`](#prepare)
* [`_getCurrentDrink`](#_getcurrentdrink)
* [`_absentUse`](#_absentuse)
* [`_isHaving`](#_ishaving)
* [`_reset`](#_reset)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` |

```
MASConsumable constructor

IN:
    consumable_id - id for the consumable
        NOTE: Must be unique

    consumable_type - type of consumable:
        0 - Drink
        1 - Food

    disp_name - Friendly diaply name (for use in dialogue)

    container - containment for this consumable (cup/mug/bottle/etc)

    start_end_tuple_list - list of tuples storing (start_hour, end_hour)
        NOTE: Does NOT support midnight crossover times. If needed, requires a separate entry
        NOTE: end_hour is exclusive

    acs - MASAccessory object for this consumable

    split_list - list of split hours for prepping

    portable - NOTE: for drinks only. True if Monika can take this with her when going out
        (Default: False)

    should_restock_warn - should Monika warn the player that this needs to be restocked?
        (Default: True)

    late_entry_list - list of times storing when we should load in with a consumable already out
        If None, the start times from the start_end_tuple_list are assumed
        NOTE: must be the same length as start_end_tuple_list
        (Default: None)

    max_re_serve - amount of times Monika can get a refill of this consumable
        (Default: None)

    cons_chance - chance for Monika to continue having this consumable
        (Default: 80/100)

    cons_low - low bracket for Monika to have this consumable
        (NOTE: Should be passed in as seconds)
        (Default: 10 minutes)

    cons_high - high bracket for Monika to have this consumable
        (NOTE: Should be passed in as seconds)
        (Default: 2 hours)

    prep_low - low bracket for prep time
        (NOTE: Should be passed in as seconds)
        (Default: 2 minutes)
        NOTE: If set to None, this will not be considered preppable

    prep_high - high bracket for prep time
        (NOTE: Should be passed in as seconds)
        (Default: 4 minutes)
        NOTE: If set to None, this will not be considered preppable

    get_cons_evl - evl to use for getting the consumable. If None, a generic is assumed
        (Default: None)

    finish_prep_evl - evl to use when finished prepping. If None, a generic is assumed
        (Default: None)

    finish_cons_evl - evl to use when finished prepping. If None, a generic is assumed
        (Default: None)
```
### `_getLowConsType`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Gets a list of all consumables (of the provided type) which Monika is low on (and should warn about)

IN:
    _type - Type of consumables to get a low list for
    critical - Whether the list should be only those Monika is critically low on
        (Default: False)
    exclude_restock_warned - Whether or not we want to exclude consumables we've restock warned already
        (Default: False)

OUT:
    list of all consumables of the provided type Monika is low on (or critical on), matching the entered criteria
```
### `increment`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Increments the amount of times Monika has had the consumable
```
### `_getLowConsNotWarned`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Gets a list of all consumables which Monika is low on that she's not restock warned

IN:
    - critical - Whether this list should only be populated by items Monika is critically low on or not
        (Default: False)

OUT:
    list of all consumables Monika
```
### `_getConsumablesForTime`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Gets a list of all consumable drinks active at this time

IN:
    _type - type of consumables to get

OUT:
    list of consumable objects of _type enabled and within time range
```
### `isLow`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we're running low on a consumable

OUT:
    boolean:
        - True if we're less than or equal to the LOW_STOCK_AMT value
        - False otherwise
```
### `shouldPrep`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we're in the time range for this consumable and we should prepare it

IN:
    _time - datetime.datetime to check if we're within the time for
        If none, now is assumed
        (Default: None)

OUT:
    boolean:
        - True if we're within the preparation time(s) of this consumable (and consumable is preparable)
        - False otherwise
```
### `isLateEntry`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we should load with a consumable already out or not

IN:
    _now - datetime.datetime to check if we're within the time for the consumable
    If None, now is assumed
    (Default: None)

OUT:
    boolean:
        - True if we should load in with consumable already out
        - False otherwise
```
### `have`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Allows Monika to have this consumable
(Sets up the finished consumable event)

IN:
    _start_time - time to start prepping. If none, now is assumed
    skip_leadin - whether or not we should push the event where Monika gets something to have
```
### `flagRestockWarn`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Flags a consumable as having been restock warned
```
### `_getLowCons`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Gets a list of all consumables which Monika is low on, regardless of type (and should warn about)

IN:
    - critical - Whether this list should only be populated by items Monika is critically low on or not
        (Default: False)

OUT:
    list of all consumables Monika is low on (or critical on)
```
### `checkCanHave`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we can have this consumable again

IN:
    _now - datetime.datetime to check against
        If None, now is assumed
        (Default: None)

OUT:
    boolean:
        - True if we can have this consumable
        - False otherwise
```
### `use`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Uses a serving of this consumable

IN:
    amount - amount of servings to use up
    (Default: 1)
```
### `getAmountHad`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Gets the amount of servings Monika has had of the consumable

OUT:
    integer:
        - The amount of times Monika has had the consumable
```
### `hasRestockWarned`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Return the has restock warned flag
```
### `prepable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if this consumable is preparable

OUT:
    boolean:
        - True if this consumable has:
            1. prep_high
            2. prep_low

        - False otherwise
```
### `resetRestockWarnFlag`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Resets the restock warn flag
```
### `_validatePersistentData`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Verifies that the data stored in persistent._mas_current_consumable is valid to the consumables currently set up

IN:
    _type - type of consumable to validate persistent data for

NOTE: If the persistent data stored isn't valid, it is reset.
```
### `isStillPrep`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we're still prepping something of this type

IN:
    _now - datetime.datetime object representing current time

OUT:
    boolean:
        - True if we're still prepping something
        - False otherwise
```
### `shouldHave`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we should have this consumable now

CONDITIONS:
    1. We're within the consumable time range
    2. We pass the chance check to have this consumable
    3. We have not met/exceeded the maximum re-serve amount

IN:
    _now - datetime.datetime to check if we're within the timerange for this consumable
    If None, now is assumed
    (Default: None)

OUT:
    boolean:
        - True if we should have this consumable (passes above conditions)
        - False otherwise

NOTE: This does NOT anticipate splits/preparation
```
### `__checkingLogic`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `private` |

```
Generalized logic to check if we should have a consumable

IN:
    _type - consumable type
    curr_cons - current_consumable (of _type)
    startup - whether or not to perform a startup check
```
### `restock`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Adds more servings of the consumable

IN:
    servings - amount of servings to add
    (Default: 100)
    clear_flag - whether or not we should clear the has_restock_warned flag
    (Default: True)
```
### `getStock`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Gets the amount of servings left of a consumable

OUT:
    integer:
        - The amount of servings left for the consumable
```
### `_getEnabledConsumables`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Gets all enabled consumables

OUT:
    List of MASConsumable objects which are enabled

NOTE: enabled is regardless of stock amount
```
### `enable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Enables the consumable
```
### `__getCurrentConsumable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `private` |

```
Gets the current consumable, provided by type

IN:
    _type - consumable type to get the current consumable for

OUT:
    MASConsumable object representing the current consumable object for the type
    If there's no consumable out by _type, None is returned
```
### `disable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Disables the consumable
```
### `_checkConsumables`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Logic to handle Monika having a consumable both on startup and during runtime

IN:
    startup - Whether or not we should check for a late entry
    (Default: False)
```
### `_getCurrentFood`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Gets the MASConsumable object for the current food or None if we're not eating

OUT:
    - Current MASConsumable if eating
    - None if not eating
```
### `hasServing`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we have a serving of this consumable in order to use it

OUT:
    boolean:
        - True if we have at least 1 serving left of the consumable
        - False otherwise
```
### `_isStillCons`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Checks if we're still having something

IN:
    _type - Type of consumable to check for
        0 - Drink
        1 - Food

    _now - datetime.datetime object representing current time
        If none, now is assumed
        (Default: None)

OUT:
    boolean:
        - True if we're still having something
        - False otdherwise
```
### `isCriticalLow`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we're critically low on a consumable

OUT:
    boolean:
        - True if we're less than or equal to the LOW_CRITICAL_STOCK_AMT value
        - False otherwise
```
### `enabled`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if this consumable is enabled

OUT:
    boolean:
        - True if this consumable is enabled
        - False otherwise
```
### `isConsTime`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Checks if we're in the time range for this consumable

IN:
    _now - datetime.datetime to check if we're within the time for
        If None, now is assumed
        (Default: None)

OUT:
    boolean:
        - True if we're within the consumable time(s) of this consumable
        - False otherwise
```
### `re_serve`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Increments the re-serve count
```
### `prepare`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `` | `public` |

```
Starts preparing the consumable
(Sets up the finished preparing event)

IN:
    _start_time - time to start prepping. If none, now is assumed
```
### `_getCurrentDrink`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Gets the MASConsumable object for the current drink or None if we're not drinking

OUT:
    - Current MASConsumable if drinking
    - None if not drinking
```
### `_absentUse`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Runs a check on all consumables and subtracts the amount used in the player's absence
```
### `_isHaving`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Checks if we're currently drinking something right now

IN:
    _type - integer representing the consumable type

OUT:
    boolean:
        - True if we have a current consumable of _type and consume time
        - False otherwise
```
### `_reset`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_consumables` | [`MASConsumable`](#masconsumable) | `staticmethod` | `internal` |

```
Resets the events for the consumable and resets the current consumable(s)

IN:
    _type - Type of consumable to reset events for
        (If None, all types are reset. Default: None)
```
## `MASDelayedAction`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-handler` | [`global_-880`]() | `-880` | `object` |

```
A Delayed action consists of the following:

All exceptions are logged

id - the unique ID of this DelayedAction
ev - the event this action is associated with
conditional - the logical conditional we want to check before performing
    action
    NOTE: this is not checked for correctness
    If cond_is_callable is True, then this is called instead of eval'd.
    In that case, the event object in question is passed into the
    callable.
action - EV_ACTION constant this delayed action will perform
    NOTE: this is not checked for existence
    NOTE: this can also be a callable
        the event would be passd in as ev
        if callable, make this return True upon success and false
            othrewise
flowcheck - FC constant saying when this delayed action should be
    checked
    NOTE: this is not checked for existence
been_checked - True if this action has been checked this game session
executed - True if this delayed action has been executed
    - Delayed actions that have been executed CANNOT be executed again
cond_is_callable - True if the conditional is a callable instead of
    a eval check.
    NOTE: we do not check callable for correctness
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-19)
* [`__call__`](#__call__)
* [`makeWithLabel`](#makewithlabel)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `event-handler` | [`MASDelayedAction`](#masdelayedaction) | `` |

```
Constructor

NOTE: MAY raise exceptions
NOTE: also logs exceptions.

IN:
    _id - id of this delayedAction
    ev - event this action is related to
    conditional - conditional to check to do this action
        NOTE: if this is a callable, then event is passed in
    action - EV_ACTION constant for this delayed action
        NOTE: this can also be a callable
            ev would be passed in as ev
        If callable, make this return True on success, False
            otherwise
    flowcheck - FC constant saying when this delaeyd action should
        be checked
    cond_is_callable - True if the conditional is actually a
        callable.
        If this True and None is passed into the conditional, then
        we just return False (aka never run the delayedaction)
        (Default: False)
```
### `__call__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `event-handler` | [`MASDelayedAction`](#masdelayedaction) | `` |

```
Checks if the conditional passes then performs the action

NOTE: logs exceptions

RETURNS:
    True on successful action performed, False otherwise
```
### `makeWithLabel`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-handler` | [`MASDelayedAction`](#masdelayedaction) | `staticmethod` | `public` |

```
Makes a MASDelayedAction using an eventlabel instead of an event

IN:
    _id - id of this delayedAction
    ev_label - label of the event this action is related to
    conditional - conditional to check to do to tihs action
    action - EV_ACTION constant for this delayed action
        NOTE: this can also be a cllable
            ev would be passed in as ev
        If callable, make this return True on success, False
            otherwise
    flowcheck - FC constant saying when this delayed action should
        be checked
    cond_is_callable - True if the conditional is actually a
        callable.
        If this True and None is passed into the conditional, then
        we just return False (aka never run the delayedaction)
        (Default: False)
```
## `MASDockingStation`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_dockingstation` | [`global_-45`]() | `-45` | `object` |

```
Docking station class designed to help with file reading / writing of
certain files.
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `fastIO` | `cStringIO.StringIO` |
| `slowIO` | `StringIO.StringIO` |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-20)
* [`checkForPackage`](#checkforpackage)
* [`_blockiter`](#_blockiter)
* [`__check_access`](#__check_access)
* [`unpackPackage`](#unpackpackage)
* [`_trackPackage`](#_trackpackage)
* [`__str__`](#__str__-1)
* [`packPackage`](#packpackage)
* [`createPackageSlip`](#createpackageslip)
* [`sendPackage`](#sendpackage)
* [`safeRandom`](#saferandom)
* [`smartUnpack`](#smartunpack)
* [`getPackage`](#getpackage)
* [`destroyPackage`](#destroypackage)
* [`__bad_check_read`](#__bad_check_read)
* [`signForPackage`](#signforpackage)
* [`_pack`](#_pack)
* [`getPackageList`](#getpackagelist)
* [`_unpack`](#_unpack)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` |

```
Constructor

IN:
    station - the path to the folder this docking station interacts
        with. (absolute path), will try to create the folder if it
        doesn't exist. Exceptions will be logged.
        NOTE: END WITH '/' please
        (Default: DEF_STATION_PATH)
```
### `checkForPackage`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Checks if a package exists in the docking station

NOTE: will log exceptions

NOTE: no signature checking

IN:
    package_name - the filename we are lookiung for
    check_read - If False, then only check for existence
        (Default: True)

RETURNS:
    True if the package exists
        If check_read is true, then package must also be readable
    False otherwise
```
### `_blockiter`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `staticmethod` | `internal` |

```
Creates an itererator of a file using the given blocksize

NOTE: May throw exceptions

IN:
    fd - file descriptor
        NOTE: seeks this to 0 before starting
    blocksize - size to use for blocks

YIELDS:
    blocks until a block read attempt gave us nothing

ASSUMES:
    given file descriptor is open
```
### `__check_access`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `private` |

```
Checks access of the file at package_path.
Also ensures that the file is not actually is folder.

NOTE:
    will log exceptions

IN:
    package_path - path to the file we want to check access to
    check_read - If True, check for read access in addition to
        file existence

RETURNS:
    True if package exists / is readable.
    Otherwise:
        if check_read is True, returns None
        otherwise, returns False
```
### `unpackPackage`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Unpacks a package
(decodes a base64 file into a regular StringIO buffer)

NOTE: may throw exceptions

IN:
    package - file descriptor of the file to decode / unpack
        NOTE: is CLOSED after reading
    pkg_slip - sha256 hex checksum of what the package data should
        be. If passed in, then we check this against the package
        NOTE: generated checksum uses data BEFORE it is decoded
        (Default: None)

RETURNS:
    StringIO buffer containing the package decoded
    Or None if pkg_slip checksum was passed in and the given
        package failed the checksum
```
### `_trackPackage`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `internal` |

```
Adds this docking station's path tot he package_name so we can
access it and stuff

IN:
    package_name - name of the package

RETURNS:
    package_name in a valid package_path ready for checking
```
### `__str__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` |

```
toString
```
### `packPackage`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Packs a package so it can be sent
(encodes a data buffer into base64)

NOTE: may throw exceptions

IN:
    contents - the bytes buffer we want to pack. Recommened to use
        StringIO here, but any buffer that supports read(bytes)
        will work fine.
        NOTE: is CLOSED after reading
    pkg_slip - True will generate a checksum for the data buffer
        and return that as well
        (Default: False)

RETURNS:
    tuple of the following format:
    [0] - base64 version of the given data, in a cStringIO buffer
    [1] - sha256 checksum if pkg_slip is True, None otherwise
```
### `createPackageSlip`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Generates a checksum for a package (which is a file descriptor)

NOTE: may throw exceptions

NOTE: when checking packages, we read by B64_READ_SIZE always

IN:
    package - file descriptor of the package we want
        NOTE: is seek(0)'d after reading
    bs - blocksize to use. IF None, the default blocksize is ued
        (Default: None)

RETURNS:
    sha256 checksum (hexadec) of the given package, or None
    if error occured
```
### `sendPackage`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Sends a package into the docking station
(Writes a file in this stations' folder)

NOTE: exceptions are logged

IN:
    package_name - name of the file to write
    package - the data to write as bytes
    unpacked - True means that package is not in base64
        False means that it is in base64
        (Default: False)
    pkg_slip - True means we should generate a sha256 checksum for
        the package and return that
        (Default: False)

RETURNS:
    sha256 checksum if pkg_slip is True
    True if package was sent successfully and pkg_slip is False
    False Otherwise
```
### `safeRandom`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Generates a random amount of unicode-safe bytes.

IN:
    amount - number of bytes to generate
```
### `smartUnpack`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Combines parts of signForPackage and _unpack in a way that is very
useful for us

NOTE: all exceptions are logged

NOTE: if contents was passed in an error occurred (PKG_E will be in
    the return bits), then the contents of contents is undefined.

IN:
    package_name - name of the package to read in
    pkg_slip - chksum to check package with (considerd PRE b64 decode)
    contents - buffer to save contents of package.
        If None, we save contents to a StringIO object and return
        that
        (Default: None)
    lines - number of lines to retrieve when reading data.
        If less than 0, then we scan the file itself to tell us
        how many lines to read.
        If "all", then we read ALL LINES
        (Default: 0)
    b64 - True means the package is encoded in base64
        (Default: True)
    bs - blocksize to use. By default, we use B64_READ_SIZE
        (Default: None)

RETURNS: tuple of the following format
    [0]: PKG_* bits constants highlighting success/failure status
    [1]: buffer containing the contents of the package.
        If contents is not None, this is the same reference as
        contents.
```
### `getPackage`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Gets a package from the docking station

NOTE: will log exceptions

IN:
    package_name - The filename we are looking for

RETURNS:
    open file descriptor to the package (READ BYTES mode)
        if package is readable and no errors occurred
    None otherwise
```
### `destroyPackage`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Attempts to destroy the given package in the docking station.

NOTE: exceptions are logged

IN:
    package_name - name of the package to delete

RETURNS:
    True if package no exist or was deleted. False otherwise
```
### `__bad_check_read`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `private` |

```
Returns an appropriate failure value givne the check_read value

IN:
    check_read - the value of check_read

RETURNS:
    None if check_read is True, False otherwise
```
### `signForPackage`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Gets a package, checks if all the contents are there, and then
deletes the packaging.
(Check if a file exists, is readable, has the checksum of the
passed in pkg_slip, then deletes the file on disk)

NOTE: Exceptions are logged

IN:
    package_name - name of the file to check
    pkg_slip - sha256 checksum the file should match
    keep_contents - if True, then we copy the data into a StringIO
        buffer and return it.
        (Defualt: False)
    bs - blocksize to use when reading the package
        IF None, the default blocksize is used
        (Default: None)

RETURNS:
    if the package matches signature:
        - if keep_contents is True
            StringIO buffer containing decoded data
        - otherwise, 1 is returned
    if package found but no sig match
        - NOTE: if this happens, we NEVER delete teh package
        - return -2
    if package not found
        - return -1
    0 otherwise (like if error occured)
```
### `_pack`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `internal` |

```
Runs the packing algorithm for given file descriptors
Supports:
    1. encoding and checksumming data
        this will encode the input, checksum it, then write to
        output
    2. encoding data
        this will encode the input, then write to output
    3. checksumming data
        this will checksum the input. DOES NOT WRITE to output

NOTE: may throw exceptions
NOTE: if both pack and pkg_slip are False, this does absoultely
    nothing

IN:
    contents - file descriptor to read data from
    box - file descriptor to write data to
    pack - if True, encode the input data into base64 prior to
        writing to output data
        (Default: True)
    pkg_slip - if True, generate a checksum of the data.
        NOTE: if pack is True, this is done using data AFTER
            encoding
        (Default: True)
    bs - blocksize to use. If None, we use READ_SIZE
        (Default: None)

RETURNS:
    generated sha256 checksum if pkg_slip is True
    Otherwise, None
```
### `getPackageList`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `public` |

```
Gets a list of the packages in the docking station.
We also ensure that the item retrieved is not a folder.

IN:
    ext_filter - extension filter to use when getting list.
        the '.' is added if not already given.
        If not given, we get all the packages
        (Default: "")

RETURNS: list of packages
```
### `_unpack`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dockingstation` | [`MASDockingStation`](#masdockingstation) | `` | `internal` |

```
Runs the unpacking algorithm for given file descriptors
Supports:
    1. checksumming and decoding data
        this will checksum input, decode it, then write to output
    2. decoding data
        this will decode the input, then write to ouput
    3. checksumming data
        this will checksum the input. DOES NOT WRITE to output

NOTE: may throw exceptions
NOTE: if both unpack and pkg_slip are False, this does absolutely
    nothing

IN:
    box - file descriptor to read data from
    contents - file descriptor to write data to
    unpack - if True, decode input data from base64 prior to
        writing output data
        (Default: True)
    pkg_slip - if True, genereate a checksum of the data.
        NOTE: if unpack is True, this is done using data BEFORE
            decoding
        (Default: True)
    bs - blocksize to use. If None, use B64_READ_SIZE
        (Default: None)

RETURNS:
    generated sha256 checksum if pkg_slip is True
    Otherwise, None
```
## `MASFarewellRule`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-rules` | [`global_-1`]() | `-1` | `object` |

```
Static Class used to create farewell specific rules in tuple form.
That tuple is then stored in a dict containing this rule name constant.
Each rule is defined by a special random chance.
random_chance is used to define the 1 in random_chance chance that this
farewell can be called
```
#### TOC
* [`evaluate_rule`](#evaluate_rule-1)
* [`create_rule`](#create_rule-1)

### `evaluate_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASFarewellRule`](#masfarewellrule) | `staticmethod` | `public` |

```
IN:
    event - the event to evaluate
    rule - the MASFarewellRule to check it's random_chance

RETURNS:
    True if the random returned 1
```
### `create_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASFarewellRule`](#masfarewellrule) | `staticmethod` | `public` |

```
IN:
    random_chance - An int used to determine 1 in random_chance
        special chance for this farewell to appear
    ev - Event to create rule for, if passed in
        (Default: None)

RETURNS:
    a dict containing the specified rules
```
## `MASFilterMap`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart-matrix` | [`global_-2`]() | `-2` | `object` |

```
The FilterMap connects filters to values

PROPERTIES:
    map - dict containg filter to string map
        key: filter constant
        value: string or, None if no highlight
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-21)
* [`__ne__`](#__ne__-2)
* [`cachecreate`](#cachecreate)
* [`_fromJSON_value`](#_fromjson_value)
* [`clean_flt_pairs`](#clean_flt_pairs)
* [`get`](#get-4)
* [`unique_values`](#unique_values)
* [`fromJSON`](#fromjson)
* [`__hash__`](#__hash__)
* [`__eq__`](#__eq__-2)
* [`flt_hash`](#flt_hash)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `` |

```
Constructor

IN:
    default - default code to apply to all filters
        (Default: None)
    **filter_pairs - filter=val args to use. invalid filters are
        ignored.
        See FILTERS dict. Example:
            day=None
            night="0"
```
### `__ne__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `` |

```
Not equals implmentation.
MASFilterMaps are not equal based on their internal tuple/hash var
```
### `cachecreate`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `staticmethod` | `public` |

```
Creates a MASFilterMap object ONLY if it is not in the filtermap
cache.

IN:
    default - See constructor for MASFilterMap
    **filter_pairs - See constructor for MASFilterMap

RETURNS: MASFilterMap object to use
```
### `_fromJSON_value`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `staticmethod` | `internal` |

```
Parses a single value from the json obj

IN:
    json_obj - JSON object to parse
    ind_lvl - indentation level
    prop_name - name of the prop to parse for

OUT:
    msg_log - list to add messagse to
    output - dict to add data to:
        key: prop_name
        value: prop value

RETURNS: True if we should stop because of failure, false if not
```
### `clean_flt_pairs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `staticmethod` | `public` |

```
cleans given filter pairs, setting defaults and only using valid
filter keys.

IN:
    default - default code to apply to all filters
    filter_pairs - filter pair dict:
        key: filter as string
        value: code to use as string

RETURNS: dict with cleaned filter pairs
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `` | `public` |

```
Gets value from map based on filter

IN:
    flt - filter to lookup
    defval - default value to reutrn if filter not found
        (Default: None)

RETURNS: value for given filter
```
### `unique_values`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `` | `public` |

```
Gets all unique non-None values in this filter map

RETURNS: list of all non-NOne and unique values in this filter
    map
```
### `fromJSON`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `classmethod` | `public` |

```
Builds a MASFilterMap given a JSON format of it

IN:
    json_obj - JSOn object to parse
    ind_lvl - indent lvl
        NOTE: this handles loading/success log, so do not
            increase indent level
    prop_name - name of the prop this MASFilterMap object is
        being created from

OUT:
    msg_log - list to add messages to

RETURNS: MASFilterMap object build using the JSON, or None if not
    creatable, or False if failur
```
### `__hash__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `` |

```
Hashable implementation.
MASFilterMaps are uniqued based on their internal map
```
### `__eq__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `` |

```
Equals implementation.
MASFilterMaps are equal based on their internal tuple/hash var
```
### `flt_hash`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASFilterMap`](#masfiltermap) | `staticmethod` | `public` |

```
Generates a hash based on the given filter pairs

IN:
    flt_pairs - dict of the following format:
        key: filter as string
        value: code to use as string
        NOTE: default is assumed to already been set

RETURNS: hash that would be generated by a MASFilterMAp created
    with the given filter pairs
```
## `MASGraphicsMenu`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_graphicsmenu` | [`global_-1`]() | `-1` | `Displayable` |

```
Custom graphics menu
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `pygame` |

#### TOC
* [Constructor](#constructor-22)
* [`_button_select`](#_button_select)
* [`render`](#render-4)
* [`_xcenter`](#_xcenter-1)
* [`event`](#event-3)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_graphicsmenu` | [`MASGraphicsMenu`](#masgraphicsmenu) | `` |

```
Constructor
```
### `_button_select`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_graphicsmenu` | [`MASGraphicsMenu`](#masgraphicsmenu) | `` | `internal` |

```
Goes through the list of buttons and return the first non-None
value returned

RETURNS:
    first non-none value returned
```
### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_graphicsmenu` | [`MASGraphicsMenu`](#masgraphicsmenu) | `` | `public` |

```
RENDER
```
### `_xcenter`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_graphicsmenu` | [`MASGraphicsMenu`](#masgraphicsmenu) | `` | `internal` |

```
Returns the appropriate X location to center an object with the
given width

IN:
    v_width - width of the view
    width - width of the object to center

RETURNS:
    appropiate X coord to center
```
### `event`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_graphicsmenu` | [`MASGraphicsMenu`](#masgraphicsmenu) | `` | `public` |

```
EVENT
```
## `MASGreetingRule`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-rules` | [`global_-1`]() | `-1` | `object` |

```
Static Class used to create greeting specific rules in tuple form.
That tuple is then stored in a dict containing this rule name constant.
Each rule is defined by a skip_visual boolean and a special random chance.
skip_visual is used to store if the greeting should be executed without
executing the normal visual setup, this is useful for special greetings
random_chance is used to define the 1 in random_chance chance that this
greeting can be called
```
#### TOC
* [`should_skip_visual`](#should_skip_visual)
* [`evaluate_rule`](#evaluate_rule-2)
* [`get_setup_label`](#get_setup_label)
* [`create_rule`](#create_rule-2)
* [`should_override_type`](#should_override_type)

### `should_skip_visual`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASGreetingRule`](#masgreetingrule) | `staticmethod` | `public` |

```
IN:
    event - the event to evaluate, gets priority
    rule - the MASGreetingRule to evaluate

RETURNS:
    True if the rule is True to skip_visual
```
### `evaluate_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASGreetingRule`](#masgreetingrule) | `staticmethod` | `public` |

```
IN:
    event - the event to evaluate
    rule - the MASGreetingRule to check it's random_chance
    defval - value to return if event/rule doesn't exist
        (Default: True)

RETURNS:
    True if the random returned 1
```
### `get_setup_label`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASGreetingRule`](#masgreetingrule) | `staticmethod` | `public` |

```
Gets th setup label from the given ev

IN:
    ev - the event to evalute

RETURNS: setup label, or NOne if not found
```
### `create_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASGreetingRule`](#masgreetingrule) | `staticmethod` | `public` |

```
IN:
    ev - Event to create rule for, if passed in
        (Default: None)
    skip_visual - A boolean stating wheter we should skip visual
        initialization
        (Default: False)
    random_chance - An int used to determine 1 in random_chance
        special chance for this greeting to appear
        If 0, we ignore this property
        (Default: 0)
    setup_label - label to call right after this greeting is
        selected. This happens before post_greeting_check.
        (Default: None)
    override_type - True will let this greeting override type
        checks during selection, False will not
        (Default: False)

RETURNS:
    a dict containing the specified rules
```
### `should_override_type`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASGreetingRule`](#masgreetingrule) | `staticmethod` | `public` |

```
IN:
    ev - the event to evaluate, gets priority
    rule - the MASGreetingRule to evaluate

RETURNS: True if the rule should override types, false if not
```
## `MASHair`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASSpriteFallbackBase` |

```
MASHair objects

Representations of hair items

PROPERTIES:
    split - MASPoseMap object that determins if a pose has split hair
        or not.
        if a pose has True, it is split. False or None means no split.
    hl_map - MASHighlightMap with the following format:
        keys:
            "front" - front hair
            "back" - back hair
            "<lean>|front" - front hair for a leaning type
                NOTE: can be multiple of this format
            "<lean>|back" - back hair for a leaning type
                NOTE: can be multiple of this format
        values:
            MASFilterMap objects

SEE MASSpriteFallbackBase for inherited properties

POSEMAP explanations:
    Use an empty string to
```
#### TOC
* [Constructor](#constructor-23)
* [`build_loadstrs`](#build_loadstrs-5)
* [`hl_keys`](#hl_keys-2)
* [`gethlc`](#gethlc-3)
* [`hl_keys_c`](#hl_keys_c-2)
* [`__build_loadstrs_hl`](#__build_loadstrs_hl-3)
* [`_prepare_hl_data`](#_prepare_hl_data-2)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASHair`](#mashair) | `` |

```
MASHair constructor

IN;
    name - name of this hairstyle
    img_sit - filename of the sitting image for this hairstyle
    pose_map - MASPoseMap object that contains pose mappings
    img_stand - filename of the standing image for this hairstyle
        If this is not passed in, this is considered blacklisted
            from standing sprites.
        (Default: "")
    stay_on_strat - True means the hairstyle should reappear on
        startup. False means a restart clears the hairstyle
        (Default: True)
    fallback - Unused
    entry_pp - programming point to call when wearing this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    exit_pp - programming point to call when taking off this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    split - MASPoseMap object saying which hair has splits or Not.
        If None, we assume hair has splits for everything.
        (Default: None)
    ex_props - dict of additional properties to apply to this
        sprite object.
        (Default: None)
    hl_data - tuple of the following format:
        [0] - default MASFilterMap to use.
            NOTE: it almost certain that you do NOT want to set
                this
            If None, no default highlight
        [1] - mapping dict. Format:
            key: see hl_map property
            value: MASFilterMap object, or None if no highlight
        if None, then no highlights at all.
        (Default: None)
```
### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHair`](#mashair) | `` | `public` |

```
See MASSpriteBase.build_loadstrs
```
### `hl_keys`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHair`](#mashair) | `` | `public` |

```
Returns keys used for MASHighlightMap.

RETURNS: keys used for all MASHighlightMaps for MASHair objects
```
### `gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHair`](#mashair) | `` | `public` |

```
Gets highlight code

IN:
    hair_key - the hair key to get hlc for (front/back)
    lean - type of lean to get hlc for
    flt - filter to get highlight for
    defval - the default value to return
        (Default: None)

RETURNS: highlight code, or defval if no highlight
```
### `hl_keys_c`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHair`](#mashair) | `classmethod` | `public` |

```
Class method of hl_keys

RETURNS: tuple of hl keys
```
### `__build_loadstrs_hl`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHair`](#mashair) | `` | `private` |

```
Builds highlight load strs for a split layer

IN:
    prefix - prefix to apply to the load strings
        should be a list of strings
    hl_key - key of the hl to use

RETURNS: list of lists of strings
```
### `_prepare_hl_data`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHair`](#mashair) | `classmethod` | `internal` |

```
Generates hl-ready data for MASSpriteBase

IN:
    hl_data - hl data. See Constructor for info

RETURNS: hl_data to pass into MASSpriteBase
```
## `MASHighlightMap`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `object` |

```
Maps arbitrary keys to <MASFilterMap> objects

NOTE: values dont have to be MASFilterMAP objects, but certain
    functions will fail if not.

NOTE: this can iterated over to retrieve all objects in here
    EXCEPT for the default.

PROPERTIES:
    None. Use provided functions to manipulate the map.
```
#### TOC
* [Constructor](#constructor-24)
* [`setdefault`](#setdefault)
* [`get`](#get-5)
* [`keys`](#keys)
* [`clear`](#clear)
* [`getdef`](#getdef)
* [`o_fltget`](#o_fltget)
* [`add`](#add)
* [`__iter__`](#__iter__)
* [`convert_mpm`](#convert_mpm)
* [`fltget`](#fltget)
* [`fromJSON`](#fromjson-1)
* [`clear_hl_mapping`](#clear_hl_mapping)
* [`_add_key`](#_add_key)
* [`apply`](#apply)
* [`create_from_mapping`](#create_from_mapping)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` |

```
Constructor

IN:
    keys - iterable of keys that we are allowed to use.
        NOTE: the default catch all key of "*" (KEY_ALL) does NOt
        need to be in here.
    default - value to use as the default/catch all object. This
        is assigned to the KEY_ALL key.
```
### `setdefault`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `public` |

```
Sets the default value

IN:
    value - value to use as default
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `public` |

```
Gets value wth the given key.

IN:
    key - key of item to get

RETURNS: MASFilterMap object, or None if not found
```
### `keys`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `public` |

```
gets keys in this map

RETURNS: tuple of keys
```
### `clear`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `public` |

```
Clears value with the given key.
NOTE: will NOT clear the default even if KEY_ALL is passed in

IN:
    key - key to clear with
```
### `getdef`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `public` |

```
Gets the default value

RETURNS: MASFilterMap object, or NOne if not found
```
### `o_fltget`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `staticmethod` | `public` |

```
Similar to fltget, but on a MASHighlightMap object.
NOTE: does None checks of mhm and flt.

IN:
    mhm - MASHighlightMap object to run fltget on
    key - key to get MASFilterMap from mhm
    flt - filter to get from associated MASFilterMap
    defval - default value to return if no flt value could be found
        (Default: None)

RETURNS: See fltget
```
### `add`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `public` |

```
Adds value to map.
NOTE: type is enforced here. If the given item is NOT a
MASFilterMap or None, it is ignored.
NOTE: this will NOT set the default even if KEY_ALL is passed in

IN:
    key - key to store item to
    value - value to add
        if None is passed, this is equivalent to clear
```
### `__iter__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` |

```
Iterator object (generator)
```
### `convert_mpm`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `staticmethod` | `public` |

```
Converts hl mappings in a MASPoseMap to MASHighlightMAp objects

IN:
    hl_keys - highlight keys to use
    mpm - MASPoseMap object to convert
```
### `fltget`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `public` |

```
Combines getting from here and getting the resulting MASFilterMap
object.

IN:
    key - key to get from this map
    flt - filter to get from associated MASFilterMap, if found
    defval - default value to return if no flt value could be
        found.
        (Default: None)

RETURNS: value in the MASFilterMap associated with the given
    flt, using the MASFilterMap associated with the given key.
    or defval if no valid MASfilterMap or value found.
```
### `fromJSON`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `staticmethod` | `public` |

```
Builds hl data from JSON data

IN:
    json_obj - JSON object to parse
    ind_lvl - indentation level
        NOTE: this function handles loading/success log so
        do NOT increment indent when passing in
    hl_keys - expected keys of this highlight map

OUT:
    msg_log - list to add messagse to

RETURNS: hl_data, ready to passed split and passed into
    create_from_mapping. Tuple:
    [0] - default MASFilterMap object
    [1] - dict:
        key: hl_key
        value: MASFilterMap object
    or None if no data, False if failure in parsing occured
```
### `clear_hl_mapping`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `staticmethod` | `public` |

```
Clears hl mapping in the given hl data object. AKA: Sets the
hl mapping portion of a pre-MHM MPM to {}.

NOTE: this should only be used with  the MASPoseMap._transform
function with MASAccessory

IN:
    hl_mpm_data - hl data set in a MASPoseMap.

RETURNS: hl data to set in a MASPoseMap.
```
### `_add_key`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `internal` |

```
Adds a key to the valid keys list. Also adds a value if desired
NOTE: this is not intended to be done wildly. Please do not
make a habit of adding keys after construction.
NOTE: do not use this to add values. if the given key already
exists, the value is ignored.

IN:
    new_key - new key to add
    new_value - new value to associate with this key
        (Default: None)
```
### `apply`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `` | `public` |

```
Applies the given dict mapping to this MASHighlightMap.
NOTE: will not add invalid keys.

IN:
    mapping - dict of the following format:
        key: valid key for this map
        value: MASFilterMap object or None
```
### `create_from_mapping`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASHighlightMap`](#mashighlightmap) | `staticmethod` | `public` |

```
Creates a MASHighlightMap using keys/default/mapping

IN:
    hl_keys - list of keys to use
    hl_def - default highlight to use. Can be None
    hl_mapping - mapping to use.

RETURNS: created MASHighlightMap
```
## `MASHistorySaver`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_history` | [`global_-850`]() | `-850` | `object` |

```
Class designed to represent mapping of historial data that we need to
save over certain intervals.

PROPERTIES:
    id - identifier of this MASHistorySaver object
        NOTE: Must be unique
    trigger - datetime to trigger the saving
        NOTE: this is changed automatically when saving is done
        NOTE: the trigger's year is what we use to determine where to
            save the historical data
    mapping - mapping of persistent variable names to historical data
        keys
    use_year_before - True means that when saving data, we should use
        trigger.year - 1 as the year to determine where to save
        historical data. This is mainly for year-end events like
        d31 and new years
    dont_reset - True means we do NOT reset the persistent var
        when doing the save.
    entry_pp - programming point called before saving data
        self is passed to this
    exitpp - programming point called after saving data
        self is passed to this
    trigger_pp - programming point called to update trigger with
        instead of the default year+1
    start_dt - datetime that this MHS starts covering
    end_dt - datetime that this MHS stops covering (exclusive)
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-25)
* [`correctTriggerYear`](#correcttriggeryear)
* [`isActiveWithin`](#isactivewithin)
* [`fromTuple`](#fromtuple-1)
* [`isPassed`](#ispassed)
* [`resetData`](#resetdata)
* [`isFuture`](#isfuture)
* [`getSortKey`](#getsortkey)
* [`toTuple`](#totuple-1)
* [`setTrigger`](#settrigger)
* [`save`](#save)
* [`isActive`](#isactive)
* [`isContinuous`](#iscontinuous)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` |

```
Constructor

Throws exception if mhs_id is NOT unique

IN:
    mhs_id - identifier of this MASHistorySaver object
        NOTE: Must be unique
    trigger - datetime of when to trigger data saving for this
        NOTE: if the year of this datetime is 2 years ahead of the
            current year, we reset this to 1 year ahead of the
            current year.
        NOTE: this is changed every time we execute the saveing
            routine
        NOTE: trigger.year is used when saving historical data
    mapping - mapping of the persistent variable names to
        historical data keys
    use_year_before - True will use trigger.year-1 when saving
        historical data instead of trigger.year.
        (Default: False)
    dont_reset - True will NOT reset the persistent var after
        saving.
        (Default: False)
    entry_pp - programming point called before saving data
        self is passed to this
        (Default: None)
    exit_pp - programming point called after saving data
        self is passed to this
        (Default: None)
    trigger_pp - if not None, this pp is called with the current
        trigger when updating trigger, and the returned datetime
        is used as the new trigger.
        (Default: None)
    start_dt - datetime that this MHs starts covering
        if None, then we assume this MHs is continuous
    end_dt - datetime that this MHS stops covering
        if None, then we assume this MHS is continous
```
### `correctTriggerYear`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `staticmethod` | `public` |

```
Determines the correct year to set trigger to.

A triggers with a correct year are basically triggers that have not
passed yet. It's not as simple as increasing year since we have to
account for triggers that have yet to execute this year.

IN:
    _trigger - trigger we are trying to change

RETURNS: _trigger with the correct year
```
### `isActiveWithin`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Checks if this MHS would have been active within the given range
of dt. NOTE: if an MHS is continuous, then we are ALWAYS within
range.

IN:
    start_dt - start of the range to check (inclusive)
    end_dt - end of the range to check (inclusive)

RETURNS: True if this MHS would hav ebeen active in teh given
    range, False ifnot
```
### `fromTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Loads data from the data tuple

IN:
    data_tuple - tuple of the following format:
        [0]: datetime to set the trigger property
        [1]: use_year_before
            - check for existence before loading
```
### `isPassed`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Checks if the given dt is past the active range of this MHS, aka
bigger than the end dt

NOTE: if an MHS is continuous, it is NEVER passed

IN:
    check_dt - datetime to check

RETURNS: True if passed, False if not
```
### `resetData`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Resets data in teh mapping. This is highly dangerous.
```
### `isFuture`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Checks if the given dt is before the active range of this MHS

IN:
    check_dt - dateime to check

RETURNS: True if future, False if not
```
### `getSortKey`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `staticmethod` | `public` |

```
Gets the sort key for this MASHistorySaver

IN:
    _mhs - MASHistorSaver to get sort key

RETURNS the sort key, which is trigger datetime
```
### `toTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Converts this MASHistorySaver object into a tuple

RETURNS tuple of the following format:
    [0]: trigger - the trigger property of this object
    [1]: use_year_before - the use_year_before property of this obj
        NOTE: needed for ease of migrations
```
### `setTrigger`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Sets the trigger of this object. This function does cleansing of
bad trigger dates.

IN:
    _trigger - trigger to change to
```
### `save`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Runs the saving routine

NOTE: does NOT check trigger.

NOTE: will CHANGE trigger
```
### `isActive`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Checks if the given dt is within range of this MHS's range time
NOTE: if an MHS is continuous, then we are ALWAYS in range
NOTE: we are also currently only checking the month/day props
    If we want to take year into acct, then this function will need
    to be changed

IN:
    check_dt - dateime to check

RETURNS: True if in range, False if not
```
### `isContinuous`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_history` | [`MASHistorySaver`](#mashistorysaver) | `` | `public` |

```
Checks if this MHS is continuous.
An MHS is continuous if it does not have datetime ranges.

RETURNS: True if continuos, False if npt
```
## `MASIdleMailbox`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `script-ch30` | [`global_-10`]() | `-10` | `MASMailbox` |

```
Spaceroom idle extension of the mailbox

PROPERTIES:
    (no additional)

See MASMailbox for properties
```
#### TOC
* [Constructor](#constructor-26)
* [`get_idle_cb`](#get_idle_cb)
* [`send_ds_gre_type`](#send_ds_gre_type)
* [`send_idle_cb`](#send_idle_cb)
* [`get_skipmidloopeval`](#get_skipmidloopeval)
* [`get_rebuild_msg`](#get_rebuild_msg)
* [`send_skipmidloopeval`](#send_skipmidloopeval)
* [`send_rebuild_msg`](#send_rebuild_msg)
* [`get_ds_gre_type`](#get_ds_gre_type)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` |

```
Constructor for the idle mailbox
```
### `get_idle_cb`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` | `public` |

```
Gets idle callback label
```
### `send_ds_gre_type`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` | `public` |

```
Sends greeting type to mailbox
```
### `send_idle_cb`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` | `public` |

```
Sends idle callback label to mailbox
```
### `get_skipmidloopeval`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` | `public` |

```
Gets skip midloop eval value
```
### `get_rebuild_msg`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` | `public` |

```
Gets rebuild message
```
### `send_skipmidloopeval`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` | `public` |

```
Sends skip mid loop eval message to mailbox
```
### `send_rebuild_msg`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` | `public` |

```
Sends the rebuild message to the mailbox
```
### `get_ds_gre_type`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `script-ch30` | [`MASIdleMailbox`](#masidlemailbox) | `` | `public` |

```
Gets dockstat greeting type

RETURNS: None by default
```
## `MASMonika`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `object` |

```
Monika character base
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-27)
* [`load`](#load)
* [`restore`](#restore)
* [`wear_acs_bfh`](#wear_acs_bfh)
* [`get_acs_of_exprop`](#get_acs_of_exprop)
* [`reset_clothes`](#reset_clothes)
* [`_verify_rec_layer`](#_verify_rec_layer)
* [`remove_all_acs`](#remove_all_acs)
* [`wear_acs_in`](#wear_acs_in)
* [`_same_state_prims`](#_same_state_prims)
* [`get_acs_of_type`](#get_acs_of_type)
* [`_save_acs_obj`](#_save_acs_obj)
* [`wear_acs`](#wear_acs)
* [`wear_acs_pst`](#wear_acs_pst)
* [`remove_acs`](#remove_acs)
* [`wear_acs_mid`](#wear_acs_mid)
* [`wear_acs_pre`](#wear_acs_pre)
* [`is_wearing_acs`](#is_wearing_acs)
* [`wear_acs_bbh`](#wear_acs_bbh)
* [`remove_all_acs_in`](#remove_all_acs_in)
* [`save_state`](#save_state)
* [`is_wearing_acs_type`](#is_wearing_acs_type)
* [`get_acs_by_desk`](#get_acs_by_desk)
* [`save`](#save-1)
* [`get_outfit`](#get_outfit)
* [`get_acs`](#get_acs)
* [`is_wearing_acs_in`](#is_wearing_acs_in)
* [`is_wearing_ribbon`](#is_wearing_ribbon)
* [`remove_acs_exprop`](#remove_acs_exprop)
* [`__get_acs`](#__get_acs)
* [`is_wearing_acs_with_mux`](#is_wearing_acs_with_mux)
* [`_determine_poses`](#_determine_poses)
* [`_same_state_acs`](#_same_state_acs)
* [`_load_acs`](#_load_acs)
* [`reset_outfit`](#reset_outfit)
* [`reset_all`](#reset_all)
* [`_load`](#_load)
* [`change_outfit`](#change_outfit)
* [`remove_acs_in`](#remove_acs_in)
* [`wear_acs_afh`](#wear_acs_afh)
* [`change_clothes`](#change_clothes)
* [`change_hair`](#change_hair)
* [`_verify_spl_layer`](#_verify_spl_layer)
* [`_load_acs_obj`](#_load_acs_obj)
* [`is_wearing_acs_types`](#is_wearing_acs_types)
* [`reset_hair`](#reset_hair)
* [`is_wearing_hair_with_exprop`](#is_wearing_hair_with_exprop)
* [`same_state`](#same_state)
* [`is_wearing_clothes_with_exprop`](#is_wearing_clothes_with_exprop)
* [`_same_state`](#_same_state)
* [`load_state`](#load_state)
* [`remove_acs_mux`](#remove_acs_mux)
* [`is_wearing_acs_with_exprop`](#is_wearing_acs_with_exprop)
* [`_same_state_acs_prims`](#_same_state_acs_prims)
* [`_save_acs`](#_save_acs)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` |

```
Constructor
```
### `load`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Loads hair/clothes/accessories from persistent.

IN:
    startup - True if loading on start, False if not
        When True, we dont respesct locking
        (Default: False)
```
### `restore`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Restores monika to a previous state. This will reset outfit and
clear ACS before loading.

IN:
    _data - see load_state
    as_prims - see load_state
```
### `wear_acs_bfh`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Wears the given accessory in the pre front hair accesory log

IN:
    acs - accessory to wear
```
### `get_acs_of_exprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Gets the acs objects currently being work of a given ex prop

IN:
    exprop - extended property to check for
    get_all - True means we get all acs being worn of this exprop
        False will return the first one
        (Default: False)

RETURNS: single matching acs or None if get_all is False, list of
    matching acs or empty list if get_all is True.
```
### `reset_clothes`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Resets clothing to default

IN:
    by_user - True if this action was mandated by user, False if
        not. If None, then we do NOT set force clothed vars
        (Default: None)
```
### `_verify_rec_layer`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `staticmethod` | `internal` |

### `remove_all_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Removes all accessories from all accessory lists
```
### `wear_acs_in`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Wears the given accessory

NOTE: will not allow mismatching layers, unless overrides are
    enabled.

IN:
    accessory - accessory to wear
    acs_type - layer to wear the acs in.
```
### `_same_state_prims`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
Compares the given state as primitives

IN:
    data - previous primitive state

RETURNS: True if the same, False if not
```
### `get_acs_of_type`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Gets the acs objects currently being worn of a given type.

IN:
    acs_type - acs type to check for
    get_all - True means we get all acs being worn of this type,
        False will just return the first one
        (Default: False)

RETURNS: single matchin acs or None if get_all is False. list of
    matching acs or empty list if get_all is True.
```
### `_save_acs_obj`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
Generaltes list of acs objects to save

IN:
    acs_type - acs type to buld acs list
    force_acs - True means to save acs even if stay_on_start is
        False
        (Default: False)

RETURNS:
    list of acs objects to save
```
### `wear_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Wears the given accessory in that accessory's recommended
spot, as defined by the accessory.

IN:
    acs - accessory to wear
```
### `wear_acs_pst`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Wears the given accessory in the post body accessory mode

IN:
    acs - accessory to wear
```
### `remove_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Removes the given accessory. this uses the map to determine where
the accessory is located.

IN:
    accessory - accessory to remove
```
### `wear_acs_mid`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Wears the given accessory in the mid body acessory mode

IN:
    acs - acessory to wear
```
### `wear_acs_pre`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Wears the given accessory in the pre body accessory mode

IN:
    acs - accessory to wear
```
### `is_wearing_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Checks if currently wearing the given accessory

IN:
    accessory - accessory to check

RETURNS:
    True if wearing accessory, false if not
```
### `wear_acs_bbh`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Wears the given accessory in the post back hair accessory loc

IN:
    acs - accessory to wear
```
### `remove_all_acs_in`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Removes all accessories from the given accessory type

IN:
    acs_type - ACS type to remove all
```
### `save_state`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Saves hair/clothes/acs to a tuple data format that can be loaded
later using the load_state function.

IN:
    force_hair - True means force hair saving even if stay_on_start
        is False. If False and stay_on_start is False, the default
        hair will be returned.
        (Default: False)
    force_clothes - True meanas force clothes saving even if
        stay_on_start is False. If False and stay_on_start is
        False, the default clothes will be returned.
        (Default: False)
    force_acs - True means force acs saving even if stay_on_start
        is False. At minimum, this will be an empty list.
        (Default: False)
    as_prims - True means to save the data as primitive types
        for persistent saving. False will save the data as
        objects.
        (Default: False)

RETURNS tuple of the following format:
    [0]: clothes data (Default: mas_clothes_def)
    [1]: hair data (Default: mas_hair_def)
    [2]: pre acs data (Default: [])
    [3]: bbh acs data (Default: [])
    [4]: bfh acs data (Default: [])
    [5]: afh acs data (Default: [])
    [6]: mid acs data (Default: [])
    [7]: pst acs data (Default: [])
    [8]: bba acs data (Default: [])
    [9]: mab acs data (Default: [])
    [10]: bse acs data (Default: [])
    [11]: ase acs data (Default: [])
    [12]: bat acs data (Default: [])
    [13]: mat acs data (Default: [])
```
### `is_wearing_acs_type`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Checks if currently wearing any accessory with given type

IN:
    acs_type - accessory type to check

RETURNS: True if wearing acccesroy, False if not
```
### `get_acs_by_desk`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Returns all acs that have a keep_on_desk flag set to flag_value

IN:
    flag_value - flag value to check for
        (Default: True)

RETURNS: list of ACS objects with a keep_on_desk flag set to
    flag_value
```
### `save`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Saves hair/clothes/acs to persistent

IN:
    force_hair - True means we force hair saving even if
        stay_on_start is False
        (Default: False)
    force_clothes - True means we force clothes saving even if
        stay_on_start is False
        (Default: False)
    force_acs - True means we force acs saving even if
        stay_on_start is False
        (Default: False)
```
### `get_outfit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Returns the current outfit

RETURNS:
    tuple:
        [0] - current clothes
        [1] - current hair
```
### `get_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Gets all acs objects currently worn by Monika

RETURNS: list of all acs objects being worn
```
### `is_wearing_acs_in`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Checks if the currently wearing the given accessory as the given
accessory type

IN:
    accessory - accessory to check
    acs_type - accessory type to check

RETURNS:
    True if wearing accessory, False if not
```
### `is_wearing_ribbon`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Checks if we are currently wearing a ribbon or ribbon-like ACS

RETURNS: True if wearing ACS with ribbon type or ACS with
    ribbon-like ex prop
```
### `remove_acs_exprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Removes all ACS of given exprop.

IN:
    exprop - exprop to check for
```
### `__get_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `private` |

```
Returns the accessory list associated with the given type

IN:
    acs_type - the accessory type to get

RETURNS:
    accessory list, or None if the given acs_type is not valid
```
### `is_wearing_acs_with_mux`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Checks if currently wearing any ACS with the given acs_type in its
mux type

IN:
    acs_type - acceessory type to check
```
### `_determine_poses`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
determines the lean/pose/hair/baked data for monika based on
the requested lean and arms

IN:
    lean - requested lean
    arms - requested arms

RETURNS: tuple of the following format:
    [0] - lean to use
    [1] - leanpose to use
    [2] - arms to use
    [3] - hair to use
    [4] - base arms to use
    [5] - pose arms to use
```
### `_same_state_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
Compares given acs lists as acs objects

NOTE: order does not matter

IN:
    a1 - list of acs objects to compare
    a2 - list of acs objects to compare

RETURNS: True if the same, False if not
```
### `_load_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
Loads accessories from the given persistent into the given
acs type.

IN:
    per_acs - persistent list to grab acs from
    acs_type - acs type to load acs into
```
### `reset_outfit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Resetse clothing and hair to default

IN:
    by_user - True if this action was mandated by user, False if
        not. If None, then we do NOT set forced vars
        (Default: None)
```
### `reset_all`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Resets all of monika

IN:
    by_user - True if this action was mandated by user, False if
        not. If None, we do NOT set force vars.
        (Default: None)
```
### `_load`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
INTERNAL

load function using names/IDs

IN:
    _clothes_name - name of clothing to load
    _hair_name - name of hair to load
    _acs_pre_names - list of pre acs names to load
    _acs_bbh_names - list of bbh acs names to load
    _acs_bse_names - list of bse acs names to load
    _acs_bba_names - list of bba acs names to load
    _acs_ase_names - list of ase acs names to load
    _acs_mab_names - list of mab acs names to load
    _acs_bfh_names - list of bfh acs names to load
    _acs_afh_names - list of afh acs names to load
    _acs_mid_names - list of mid acs names to load
    _acs_pst_names - list of pst acs names to load,
    _acs_bat_names - list of bat acs names to load
    _acs_mat_names - list of mat acs names to load
    startup - True if we are loading on start, False if not
        (Default: False)
```
### `change_outfit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Changes both clothes and hair. also sets the persisten forced vars
to by_user, if its not None

IN:
    new_cloth - new clothes to wear
    new_hair - new hair to wear
    by_user - True if this action ws mandated by user, False if not
        If None, we do NOT set the forced vars
        (Default: None)
    startup - True if we are loading on startup, False if not
        (Default: False)
```
### `remove_acs_in`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Removes the given accessory from the given accessory list type

IN:
    accessory - accessory to remove
    acs_type - ACS type
```
### `wear_acs_afh`
**DEPRECATED**

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Wears the given accessory in the between front hair and arms
acs log

IN:
    acs - accessory to wear
```
### `change_clothes`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Changes clothes to the given cloth. also sets the persistent
force clothes var to by_user, if its not None

IN:
    new_cloth - new clothes to wear
    by_user - True if this action was mandated by the user, False
        if not. If None, we do NOT set the forced clothes var
        (Default: None)
    startup - True if we are loading on startup, False if not
        When True, we dont respect locking
        (Default: False)
    outfit_mode - True means we should change hair/acs if it
        completes the outfit. False means we should not.
        NOTE: this does NOT affect hair/acs that must change for
            consistency purposes.
        (Default: False)
```
### `change_hair`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Changes hair to the given hair. also sets the persistent force
hair var to by_user, if its not None

IN:
    new_hair - new hair to wear
    by_user - True if this action was mandated by the user, False
        if not. If None, we do NOT set the forced hair var
        (Default: None)
    startup - True if we are loading on startup, False if not
        When True, we dont respect locking
        (Default: False)
```
### `_verify_spl_layer`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `staticmethod` | `internal` |

### `_load_acs_obj`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
Loads accessories from a given list of accessory objects into
the given acs type

IN:
    acs_objs - list of acs to load
    acs_type - acs type to load acs into
```
### `is_wearing_acs_types`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
multiple arg version of is_wearing_acs_type

IN:
    *acs_types - any number of acs types to check

RETURNS: True if any the ACS types checks are True, False if not
```
### `reset_hair`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Resets hair to default

IN:
    by_user - True if this action was mandated by user, False if
        not. If None, then we do NOT set forced hair vars
        (Default: None)
```
### `is_wearing_hair_with_exprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Checks if we are currently wearing hair with the given exprop

IN:
    exprop - extend property to check

RETURNS: True if wearing hair with the exprop, False if not
```
### `same_state`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
compares if the given state is the same as current monika

IN:
    data - data to compare
    as_prims - True if prims, False if not

RETURNS: True if same state, False if not
```
### `is_wearing_clothes_with_exprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Checks if we are currently wearing clothes with the given exprop

IN:
    exprop - extended property to check

RETURNS: True if wearing clothes with the exprop, False if not
```
### `_same_state`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
Compares the given state as objects

IN:
    data - previous object state

RETURNS: True if the same, False if not
```
### `load_state`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Loads clothes/hair/acs from a tuple data format that was saved
using the save_state function.

IN:
    _data - data to load from. tuple of the following format:
        [0]: clothes data
        [1]: hair data
        [2]: pre acs data
        [3]: bbh acs data
        [4]: bfh acs data
        [5]: afh acs data
        [6]: mid acs data
        [7]: pst acs data
        [8]: bba acs data
        [9]: mab acs data
        [10]: bse acs data
        [11]: ase acs data
        [12]: bat acs data
        [13]: mat acs data
    as_prims - True if this data was saved as primitive data types,
        false if as objects
        (Default: False)
```
### `remove_acs_mux`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Removes all ACS with a mux type in the given list.

IN:
    mux_types - list of acs_types to remove from acs
```
### `is_wearing_acs_with_exprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `public` |

```
Checks if currently wearing any accessory with given exprop

IN:
    exprop - extended property to check

RETURNS: True if wearing accessory, False if not
```
### `_same_state_acs_prims`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
Compares given acs lists as primitive data.

NOTE: order does not matter

IN:
    a1 - list of acs names to compare
    a2 - list of acs names to compare

RETURNS: True if the same, False if not
```
### `_save_acs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASMonika`](#masmonika) | `` | `internal` |

```
Generates list of accessory names to save to persistent.

IN:
    acs_type - acs type to build acs names list
    force_acs - True means to save acs even if stay_on_start is
        False
        (Default: False)

RETURNS:
    list of acs names to save to persistent
```
## `MASNumericalRepeatRule`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-rules` | [`global_-1`]() | `-1` | `object` |

```
Static Class used to create numerical repetition rules in tuple form.
That tuple is then stored in a dict containing this rule name constant.
Each rule is defined by a repeat which specifies the time interval for
the repetition and an advance_by which specifies how many of the time
intervals the next repetition is going to get scheduled.
The repetition rule increases the event start_date and end_date and
works seamlessly with the current calendar function.
```
#### TOC
* [`update_dates`](#update_dates)
* [`evaluate_rule`](#evaluate_rule-3)
* [`create_rule`](#create_rule-3)

### `update_dates`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASNumericalRepeatRule`](#masnumericalrepeatrule) | `staticmethod` | `public` |

```
Updates the start_date and end_date to be the next possible dates
checked against check_time

IN:
    rule - a MASNumericalRepeatRule tuple containing the rules for the
        appropiate update
    check_time - The time to check and update against
    ev - Event to update as well. This will update the existing
        rules of the same key.
        NOTE: this has priority over start_end_dates
        (Default: None)
    start_end_date - tuple of the following format:
        [0]: start_date
        [1]: end_date
        (Default: None)

RETURNS:
    A tuple containing the new start_date and end_date. If bad
    values were given, (-1, -1) is returned
```
### `evaluate_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASNumericalRepeatRule`](#masnumericalrepeatrule) | `staticmethod` | `public` |

```
Evaluates the rule given and updates the event's start_date and
end_date

IN:
    check_time - The datetime to check the rule against
    ev - The Event to check and update
    rule - a MASNumericalRepeatRule tuple containing the rules for the
        appropiate update
        If passed in, we use this instead of the given event's rule
        (Default: None)
    skip_update - True means we shoudl skip updating the given
        Event's rule.
        (Default: False)
    defval - value to return if sanity checks fail or if the
        event doesnt have a rule
        (Default: True)

RETURNS:
    True if the event date comply to the rule, False if it doesn't
```
### `create_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASNumericalRepeatRule`](#masnumericalrepeatrule) | `staticmethod` | `public` |

```
IN:
    repeat - An EV_NUM_RULE, that determines the time unit we'll be
        using to increment the start_date and end_date
    advance_by - A positive integer used to determine how many times
        the desired time unit will be added to start_date and
        end_date
        (Default: 1)
    ev - Event to add this rule to. This will replace exisiting
        rules of the same key.
        (Default: None)

RETURNS:
    a dict containing the specified rule with the appropriate key
```
## `MASPoemWord`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_poemgame` | [`global_-4`]() | `-4` | `object` |

```
the PoemWord class (now with monika)

NOTE: We could potentially just inherit the exisiting PoemWord, but
doing so means we need to init this file AFTER script-poemgame. That
would be disastrous for all script-topics that want to use Poem stuff

ATTRIBUTES:
  word - the word this PoemWord represents (string)
  sPoint - the amount of poitns this gives sayori (int)
  nPoint - the amount of points this gives natsuki (int)
  yPoint - the amount of points this gives yuri (int)
  mPoint - the amount of points this gives monika (int)
  glitch - True means this a glitch word, false if not

```
#### TOC
* [Constructor](#constructor-28)
* [`_hangman`](#_hangman)
* [`_merge`](#_merge)
* [`winner`](#winner)
* [`_build`](#_build)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_poemgame` | [`MASPoemWord`](#maspoemword) | `` |

### `_hangman`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_poemgame` | [`MASPoemWord`](#maspoemword) | `` | `internal` |

```
Returns the approprite tuple of this word and the winner name.

All the input arguments are to change winnner names.

NOTE: highly specialized. Only used in hangman.
NOTE: monika will always have a bias here

RETURNS: tuple of the following format:
    [0]: the word as a string
    [1]: the winner as a string
```
### `_merge`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_poemgame` | [`MASPoemWord`](#maspoemword) | `` | `internal` |

```
Merges a PoemWord into this MASPoemWord

IN:
    _poemword - PoemWord object to merge
    mPoint - points to use for Monika
```
### `winner`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_poemgame` | [`MASPoemWord`](#maspoemword) | `` | `public` |

```
Returns the point value of the winner
```
### `_build`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_poemgame` | [`MASPoemWord`](#maspoemword) | `staticmethod` | `internal` |

```
Builds a MASPoemword from a PoemWord

IN:
    _poemword - Poemword object to build from
    mPoint - points to use for MOnika

RETURNS: a MASPoemWord
```
## `MASPoemWordList`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_poemgame` | [`global_-4`]() | `-4` | `object` |

```
poemword list class. Allows us to dynamically create Poemwords for
the poem minigame

ATTIRBUTES:
  wordlist - list of PoemWords this contains
  wordfile - name/path of file this list is generated from. If None, this
      list was not generated from a file.

```
#### TOC
* [Constructor](#constructor-29)
* [`readInFile`](#readinfile)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_poemgame` | [`MASPoemWordList`](#maspoemwordlist) | `` |

```

Contrusctor for PoemWord list

If a wordfile is passed in, the file will be read
```
### `readInFile`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_poemgame` | [`MASPoemWordList`](#maspoemwordlist) | `` | `public` |

```
copied from poemgame (with adjustments)

Reads in a file into the wordlist

NOTE: On the poemwords file
  The file must consist of the following format:
      word,#1,#2,#3,#4
  WHERE:
      word - the word we want in the poem
      #1 - the points this word gives to sayori
      #2 - the points this word gives to natsuki
      #3 - the points this word gives to yuri
      #4 - the points this word gives to monika
  (LINES that strat with # are ignored)

IN:
  wordfile - the filename/path of the file to read words
```
## `MASPoseArms`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `object` |

```
Collection of MASArm objects. An Arm object is the representation of
an arm sprite.

PROPERTIES:
    arms - dict mapping arms to MASArm objects
        keys: number from NUM_ARMS
        value: MASArm object. None means no arm for this arm

```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-30)
* [`getflp`](#getflp)
* [`build_loadstrs`](#build_loadstrs-6)
* [`get`](#get-6)
* [`_clean_arms`](#_clean_arms)
* [`fromJSON`](#fromjson-2)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASPoseArms`](#masposearms) | `` |

```
Constructor

IN:
    arm_data - see arms property
    def_base - True will use base arms for all missing data
        False will not
        (Default: True)
```
### `getflp`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseArms`](#masposearms) | `` | `public` |

```
Retrieves arms assocaited with the given leanpose

IN:
    leanpose - the leanpose to get arms for

RETURNS: Tuple of arms associated with the leanpose. None may be
    returned if no arms for the leanpose. The number of arms is
    not a guarantee.
```
### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseArms`](#masposearms) | `` | `public` |

```
Generates loadstrs for this PoseArms object

IN:
    prefix - list of strings to apply as prefix

RETURNS: list of lists of strings representing the load strs
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseArms`](#masposearms) | `` | `public` |

```
Gets the arm data associated with the given arm key

IN:
    arm_key - key of the arm data to get

RETURNS: MASArm object requested, or NOne if not available for the
    arm key
```
### `_clean_arms`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseArms`](#masposearms) | `` | `internal` |

```
Cleans arm data given
Will Noneify invalid-typed data

IN:
    arm_data - arm data to clean
    def_base - True will use base arms for all missing data
        False will not

OUT:
    arm_data - cleaned arm data
```
### `fromJSON`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseArms`](#masposearms) | `staticmethod` | `public` |

```
Builds a MASPoseArms object given a JSON format of it

IN:
    json_obj - json object to parse
    ind_lvl - indent level

OUT:
    msg_log - list to save messages to

RETURNS: MASPoseArms object built using the JSON, None if no
    data to be made, False if error occured
```
## `MASPoseMap`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `object` |

```
The Posemap helps connect pose names to images

NOTE: the internal maps are public, but should be converted to
    private.

This is done via a dict containing pose names and where they
map to.

There is also a seperate dict to handle lean variants
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-31)
* [`_verify_mpm_item`](#_verify_mpm_item)
* [`is_fallback`](#is_fallback)
* [`__set_posedefs`](#__set_posedefs)
* [`__sync_all`](#__sync_all)
* [`get`](#get-7)
* [`pn2lp`](#pn2lp)
* [`_transform`](#_transform)
* [`__associate`](#__associate)
* [`unique_values`](#unique_values-1)
* [`values`](#values)
* [`_modify`](#_modify)
* [`lp2pn`](#lp2pn)
* [`__set_defaults`](#__set_defaults)
* [`fromJSON`](#fromjson-3)
* [`__listify`](#__listify)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` |

```
Constructor

If None is passed in for any var, we assume that no image should
be shown for that pose

IN:
    mpm_type - MASPoseMap type of this posemap
        Default is 0 (enable/disble mode)
    default - default pose id to use for poses that are not
        specified (aka are None).
    l_default - default pose id to use for lean poses that are not
        specified (aka are None).
    use_reg_for_l - if True and default is not None and l_default
        is None, then we use the default instead of l_default
        when rendering for lean poses
    **pargs - the remaining name value pairs are checked in param
        names. Each apply to specific pose.
        (See MASPoseArms.PARAM_NAMES and L_PARAM_NAMES)
```
### `_verify_mpm_item`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `classmethod` | `internal` |

```
Verifies data for an mpm item based on type

IN:
    ind_lvl - indent lvl
    mpm_type - mpm type to check values for
    prop_name - name of the item to check
    prop_val - value of the item to check

OUT:
    mpm_data - dict to save data to
    msg_log - list to add messages to

RETURNS: True if successful verification, False if not
```
### `is_fallback`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `public` |

```
Checks if this posemap is a fallback one via type.

RETURNS: True if this posemap is a fallback one, False if not
```
### `__set_posedefs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `private` |

```
Sets pose defaults

IN:
    pose_dict - dict of poses
    _def - default to use here
```
### `__sync_all`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `private` |

```
Syncs internal all map with the internal maps
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `public` |

```
Get passed to the internal pose map
only because its common to call get on this object.

IN:
    pose - pose to get from pose map
    defval - default value to return if pose not found

RETURNS:
    value of pose in internal dict, or defval if not found
```
### `pn2lp`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `staticmethod` | `public` |

```
Converts a PARAM NAME to a leanpose

IN:
    name - name of the param to convert

RETURNS: leanpose associated with param name, or "" if not valid
```
### `_transform`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `internal` |

```
Applies the given function to transform value in each pose
NOTE: this can damage the sprite system if done incorrectly

IN:
    func - function to call for each pose. The current vlaue for
        each pose is passed in. The return value of this function
        is set to the pose.
```
### `__associate`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `private` |

```
Associates the given pargs (retrieved from **pargs) and with
index values related to POSES and L_POSES

IN:
    pargs - dict retrieved from a **pargs var

RETURNS: tuple of the following format:
    [0] - POSES associations. List of tuples:
        [0] - index to map
        [1] - parg value to map to
    [1] - L_POSES associations. List of tuples:
        [0] - index to map
        [1] - parg value to map to
```
### `unique_values`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `public` |

```
Gets all unique non-None values in this MASPoseMap.
NOTE: because MPM's may not include hashable values, this is
try/excepted to handle those cases. If something is non-hashable,
we always return all values.

RETURNS: list of unique non-None values in this MASPoseMap
```
### `values`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `public` |

```
Gets all non-None values in this MASPoseMap.

RETURNS: list of all non-None values in this MASPoseMap
```
### `_modify`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `internal` |

```
Modifes poses based on given pargs.
NOTE: this can damage the sprite system if done incorrectly.

IN:
    **pargs - param name-value pairs. See MASPoseArms.PARAM_NAMES
        and MASPoseArms.L_PARAM_NAMES
```
### `lp2pn`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `staticmethod` | `public` |

```
Converts a leanpose to a PARAM NAME

IN:
    leanpose - leanpose to convert

RETURNS: param name associated with leanpose, or "" if not valid
```
### `__set_defaults`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `private` |

```
Sets all pose defaults
```
### `fromJSON`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `classmethod` | `public` |

```
Builds a MASPoseMap given a JSON format of it

IN:
    json_obj - json object to parse
    ind_lvl - indent lvl
    valid_types - tuple/list of MPM types we should consider valid.
        NOTE: this should be used by the caller to ensure that
        the MPM being loaded is the correct one.
        If not passed, then we don't check for valid types

OUT:
    msg_log - list to add messages to

RETURNS: MASPoseMap object built using the JSON, or None if failed
```
### `__listify`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASPoseMap`](#masposemap) | `` | `private` |

```
Takes the pargs and generates lists of them in the same order as
POSES and L_POSES.

If an item doesnt exist in pargs, None is used

IN:
    pargs - dict retrieved from a **pargs var

RETURNS: tuple of hte following format:
    [0] - list of pose values from pargs, in order of POSES
    [1] - list of lean values from pargs, in order of L_POSES
```
## `MASPriorityRule`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-rules` | [`global_-1`]() | `-1` | `object` |

```
Static class used to create priority rules. Priority rules are just
integers that determine priority of somehting.
Lower numbers mean higher priority.
```
#### TOC
* [`get_priority`](#get_priority-1)
* [`create_rule`](#create_rule-4)

### `get_priority`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASPriorityRule`](#maspriorityrule) | `staticmethod` | `public` |

```
Gets the priority of the given event.

IN:
    ev - event to get priority of

RETURNS the priority of the given event, or def if no priorityrule
    is found
```
### `create_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASPriorityRule`](#maspriorityrule) | `staticmethod` | `public` |

```
IN:
    priority - the priority to set.
        If None is passed in, we use the default priority value.
    ev - Event to add this rule to. This will replace existing
        rules of the same key.
        (Default: None)
```
## `MASSelectableAccessory`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_selector` | [`global_-20`]() | `-20` | `MASSelectableSprite` |

```
Wrapper around MASAccessory sprite objects.

PROPERTIES:
    remover - True if this item is a remover, aka a blank ACS,
        False if not


SEE MASSelectableSprite for inherieted properties
```
#### TOC
* [Constructor](#constructor-32)
* [`get_sprobj`](#get_sprobj)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_selector` | [`MASSelectableAccessory`](#masselectableaccessory) | `` |

```
MASSelectableAccessory

IN:
    _sprite_object - MASAccessory object to build this selectable
        sprite object with.
    display_name - name to show on the selectable screen
    thumb - thumbnail to use on the select screen
    group - group id to group related selectable sprites.
    visible_when_locked - True if this item should be visible in
        the screen when locked, False otherwise
        (Default: True)
    hover_dlg - list of text to display when hovering over the
        object
        (Default: None)
    first_select_dlg - text to display the first time you select
        this sprite
        (Default: None)
    select_dlg - list of text to display everytime you select this
        sprite
        (after the first time)
        (Default: None)
    remove - True if this ACS is a blank ACS (remover), False if
        not
        (Default: False)
```
### `get_sprobj`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableAccessory`](#masselectableaccessory) | `` | `public` |

```
Gets the sprite object associated with this selectable.

RETURNS: the sprite object for this selectbale, or None if not
    found
```
## `MASSelectableClothes`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_selector` | [`global_-20`]() | `-20` | `MASSelectableSprite` |

```
Wrappare around MASClothes sprite objects

PROPERTIES:
    (no additional)

SEE MASSelectableSprite for inherited properties
```
#### TOC
* [Constructor](#constructor-33)
* [`get_sprobj`](#get_sprobj-1)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_selector` | [`MASSelectableClothes`](#masselectableclothes) | `` |

```
MASSelectableClothes constructor

IN:
    _sprite_object - MASClothes object to build this selectable
        sprite object with.
    display_name - name to show on the selectable screen
    thumb - thumbnail to use on the select screen
    group - group id to group related selectable sprites.
    visible_when_locked - True if this item should be visible in
        the screen when locked, False otherwise
        (Default: True)
    hover_dlg - list of text to display when hovering over the
        object
        (Default: None)
    first_select_dlg - text to display the first time you select
        this sprite
        (Default: None)
    select_dlg - list of text to display everytime you select this
        sprite
        (after the first time)
        (Default: None)
```
### `get_sprobj`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableClothes`](#masselectableclothes) | `` | `public` |

```
Gets the sprite object associated with this selectable.

RETURNS: the sprite object for this selectbale, or None if not
    found
```
## `MASSelectableHair`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_selector` | [`global_-20`]() | `-20` | `MASSelectableSprite` |

```
Wrappare around MASHair sprite objects

PROPERTIES:
    (no additional)

SEE MASSelectableSprite for inherited properties
```
#### TOC
* [Constructor](#constructor-34)
* [`get_sprobj`](#get_sprobj-2)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_selector` | [`MASSelectableHair`](#masselectablehair) | `` |

```
MASSelectableHair constructor

IN:
    _sprite_object - MASHair object to build this selectable
        sprite object with.
    display_name - name to show on the selectable screen
    thumb - thumbnail to use on the select screen
    group - group id to group related selectable sprites.
    visible_when_locked - True if this item should be visible in
        the screen when locked, False otherwise
        (Default: True)
    hover_dlg - list of text to display when hovering over the
        object
        (Default: None)
    first_select_dlg - text to display the first time you select
        this sprite
        (Default: None)
    select_dlg - list of text to display everytime you select this
        sprite
        (after the first time)
        (Default: None)
```
### `get_sprobj`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableHair`](#masselectablehair) | `` | `public` |

```
Gets the sprite object associated with this selectable.

RETURNS: the sprite object for this selectbale, or None if not
    found
```
## `MASSelectableImageButtonDisplayable`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_selector` | [`global_-1`]() | `-1` | `Displayable` |

```
Custom button for the selectable items.
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `pygame` |

#### TOC
* [Constructor](#constructor-35)
* [`_blit_top_frame`](#_blit_top_frame)
* [`_hypen_render_split`](#_hypen_render_split)
* [`_send_disabled_select_text`](#_send_disabled_select_text)
* [`render`](#render-5)
* [`_check_display_name`](#_check_display_name)
* [`_send_select_text`](#_send_select_text)
* [`_render_top_frame`](#_render_top_frame)
* [`_render_bottom_frame`](#_render_bottom_frame)
* [`_is_over_me`](#_is_over_me)
* [`_send_msg_disp_text`](#_send_msg_disp_text)
* [`event`](#event-4)
* [`_send_first_select_text`](#_send_first_select_text)
* [`_render_display_name`](#_render_display_name)
* [`_hover`](#_hover)
* [`_setup_display_name`](#_setup_display_name)
* [`_check_render_split`](#_check_render_split)
* [`_rand_select_dlg`](#_rand_select_dlg)
* [`_select_disabled`](#_select_disabled)
* [`_render_bottom_frame_piece`](#_render_bottom_frame_piece)
* [`_split_render_tokens`](#_split_render_tokens)
* [`_send_hover_text`](#_send_hover_text)
* [`_blit_bottom_frame`](#_blit_bottom_frame)
* [`_select`](#_select)
* [`_render_top_frame_piece`](#_render_top_frame_piece)
* [`_token_render_split`](#_token_render_split)
* [`_send_generic_select_text`](#_send_generic_select_text)
* [`_split_render`](#_split_render)
* [`_display_name`](#_display_name)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` |

```
Constructor for this displayable

IN:
    selectable - the selectable object we want to encapsulate
    select_map - dict containing group keys of previously selected
        objects.
    viewport_bounds - tuple of the following format:
        [0]: xpos of the viewport upper left
        [1]: ypos of the viewport upper left
        [2]: width of the viewport
        [3]: height of the viewport
        [4]: border size
    mailbox - dict to send messages to outside from this
        displayable.
        (Default: None)
    multi_select - True means we can select more than one item.
        False otherwise
        (Default: False)
    disable_type - pass in a disable constant to disable this item
        for the specified reason.
        (Default: 0 - DISB_NONE)
```
### `_blit_top_frame`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
bliting the top frames

IN:
    r - render to blit to
    _renders - list of top renders to blit
    _disp_name - list of display name renders to blit
```
### `_hypen_render_split`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Splits a line via hypen.

We do a reverse through the string to find appropriate render
sizes.

NOTE: we add renders to self.item_name

IN:
    line - line to split
    lines_list - list to add lines to
    st - st for renpy render
    at - at for renpy render
    tokens - current list of tokens, if we are in the token mode.
        Insert the leftover token word at position 1.
        (Default: None)

OUT:
    lines_list - list with lines added
```
### `_send_disabled_select_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Sends disabled select text to mailbox

ASSUMES we are disabled
```
### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `public` |

```
Render. we want the button here.
```
### `_check_display_name`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Checks the given display name to see if it fits within the frame
bounds. We will have to adjust if not

IN:
    _display_name_text - display name as text

RETURNS:
    the rendered display name rendre if it fits, None if not.
```
### `_send_select_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Sends the select text to mailbox

ASSUMES select text exists
```
### `_render_top_frame`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Renders the top renders, returns a list of the renders in order of
bliting.

IN:
    hover - True means we are hovering (or are selected

RETURNS:
    list of renders, in correct blit order
```
### `_render_bottom_frame`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Renders the bottom frames, returns a list of the renders in order
of bliting.

IN:
    hover - True means we are hovering (or are selected), false
        otherwise

RETURNS:
    list of renders, in correct blit order
```
### `_is_over_me`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Returns True if the given x, y is over us.
This also handles if the mouse is past the viewport bounds.

IN:
    x - x coord relative to upper left of this displayable
    y - y coord relative to upper left of this displayable
```
### `_send_msg_disp_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Sends text message to mailbox.

IN:
    msg - text message to send
```
### `event`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `public` |

```
EVENT. We only want to handle 2 cases:
    MOUSEMOTION + hover is over us
    MOUSEDOWN + mouse is over us
```
### `_send_first_select_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Sends first select text to mailbox

ASSUMES first select text exists
```
### `_render_display_name`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Renders display name

IN:
    hover - True if selected, False if not
    _text - actual text to render
    st - st for renpy render
    at - at for renpy render

```
### `_hover`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Does hover actions, which include playing hover sound and sending
hover msg if appropriate
```
### `_setup_display_name`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Sets up item_name and item_name_hover with list of renders, ready
for bliting.

IN:
    st - st for renpy render
    at - at for renpy render
```
### `_check_render_split`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Checks the given line to see if it fits within a line render.

NOTE: adds hypen and multiple lines if the line is too long

IN:
    line - the line we want to check for render
    lines_list - list to add lines to
    st - st for renpy render
    at - at for renpy render

OUT:
    lines_list - list with lines added
```
### `_rand_select_dlg`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Randomly selects dialogue from the given list

IN:
    dlg_list - list to select from

ASSUMES the list is not empty
```
### `_select_disabled`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Called when selecting a disabled item.
```
### `_render_bottom_frame_piece`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Renders a single bottom frame piece and returns it
```
### `_split_render_tokens`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Token version of _split_render

IN:
    tokens - tokens to handle with
    lines_list - list of string lines that we rendered
    st - st for renpy render
    at - at for renpy render
    loop - True if we are recursively calling this.
        (Default: False)
```
### `_send_hover_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Sends hover text to mailbox

ASSUMES hover text exists
```
### `_blit_bottom_frame`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
bliting the bottom frames

IN:
    r - render to blit to
    _renders - list of bottom renders to blit
```
### `_select`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Makes this item a selected item. Also handles other logic realted
to selecting this.
```
### `_render_top_frame_piece`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Renders a top frame piece. No Text, please
```
### `_token_render_split`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Uses the given tokens to determine best fit render options for
those tokens.

NOTE: we also do self.item_name

IN:
    tokens - list of string tokens to apply best fit
    lines_list - list to add lines to
    st - st for renpy render
    at - at for renpy render

OUT:
    lines_list - list with lines added
```
### `_send_generic_select_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Sends generic select text to mailbox
```
### `_split_render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Attempts to split the displayname, then checks renders for it
to see if it fits within the bounds.

NOTE: this will add renders to self.item_name

IN:
    disp_name - display name to split
    st - st for renpy render
    at - at for renpy render

RETURNS:
    list of string lines that fit when rendered.
```
### `_display_name`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableImageButtonDisplayable`](#masselectableimagebuttondisplayable) | `` | `internal` |

```
Returns the text object for the display name.

IN:
    selected - True if selected, False if not
    _text - actual text to convert into display name obj

RETURNS:
    the text object for the display name
```
## `MASSelectableSprite`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_selector` | [`global_-20`]() | `-20` | `object` |

```
Wrapper around selectable sprite objects. We do this instead of
extending because not everything would be selectble

PROPERTIES:
    name - this is always the same thing as the MASSprite object we
        create thsi with.
    display_name - the name to use in the selectbale button screen
    thumb - thumbnail image to use for selection screen. Aim for a
        180x180
        (png is added in the constructor)
    group - string id to group related selectable sprites. this really
        applies only to acs, but in case other things need this.
    unlocked - True if this selectable sprite can be selected,
        False otherwise.
    visible_when_locked - True if this should be visible when locked
        False, otherwise.
        Locked items will generally be displayed with a placeholder
        thumb.
    hover_dlg - list of text to display when hovering over the object
    first_select_dlg - text to display the first time you
        select this sprite
    select_dlg - list text to display everytime you select this sprite
        (after the first time)
    selected - True if this item is selected, False if not
    disabled_type - disable type to use in the displayable in selector.
        NOTE: this property may be set by the selector labels.
        Do NOT expect this property to be respected if set manually.
```
#### TOC
* [Constructor](#constructor-36)
* [`toTuple`](#totuple-2)
* [`fromTuple`](#fromtuple-2)
* [`_build_thumbstr`](#_build_thumbstr)
* [`_check_dlg`](#_check_dlg)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_selector` | [`MASSelectableSprite`](#masselectablesprite) | `` |

```
Selectable sprite objects constructor

IN:
    _sprite_object - MASSpriteBase object to build this selectable
        sprite object with.
        NOTE: because of inheritance issues, this is NOT CHECKED.
            The extending classes MUST check types.
    display_name - name to show on the selectable screen
    thumb - thumbnail to use on the select screen
    group - group id to group related selectable sprites.
    visible_when_locked - True if this item should be visible in
        the screen when locked, False otherwise
        (Default: True)
    hover_dlg - list of text to display when hovering over the
        object
        (Default: None)
    first_select_dlg - text to display the first time you select
        this sprite
        (Default: None)
    select_dlg - list of text to display everytime you select this
        sprite
        (after the first time)
        (Default: None)
```
### `toTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSprite`](#masselectablesprite) | `` | `public` |

```
RETURNS: tuple version of this data:
    [0]: unlocked property
    [1]: visible_when_locked
```
### `fromTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSprite`](#masselectablesprite) | `` | `public` |

```
Loads data from the given tuple.

IN:
    read_tuple - tuple of the following format:
        [0]: unlocked property
        [1]: visible_when_locked
```
### `_build_thumbstr`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSprite`](#masselectablesprite) | `` | `internal` |

```
Returns thumb string for this selectable
```
### `_check_dlg`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSprite`](#masselectablesprite) | `` | `internal` |

## `MASSelectiveRepeatRule`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-rules` | [`global_-1`]() | `-1` | `object` |

```
Static Class used to create selective repetition rules in tuple form.
That tuple is then stored in a dict containing this rule name constant.
Each rule is defined by a list of acceptable values for that rule.
The rules then are evaluated against the current datetime.
```
#### TOC
* [`evaluate_rule`](#evaluate_rule-4)
* [`create_rule`](#create_rule-5)

### `evaluate_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASSelectiveRepeatRule`](#masselectiverepeatrule) | `staticmethod` | `public` |

```
Checks if the current_time is valid for the rule

IN:
    check_time - The time to check against the rule
    ev - Event to check
        NOTE: this takes prioriy over the rule param
        (Default: None)
    rule - MASSelectiveRepeatRule to check
        (Default: None)
    defval - value to return if this event doesn't have a rule
        to check
        (Default: True)

RETURNS:
    A boolean value indicating if the time is in the defined interval
```
### `create_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASSelectiveRepeatRule`](#masselectiverepeatrule) | `staticmethod` | `public` |

```
NOTE: these values are assumed to be the same as stored in datetime

IN:
    seconds - list of seconds this rule will match to
    minutes - list of minutess this rule will match to
    hours - list of hours this rule will match to
    days - list of days this rule will match to
    weekdays - list of weekdays this rule will match to
    months - list of months this rule will match to
    years - list of years this rule will match to
    ev - Event to store this rule in, if not None
        (Default: None)

RETURNS:
    a dict containing the specified rules
```
## `MASSplitAccessory`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASAccessoryBase` |

```
MASSplitAccessory object. For accessories that should be placeable
at split layers (ASE/BSE)

PROPERTIES:
    arm_split - MASPoseMap determining which arm position the ACS
        should be visible in. This only applies to ACS that are
        intended to be used in a BSE or ASE ACS layer.
        This accepts the following values for poses;
            "0" - sprite has "-0" version, and should be used for
                arms-0 for this pose or body-0
            "1" - sprite has "-1" version, and should be used for
                body-1
            "5" - sprite has "-5" version, and should be used for
                arms-5 for this pose
            "10" - sprite has "-10" version, and should be used for
                arms-10
            "" - sprite does not have any arm split for this pose
            "*" - sprite has an arm split for all poses.
            A ^ (caret) delimted string is also acceptable:
                1^5^10
    hl_map - MASHighlightMap (with same keys as pose_map values) of
        MASHighlightMap objects (with same keys as arm_split values)
        of MASFilterMap objects.

See MASAccessoryBase for inherited propeties
```
#### TOC
* [Constructor](#constructor-37)
* [`build_loadstrs`](#build_loadstrs-7)
* [`opt_gethlc`](#opt_gethlc-2)
* [`hl_keys`](#hl_keys-3)
* [`gethlc`](#gethlc-4)
* [`hl_keys_c`](#hl_keys_c-3)
* [`get_arm_split_code`](#get_arm_split_code-1)
* [`__build_loadstrs_hl`](#__build_loadstrs_hl-4)
* [`fromJSON_hl_data`](#fromjson_hl_data)
* [`_prepare_hl_data`](#_prepare_hl_data-3)
* [`verify_arm_split_val`](#verify_arm_split_val)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `` |

```
MASSplitAccessory constructor

IN:
    name - name of this accessory
    img_sit - file name of the sitting image
    pose_map - MASPoseMap object that contains pose mappings
    img_stand - file name of the standing image
        IF this is not passed in, we assume the standing version
            has no accessory.
        (Default: "")
    rec_layer - recommended layer to place this accessory
        (Must be one the ACS types in MASMonika)
        (Default: MASMonika.PST_ACS)
    priority - render priority. Lower is rendered first
        (Default: 10)
    stay_on_start - True means the accessory is saved for next
        startup. False means the accessory is dropped on next
        startup.
        (Default: False)
    entry_pp - programming point to call when wearing this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    exit_pp - programming point to call when taking off this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    acs_type - type, for ease of organization of acs
        This works with mux type to determine if an ACS can work
        with another ACS.
        (Default: None)
    mux_type - list of acs types that should be
        mutually exclusive with this acs.
        this works with acs_type to determine if this works with
        other ACS.
        (Default: None)
    ex_props - dict of additional properties to apply to this
        sprite object.
        (Default: None)
    arm_split - MASPoseMap object for determining arm splits. See
        property list above for more info.
        (Default: None)
    dlg_data - tuple of the following format:
        [0] - string to use for dlg_desc
        [1] - boolean value for dlg_plur
        (Default: None)
    keep_on_desk - determines if ACS should be shown if monika
        leaves
        (Default: False)
    hl_data - highlight data. Format:
        key: values used for pose_map
        value: tuple:
            [0] - default highlight ot use. pass in None to not
                set a default (MASFilterMap object)
            [1] - highlight mapping to use. format:
                key: see arm_split property
                value: MASFilterMap objects
                    None means no highlight for this layer
            None means no highlight for this pose
        if None, then no highlights at all
        (Default: None)
```
### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `` | `public` |

```
See MASSpriteBase.build_loadstrs
```
### `opt_gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `` | `public` |

```
MASSplitAccessory-specific gethlc.
Optimized to only accept the args that actually matter for
MASSplitAccessory objects

IN:
    poseid - string from pose_map
    flt - filter to get highlight for
    arm_split - arm split code to get highlight for
    defval - default value to return
        (Default: None)

RETURNS: highlight code, or None if no highlight
```
### `hl_keys`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `` | `public` |

```
Returns keys used for MASHighlightMap.

RETURNS: keys used for all MASHighlightMaps for MASAccessories.
```
### `gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `` | `public` |

```
Gets highlight code.
NOTE: if you already know the pose id, use opt_gethlc

IN:
    leanpose - leanpose to get highlight for
    flt - filter to get highlight for
    hl_key - arm_spilt code
    defval - default value to use
        (Default: None)

RETURNS: highlight code, or none if no highlight
```
### `hl_keys_c`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `classmethod` | `public` |

```
Class method version of hl_keys

RETURNS: tuple of hl keys
```
### `get_arm_split_code`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `` | `public` |

```
Gets arm split code if needed

IN:
    poseid - poseid to get arm split code for

RETURNS: arms split code as iterable, or empty list
```
### `__build_loadstrs_hl`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `` | `private` |

```
Builds highlight load strs for a pose and arm layer

IN:
    prefix - prefix to apply to the load strings
        should be a list of strings
    poseid - pose id to find highlight for
    armcode - arm_split code to find highlight for

RETURNS: list of lists of strings
```
### `fromJSON_hl_data`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `classmethod` | `public` |

```
Parses JSOn data for a highlight split object

IN:
    json_obj - JSON object to parse
    ind_lvl - indentation level
        NOTE: this function handles loading/success so do NOT
            incrememnt indent
    pm_keys - pose map keys
    rec_layer - the layer that this ACS wants to be on

OUT:
    msg_log - list to add messages to

RETURNS: split hl_data, completely validated:
    dict:
    key: pose map keys
    value: tuple:
        [0] - default MASFilterMap object
        [1] - dict:
            key: arm split keys
            value: MASFilterMap object
    or None if no data, False if failure in parsing occured
```
### `_prepare_hl_data`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `classmethod` | `internal` |

```
Generates hl-ready data from ahl data for MASAccessoryBase
    processing

IN:
    hl_data - ahl data. See constructor for info

RETURNS: hl_data to pass into MASAccessoryBase
```
### `verify_arm_split_val`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSplitAccessory`](#massplitaccessory) | `classmethod` | `public` |

```
Verifies if an arm split value is valid

IN:
    value - arm split value to check

RETURNS: True if valid, false if not
```
## `MASSpriteBase`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `object` |

```
Base class for MAS sprite objects

PROPERTIES:
    name - name of the item
    img_sit - filename of the sitting version of the item
    img_stand - filename of the standing version of the item
    pose_map - MASPoseMap object that contains pose mappings
    stay_on_start - determines if the item stays on startup
    entry_pp - programmign point to call when wearing this sprite
        the MASMonika object that is being changed is fed into this
        function
        NOTE: this is called after the item is added to MASMonika
    exit_pp - programming point to call when taking off this sprite
        the MASMonika object that is being changed is fed into this
        function
        NOTE: this is called before the item is removed from MASMonika
    is_custom - True if this is a custom object. False if not.
        NOTE: this must be set AFTER object creation
    hl_map - MASHighlightMap. Actual implementation may vary by extended
        classes
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-38)
* [`getprop`](#getprop)
* [`__ne__`](#__ne__-3)
* [`hasprop`](#hasprop)
* [`hl_keys`](#hl_keys-4)
* [`gethlc`](#gethlc-5)
* [`build_loadstrs`](#build_loadstrs-8)
* [`gettype`](#gettype)
* [`hasprogpoints`](#hasprogpoints)
* [`addprop`](#addprop)
* [`sortkey`](#sortkey)
* [`exit`](#exit-1)
* [`__setup_hl_map`](#__setup_hl_map)
* [`rmprop`](#rmprop)
* [`entry`](#entry-1)
* [`__eq__`](#__eq__-3)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` |

```
MASSpriteBase constructor

IN:
    name - name of this item
    img_sit - filename of the sitting image
    pose_map - MASPoseMAp object that contains pose mappings
    img_stand - filename of the standing image
        If this is not passed in, this is considered blacklisted
        from standing sprites.
        (Default: "")
    stay_on_start - True means the item should reappear on startup
        False means the item should always drop when restarting.
        (Default: False)
    entry_pp - programming point to call when wearing this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    exit_pp - programming point to call when taking off this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    ex_props - dict of additional properties to apply to this
        sprite object.
        (Default: None)
    full_hl_data - tuple of the following format:
        [0] - keys to use for MASHighlightMap
        [1] - default value for MASHighlightMap
            if None, no default highlights
        [2] - mapping dict of the following format:
            key: key in [0]
            value: value to use for key
                if None, no highlight for this key
            if None, no mapped highlights
        if None, no highlights at all
        (Default: None)
```
### `getprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Gets the exprop

IN:
    prop - prop to get
    defval - default value to return if prop not found
```
### `__ne__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` |

```
Not equal override
```
### `hasprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Checks if this sprite object has the given prop

IN:
    prop - prop in ex_props to look for

RETURNS: True if this sprite object has the ex_prop, False if not
```
### `hl_keys`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Gets keys used for the MASHighlightMap

RETURNS: keys used in the primary level of this MASHighlightMap.
An empty list is returned if no hl map or no keys
```
### `gethlc`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Gets highlight code

NOTE: actual args and implementation should be handled by the
    extended classes

RETURNS: highlight code, or defval if no highlight
```
### `build_loadstrs`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Build list of strings representing each image that may be used
in this sprite.

NOTE: this should be implemented by the extending classes

IN:
    prefix - prefix to apply to each image. should be list of
        strings
        (DEfault: "")

RETURNS: list of lists of strings represented in this image.
    use .join on each inner list to make the image
```
### `gettype`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Gets the type of this sprite object

RETURNS: type of this sprite object
```
### `hasprogpoints`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
RETURNS: true if this sprite object has at least 1 non-null prog
    point, False otherwise
```
### `addprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Adds the given prop to the ex_props list

IN:
    prop - prop to add
```
### `sortkey`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `staticmethod` | `public` |

```
Returns the sorting key of the given MASSpriteBase object
```
### `exit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Calls the exit programming point if it exists

IN:
    _monika_chr - the MASMonika object being changed
    **kwargs - other keyword args to pass
```
### `__setup_hl_map`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `private` |

```
Sets up the highlight map

IN:
    hl_data - See constructor for description
```
### `rmprop`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Removes the prop from this sprite's ex_props, if it exists

IN:
    prop - prop to remove

RETURNS: True if the prop was found and removed, False otherwise
```
### `entry`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` | `public` |

```
Calls the entry programming point if it exists

IN:
    _monika_chr - the MASMonika object being changed
    **kwargs - other keyword args to pass
```
### `__eq__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASSpriteBase`](#masspritebase) | `` |

```
Equality override
```
## `MASSpriteFallbackBase`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `MASSpriteBase` |

```
MAS sprites that can use pose maps as fallback maps.

PROPERTIES:
    None

SEE MASSpriteBase for inherited properties
```
#### TOC
* [Constructor](#constructor-39)
* [`get_fallback`](#get_fallback)
* [`get_leanpose`](#get_leanpose)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASSpriteFallbackBase`](#masspritefallbackbase) | `` |

```
MASSpriteFallbackBase constructor

IN:
    name - name of this item
    img_sit - filename of the sitting image for this item
    pose_map - MASPoseMap object that contains pose mappings or
        fallback mappings
    img_stand - filename of the stnading image
        If this is not passed in, this is considered blacklisted
        from standing sprites.
        (Default: "")
    stay_on_start - True means the item should reappear on startup
        False means the item should always drop when restarting
        (Default: False)
    fallback - Unused
    entry_pp - programming point to call when wearing this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    exit_pp - programming point to call when taking off this sprite
        the MASMonika object that is being changed is fed into this
        function
        (Default: None)
    ex_props - dict of additional properties to apply to this
        sprite object.
        (Default: None)
    hl_data - tuple of the following format:
        [0] - keys to use for MASHighlightMap
        [1] - default value for MASHighlightMap
            if None, no default highlights
        [2] - mapping dict of the following format:
            key: key in [0]
            value: value to use for key
                if None, no highlight for this key
            if None, no mapped highlights
        if None, no highlights at all
        (Default: None)
```
### `get_fallback`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteFallbackBase`](#masspritefallbackbase) | `` | `public` |

```
Gets the fallback pose for a given pose or lean

NOTE: the fallback variable is NOT checked

Lean is checked first if its not None.

IN:
    pose - pose to retrieve fallback for
    lean - lean to retrieve fallback for

RETURNS:
    tuple fo thef ollowing format:
    [0]: arms type
        - default for this is steepling
    [1]: lean type
        - defualt for this is None
```
### `get_leanpose`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASSpriteFallbackBase`](#masspritefallbackbase) | `` | `public` |

```
Gets actual leanpose based on posemaps + fallback settings

IN:
    leanpose - leanpose we are trying to get actual leanpose for
    defval - default value to return if no leanpose
        (Default: None)


RETURNS: actual leanpose, or defval if not found
```
## `MASStripDatesRule`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-rules` | [`global_0`]() | `0` | `object` |

```
Static class for the strip ev dates rule.
This rule will strip the event dates when out of the date range
```
#### TOC
* [`remove_rule`](#remove_rule)
* [`evaluate_rule`](#evaluate_rule-5)
* [`check_persistent_rules`](#check_persistent_rules)
* [`create_rule`](#create_rule-6)

### `remove_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASStripDatesRule`](#masstripdatesrule) | `staticmethod` | `public` |

```
Removes the rule from the persistent dict
```
### `evaluate_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASStripDatesRule`](#masstripdatesrule) | `staticmethod` | `public` |

```
Evaluates to see if we need to strip the ev dates based on the stored end date in the persistent
dict

IN:
    ev - event to check

OUT:
    True if we are past the stored end date and we need to strip dates
```
### `check_persistent_rules`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASStripDatesRule`](#masstripdatesrule) | `staticmethod` | `public` |

```
Applies rules from persistent dict

NOTE: pulls from mas_getEV

IN:
    per_rule - persistent dict of rules
```
### `create_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASStripDatesRule`](#masstripdatesrule) | `staticmethod` | `public` |

```
Creates the strip event dates rule

IN:
    ev - event to create rules for
    - end_date: end date of the event
        if None is passed, we use the event's end date
```
## `MASTableChair`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`global_-3`]() | `-3` | `object` |

```
Representation of an available table + chair combo.

PROPERTIES:
    has_shadow - True if this table has a shadow
    table - table tag associated with this table chair combo
        This will be used in bulding the table sprite string
    chair - chair tag associated with tihs table chair combo
        This will be used in building the chair sprite string
    hl_map - MASHighlightMap associated with this table chair
        keys:
            t - table
            ts - table shadow - Used instead of table whenever shadow
                is applied.
            c - chair
```
#### TOC
* [Constructor](#constructor-40)
* [`setTable`](#settable)
* [`prepare`](#prepare-1)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`MASTableChair`](#mastablechair) | `` |

```
constructor

IN:
    table - table tag to use
    chair - chair tag to use
    hl_data - highlight mapping data. format:
        [0] - default highilght to use. Pass in None to not set
            a default.
        [1] - highlight mapping to use. Format:
            key: "t" for table, "c" for chair
            value: MASFilterMap object, or None if no highlight
        pass in None if no highlights shoudl be used at all
```
### `setTable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASTableChair`](#mastablechair) | `` | `public` |

```
sets the table tag and checks shadow

IN:
    new_table - the new table tag to set
        if an invalid string or NOne is passed in, we reset to
        default
```
### `prepare`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`MASTableChair`](#mastablechair) | `` | `public` |

```
Prepares this table chair combo by checking for shadow.
```
## `MASTopicLabelException`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `script-topics` | [`global_-1`]() | `-1` | `Exception` |

```
EXCEPTION CLass incase of bad labels
```
#### TOC
* [Constructor](#constructor-41)
* [`__str__`](#__str__-2)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `script-topics` | [`MASTopicLabelException`](#mastopiclabelexception) | `` |

### `__str__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `script-topics` | [`MASTopicLabelException`](#mastopiclabelexception) | `` |

## `MASUndoActionRule`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-rules` | [`global_0`]() | `0` | `object` |

```
Static class used to undo ev actions when outside their date ranges
```
#### TOC
* [`adjust_rule`](#adjust_rule)
* [`evaluate_rule`](#evaluate_rule-6)
* [`create_rule`](#create_rule-7)
* [`remove_rule`](#remove_rule-1)
* [`create_rule_EVL`](#create_rule_evl)
* [`has_rule`](#has_rule)
* [`check_persistent_rules`](#check_persistent_rules-1)
* [`has_rule_EVL`](#has_rule_evl)

### `adjust_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASUndoActionRule`](#masundoactionrule) | `staticmethod` | `public` |

```
Adjusts the start/end dates stored

IN:
    ev - event to adjust
    start_date - new start date
    end_date - new end date
```
### `evaluate_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASUndoActionRule`](#masundoactionrule) | `staticmethod` | `public` |

```
Evaluates to see if we need to undo the actions based on the ev dates stored in our persistent dict

IN:
    - ev - event to evaluate

OUT:
    True if we are past the stored end date and we need to
```
### `create_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASUndoActionRule`](#masundoactionrule) | `staticmethod` | `public` |

```
Creates the undoactionrule

IN:
    - ev: event to add the rule to
    - start_date: start date of the event
        if None passed, we use the event
    - end_date: end date of the event
        if None passed, we use the event
```
### `remove_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASUndoActionRule`](#masundoactionrule) | `staticmethod` | `public` |

```
Removes the rule from the persistent dict

IN:
    ev - event to remove
```
### `create_rule_EVL`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASUndoActionRule`](#masundoactionrule) | `staticmethod` | `public` |

```
Creates undo action rule from EVL:

IN:
    evl - event label to add rule for
    start_date - start date to use
    end_date - end date to use
```
### `has_rule`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASUndoActionRule`](#masundoactionrule) | `staticmethod` | `public` |

```
Checks if the event has an undo action rule associated with it

IN:
    ev - event to check
```
### `check_persistent_rules`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASUndoActionRule`](#masundoactionrule) | `staticmethod` | `public` |

```
Applies rules from persistent dict

NOTE: uses mas_getEV
```
### `has_rule_EVL`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `event-rules` | [`MASUndoActionRule`](#masundoactionrule) | `staticmethod` | `public` |

```
Checks if event label as undo action rule associated with it

IN:
    evl - event label to check
```
## `MASUpdaterDisplayable`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `updater` | [`global_-1`]() | `-1` | `Displayable` |

```
this displayable will handle UpdateVersion on its own while enabling
interactions
since UpdateVersion occurs in a background thread, we want to
handle most logic in the render function, despite the
event-driven framework
we will return -1 upon cancel / ok
1 upon update
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `threading` |

#### TOC
* [Constructor](#constructor-42)
* [`_checkUpdate`](#_checkupdate)
* [`render`](#render-6)
* [`_sendRequest`](#_sendrequest)
* [`_handleRedirect`](#_handleredirect)
* [`event`](#event-5)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `updater` | [`MASUpdaterDisplayable`](#masupdaterdisplayable) | `` |

```
Constructor
```
### `_checkUpdate`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `updater` | [`MASUpdaterDisplayable`](#masupdaterdisplayable) | `` | `internal` |

```
Does the purely logical update checking
This will set the appropriate states
```
### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `updater` | [`MASUpdaterDisplayable`](#masupdaterdisplayable) | `` | `public` |

```
RENDER
```
### `_sendRequest`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `updater` | [`MASUpdaterDisplayable`](#masupdaterdisplayable) | `staticmethod` | `internal` |

```
Sends out the http request and returns a response and stuff
NOTE: designed to be called as a background thread
ASSUMES:
    _thread_result
        appends appropriate state for use
```
### `_handleRedirect`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `updater` | [`MASUpdaterDisplayable`](#masupdaterdisplayable) | `staticmethod` | `internal` |

```
Attempts to connect to the redircted url
IN:
    new_url - the redirect we want to connect to
Returns read_json if we got a connection, Nnone otherwise
```
### `event`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `updater` | [`MASUpdaterDisplayable`](#masupdaterdisplayable) | `` | `public` |

```
EVENT
```
## `MASWeather`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_weather` | [`global_-10`]() | `-10` | `object` |

```
Weather class to determine some props for weather

PROPERTIES:
    weather_id - Id that defines this weather object
    prompt - button label for this weater
    unlocked - determines if this weather is unlocked/selectable
    sp_day - image tag for windows in day time
    sp_night - image tag for windows in nighttime
    precip_type - type of precipitation (to use for the room type)
    isbg_wf_day - image PATH for islands bg daytime with frame
    isbg_wof_day = image PATH for islands bg daytime without frame
    isbg_wf_night - image PATH for island bg nighttime with frame
    isbg_wof_night - image PATH for island bg nighttime without framme

    entry_pp - programming point to execute when switching to this
        weather
    exit_pp - programming point to execute when leaving this weather

NOTE: for all image tags, `_fb` is appeneded for fallbacks
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `store` |

#### TOC
* [Constructor](#constructor-43)
* [`__ne__`](#__ne__-4)
* [`fromTuple`](#fromtuple-3)
* [`exit`](#exit-2)
* [`sp_window`](#sp_window)
* [`toTuple`](#totuple-3)
* [`entry`](#entry-2)
* [`isbg_window`](#isbg_window)
* [`__eq__`](#__eq__-4)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` |

```
Constructor for a MASWeather object

IN:
    weather_id - id that defines this weather object
        NOTE: must be unique
    prompt - button label for this weathe robject
    sp_day - image tag for spaceroom's left window in daytime
    unlocked - True if this weather object starts unlocked,
        False otherwise
        (Default: False)
    sp_night - image tag for spaceroom's left window in night
        If None, we use sp_day for this
        (Default: None)
    precip_type - type of precipitation, def, rain, overcast, or snow
        (Default: def)
    isbg_wf_day - image PATH for islands bg daytime with frame
        (Default: None)
    isbg_wof_day = image PATH for islands bg daytime without frame
        (Default: None)
    isbg_wf_night - image PATH for island bg nighttime with frame
        If None, we use isbg_wf_day
        (Default: None)
    isbg_wof_night - image PATH for island bg nighttime without
        framme
        If None, we use isbg_wof_day
        (Default: None)
    entry_pp - programming point to execute after switching to
        this weather
        (Default: None)
    exit_pp - programming point to execute before leaving this
        weather
        (Default: None)

    #NOTE: Defaulting to the day frame stuff to avoid tracebacks
```
### `__ne__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` |

### `fromTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` | `public` |

```
Loads data from tuple

IN:
    data_tuple - tuple of the following format:
        [0]: unlocked property
```
### `exit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` | `public` |

```
Runs exit programming point
```
### `sp_window`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` | `public` |

```
Returns spaceroom masks for window

IN:
    day - True if we want day time masks

RETURNS:
    image tag for the corresponding mask to use
```
### `toTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` | `public` |

```
Converts this MASWeather object into a tuple

RETURNS: tuple of the following format:
    [0]: unlocked property
```
### `entry`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` | `public` |

```
Runs entry programming point
```
### `isbg_window`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` | `public` |

```
Returns islands bg PATH for window

IN:
    day - True if we want daytime bg
    no_frame - True if we want no frame
```
### `__eq__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_weather` | [`MASWeather`](#masweather) | `` |

## `PauseDisplayable`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `screens` | [`global_0`]() | `0` | `Displayable` |

```
Pause until click variant of Pause
This is because normal pause until click is broken for some reason
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `pygame` |

#### TOC
* [Constructor](#constructor-44)
* [`render`](#render-7)
* [`event`](#event-6)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `screens` | [`PauseDisplayable`](#pausedisplayable) | `` |

### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `screens` | [`PauseDisplayable`](#pausedisplayable) | `` | `public` |

```
dont actually render anything
```
### `event`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `screens` | [`PauseDisplayable`](#pausedisplayable) | `` | `public` |

## `PianoDisplayable`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_pianokeys` | [`global_810`]() | `810` | `Displayable` |

```
the displayable
```
#### Imports

| Alias | Source |
|:--- |:--- |
| `None` | `pygame` |

#### TOC
* [Constructor](#constructor-45)
* [`quitflow`](#quitflow)
* [`stateWaitPost`](#statewaitpost)
* [`render`](#render-8)
* [`statePost`](#statepost)
* [`findnotematch`](#findnotematch)
* [`_initKeymap`](#_initkeymap)
* [`_singleFlow`](#_singleflow)
* [`_buildKeyTextOverlay`](#_buildkeytextoverlay)
* [`_timeoutFlow`](#_timeoutflow)
* [`resetVerse`](#resetverse)
* [`setsongmode`](#setsongmode)
* [`stateMatch`](#statematch)
* [`stateListen`](#statelisten)
* [`_sendEventsToOverlays`](#_sendeventstooverlays)
* [`event`](#event-7)
* [`getnotematch`](#getnotematch)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` |

```
Creates the piano displablable

IN:
    mode - the mode we want to be in
    pnml - the piano note match list we want to use
        (Default: None)
```
### `quitflow`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```
Quits the game and does the appropriate processing.

RETURNS:
    tuple of the following format:
        [0]: true if full_combo, False if not
        [1]: true if won, false if not
        [2]: true if both passes and misses are greater than 0
            (which is like practicing)
        [3]: label to call next (like post game dialogue)
```
### `stateWaitPost`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```
Flow that occurs when we are in a transitional phase from a note
match to another

IN:
    ev - pygame event that occured
    key - key that was pressed (post map)

STATES:
    STATE_WPOST
    STATE_CPOST
    STATE_VPOST
```
### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```
renpy render function
NOTE: Displayables are EVENT-DRIVEN
```
### `statePost`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```
Flow that occurs when we are post matching notes

IN:
    ev - pygame event that occured
    key - key that was pressed (post map)

STATES:
    STATE_POST
    STATE_JPOST
    STATE_DPOST
    STATE_DJPOST
```
### `findnotematch`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```

Finds a PianoNoteMatch object that matches the given set of
notes.
Also sets the pnml to the piano note match list that is
appropriate
NOTE: only the first notematch phrase is checked per note match
  list.

IN:
  notes - list of notes to match

RETURNS:
  PianoNoteMatch object that matches, or None if no match
```
### `_initKeymap`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `internal` |

```
Initalizes the keymap, applying persistent adjustments.

ASSUMES:
    persistent._mas_piano_keymaps
    mas_piano_keys.KEYMAP - the defaults keymap
    self.live_keymap - the keymap we use
```
### `_singleFlow`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `internal` |

```
Special workflow for notematches that only have a single note

IN:
    ev - pygame event
    key - key that was pressed (post map)

ASSUMES: self.match.is_single is True
```
### `_buildKeyTextOverlay`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `internal` |

```
Builds a keytext overlay for a key. This will check the keymaps
for the associated actual key and set everything up approptiately.
Assumes the given key has a keymap

IN:
    key - the key to build a keytextoverlay for (the key user will
        press)

RETURNS:
    MASButtonDisplayable of the text overlay. All states of this
    button will be the same.
```
### `_timeoutFlow`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `internal` |

```
Runs flow for timeout cases.
```
### `resetVerse`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```
Resets the current match back to its verse start.
```
### `setsongmode`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```

sets our timeout vars into song mode

IN:
  songmode - True means set into song mode, False means get out
      (Default: True)
  ev_tout - use a custom ev timeout for song mode
      (Default: None)
  vis_tout - use a custom vis timeout for song mode
      (Default: None)
```
### `stateMatch`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```
Flow that occurs when we are matching notes

IN:
    ev - pygame event that occured
    key - key that was pressed (post map)

STATES:
    STATE_MATCH
    STATE_MISS
    STATE_JMATCH
```
### `stateListen`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```
Flow that occurs when we in listen state

IN:
    ev - pygame event that occured
    key - key that was pressed (post map)

STATES:
    STATE_LISTEN
```
### `_sendEventsToOverlays`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `internal` |

```
Sends event overlays to the list of config overlays.
NOTE: massively assumes that only one clicked event can occur at a
    time.

IN:
    ev - pygame event
    x - x coord of event
    y - y coord of event
    st - same as st in event

RETURNS:
    the MASButtonDisplayable that returned a non None value, or
    None if all of them returned None
```
### `event`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```
renpy event handler
NOTE: Renpy is EVENT-DRIVEN
```
### `getnotematch`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoDisplayable`](#pianodisplayable) | `` | `public` |

```

returns the notematch object at the given index

IN:
  index - the index to retrieve notematch.
      If None, the self.pnm_index is incremeneted and used as
      the index

OUT:
  returns PianoNoteMatch object at index, or None if index is
  beyond the grave
```
## `StatCounter`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_dump` | [`global_999`]() | `999` | `object` |

```
Temp class to work with stats
```
#### TOC
* [`_stat`](#_stat)

### `_stat`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_dump` | [`StatCounter`](#statcounter) | `staticmethod` | `internal` |

```
Short-circuting stat counter

returns seen value
```
## `FileActionMod`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `screens` | [`global_0`]() | `0` | `public` |

## `FinishEnterName`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `screens` | [`global_0`]() | `0` | `public` |

## `HKBHideButtons`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_hotkey_buttons` | [`global_0`]() | `0` | `public` | **Yes** |

```
Hides the hkb buttons

```
## `HKBShowButtons`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_hotkey_buttons` | [`global_0`]() | `0` | `public` | **Yes** |

```
Shows the hkb buttons

```
## `MovieOverlayHideButtons`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkey_buttons` | [`global_0`]() | `0` | `public` |

```

Hides the movie buttons

```
## `MovieOverlayShowButtons`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkey_buttons` | [`global_0`]() | `0` | `public` |

```

Shows the movie buttons

```
## `RigMouse`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `screens` | [`global_0`]() | `0` | `public` |

## `addEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```

Adds an event object to the given eventdb dict
Properly checksfor label and conditional statements
This function ensures that a bad item is not added to the database

NOTE: this MUST be ran after init level 4.

IN:
  event - the Event object to add to database
  eventdb - The Event databse (dict) we want to add to
      NOTE: DEPRECATED. Use code instead.
      NOTE: this can still be used for custom adds.
      (Default: None)
  skipCalendar - flag that marks wheter or not calendar check should
      be skipped
  code - code of the event database to add to.
      (Default: EVE) - event database
```
## `addReaction`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Globalied version of the addReaction function in the mas_filereacts
store.

Refer to that function for more information
```
## `adjustTopicIDs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_0`]() | `0` | `public` |

```
Changes labels in persistent._seen_ever
to new IDs in the changedIDs dict

IN:
    oldList - the list of old Ids to change
    changedIDs - dict of changed ids:
        key -> old ID
        value -> new ID

ASSUMES:
    persistent._seen_ever
```
## `clearUpdateStructs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates_topics` | [`global_-1`]() | `-1` | `public` |

```

Clears a bunch of uneeded stuff
```
## `cts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dump` | [`global_999`]() | `999` | `public` |

```
which ones do we actually have
```
## `dec_musicvol`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`global_0`]() | `0` | `public` |

```

decreases the volume of the music channel by the value defined in
songs.vol_bump

ASSUMES:
  persistent.playername
```
## `disable_esc`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `public` |

```
disables the escape key so you cant go to game menu

NOTE: this also disables opening the game menu from other means
```
## `display_notif`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Notification creation method
IN:
    title: Notification heading text
    body: A list of items which would go in the notif body (one is picked at random)
    group: Notification group (for checking if we have this enabled)
    skip_checks: Whether or not we skips checks
OUT:
    bool indicating status (notif shown or not (by check))
NOTE:
    We only show notifications if:
        1. We are able to show notifs
        2. MAS isn't the active window
        3. User allows them
        4. And if the notification group is enabled
        OR if we skip checks. BUT this should only be used for introductory or testing purposes.
```
## `dumpPersistentToFile`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `import_ddlc` | [`global_0`]() | `0` | `public` |

```
Prints a file containing each dictionary element of a persistent variable

IN:
    dumped_persistent - a renpy persistent variable
    dumppath - a file path to the text file to be created. Must be a valid write location
```
## `enable_esc`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `public` |

```
Enables the escape key so you can go to the game menu

NOTE: this also enables opening the game menu from other means
```
## `force_integer_multiplier`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `options` | [`global_0`]() | `0` | `public` |

## `game_menu_check`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `options` | [`global_0`]() | `0` | `public` |

## `getCharacterImage`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_transforms` | [`global_-10`]() | `-10` | `public` |

```

Retrieves the image of the given character + expression combo
This is the raw object that represents an image

IN:
  char - string name of the character to find:
      "monika", "sayori", "natsuki", "yuri"
  expression - string expression to find
      (Default: 1a)

RETURNS:
  the image object that is held internally, or None if not found
```
## `get_level`
**DEPRECATED**

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`global_0`]() | `0` | `public` |

```
This does not do anything anymore. Around for compatibility purposes
```
## `get_shown_count`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`global_10`]() | `10` | `public` |

```
Gets the shown count of the poem

OUT:
    integer:
        - The amount of times this poem was seen
```
## `glitchWord`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poemgame` | [`global_-4`]() | `-4` | `public` |

```

Glitches the given word by replacing characters with spaces or
other chars

IN:
  word - the word to glitch
  odds_space - the odds that a space will replace a character
      Use an int here. Odds are calculated like (1 out of x)
      (Default: ODDS_SPACE) - Defined in mas_poemgame_consts
  odds_other - the odds that a random unicode character will replace
      a character. Use an int here. Odds are calculated the same as
      odds_space.
      (Default: ODDS_OTHER) - Defined in mas_poemgame_consts
```
## `grant_xp`
**DEPRECATED**

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`global_0`]() | `0` | `public` |

```
This does not do anything anymore. Around for compatibility
purposes
```
## `hideEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```

NOTE: DEPRECATED
hide an event by Falsing its unlocked,
random, and pool properties.

IN:
  event - event object we want to hide
  lock - True if we want to lock this event, False otherwise
      (Default: False)
  derandom - True if we want to unrandom this event, False otherwise
      (Default: False)
  depool - True if we want to unpool this event, False otherwise
      (Default: False)
  decond - True if we want to remove the conditional, False
      otherwise
      (Default: False)
```
## `hideEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```

NOTE: DEPRECATED
hide an event in the given eventdb by Falsing its unlocked,
random, and pool properties.

IN:
  eventlabel - label of the event to hide
  lock - True if we want to lock this event, False otherwise
      (Default: False)
  derandom - True if we want to unrandom this event, False otherwise
      (Default: False)
  depool - True if we want to unpool this event, False otherwise
      (Default: False)
  decond - True if we want to remove the conditional, False otherwise
      (Default: False)
  eventdb - the event database (dict) we want to reference
      (DEfault: evhand.event_database)
```
## `inc_musicvol`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`global_0`]() | `0` | `public` |

```

increases the volume of the music channel by the value defined in
songs.vol_bump

```
## `__init__`

| File | Store Module | Available After |
| ---:| ---:| ---:|
| `zz_poems` | [`global_10`]() | `10` |

```
MASPoem constructor

Similar to the Poem class from DDLC, but excludes the yuri variables and adds a poem id property.


poem_id:
    identifier for the poem.
    (NOTE: Must be unique)

category:
    category for the poem is under (So we can get poems by category)

prompt:
    prompt for this poem (So it can be viewed by a scrollable menu)

title:
    poem title (supports renpy substitution)

text:
    poem contents (supports renpy substitution)

author:
    poem author
    (Default: monika)
```
## `isFuture`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Checks if the start_date of the given event happens after the
given time.

IN:
    ev - Event to check the start_time
    date - a datetime object used to check against
        If None is passed it will check against current time
        (Default: None)

RETURNS:
    True if the Event's start_date is in the future, False otherwise
```
## `isPast`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Checks if the end_date of the given event happens before the
given time.

IN:
    ev - Event to check the start_time
    date - a datetime object used to check against
        If None is passed it will check against current time
        (Default: None)

RETURNS:
    True if the Event's end_date is in the past, False otherwise
```
## `isPresent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Checks if current date falls within the given event's start/end date
range

IN:
    ev - Event to check the start_time and end_time

RETURNS:
    True if current time is inside the  Event's start_date/end_date
    interval, False otherwise
```
## `is_seen`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`global_10`]() | `10` | `public` |

```
Checks if the poem is seen

OUT:
    boolean:
        - True if poem was seen before
        - False otherwise
```
## `lockEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
NOTE: DEPRECATED
Locks the given event object

IN:
    ev - the event object to lock
```
## `lockEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
NOTE: DEPRECATED
Locks the given event label

IN:
    evlabel - event label of the event to lock
    eventdb - Event database to find this label
```
## `map_keys_to_topics`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_5`]() | `5` | `public` |

## `mas_DropShield_core`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Enables:
    - Talk button + hotkey
    - Extra button + hotkey
    - Music button + hotkey + volume keys + mute key
    - Play button + hotkey
    - Calendar overlay
    - Escape key
```
## `mas_DropShield_dlg`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Enables:
    - Talk button + hotkey
    - Extra button + hotkey
    - Play button + hotkey
    - Calendar overlay

Disables:
    - Derandom hotkey
    - bookmark hotkey

Unsets:
    - dialogue workflow flag

Intended Flow:
    - Monika stops talking
```
## `mas_DropShield_idle`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Enables:
    - Talk hotkey
    - Extra hotkey
    - Music hotkey
    - Play button + hotkey

Intended Flow:
    - Idle mode ends
```
## `mas_DropShield_mumu`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Enables:
    - Talk button + hotkey
    - Extra button + hotkey
    - Music button
    - Play button + hotkey
    - Calendar overlay

Intended Flow:
    - The Music menu is closed
```
## `mas_HKBDropShield`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_hotkey_buttons` | [`global_0`]() | `0` | `public` | **Yes** |

```
Enables the hotkey buttons
```
## `mas_HKBIsEnabled`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkey_buttons` | [`global_0`]() | `0` | `public` |

```
RETURNS: True if all the buttons are enabled, False otherwise
```
## `mas_HKBIsVisible`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkey_buttons` | [`global_0`]() | `0` | `public` |

```
RETURNS: True if teh Hotkey buttons are visible, False otherwise
```
## `mas_HKBRaiseShield`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_hotkey_buttons` | [`global_0`]() | `0` | `public` | **Yes** |

```
Disables the hotkey buttons
```
## `mas_HKCanQuietMusic`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `public` |

```
RETURNS: True if we can lower or stop the music, False if not
```
## `mas_HKDropShield`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `public` | **Yes** |

```
Enables the main hotkeys
```
## `mas_HKIsEnabled`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `public` |

```
RETURNS: True if all the main hotkeys are enabled, False otherwise
```
## `mas_HKRaiseShield`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `public` | **Yes** |

```
Disables the main hotkeys
```
## `mas_HistGetFirstYearOfValue`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Gets the first year which has the entry of _verify in the keys provided

IN:
    _verify - value to check for
    *keys - string pieces of a key to search for

OUT:
    If there's a point where the value we're checking for is found, we return the first year that is met.
    If not found, we return None
```
## `mas_HistLookup`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Looks up data in the historical archives.

IN:
    key - data key to look up
    year - year to look up data

RETURNS: a tuple of the following format:
    [0]: mas_history lookup constant
    [1]: retrieved data (which may be None). This is always None if
        we could not find year or key
```
## `mas_HistLookup_k`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Looks up data in the historical archives
NOTE: this accepts keys as string pieces that are put together

IN:
    year - year to look up data
    keys - string pieces of a key to search for

RETURNS: same as mas_HistLookup
```
## `mas_HistLookup_ot`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Looks up data overtime in the historical archives.

IN:
    key - data key to look up
    years - years to look updata

RETURNS: dict of the following format:
    year: data tuple from mas_HistLookup
```
## `mas_HistLookup_otl`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Looks up data overtime in the historical archives.

IN:
    key - data key to look up
    years_list - list of years to lookup data

RETURNS: dict of the following format:
    year: data tuple from mas_HistLookup
```
## `mas_HistLookup_otl_k`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Looks up data overtime in the historical archives

IN:
    years_list - list of years to lookup data
    *keys - string pieces of a key to search for

RETURNS: See mas_HistLookup_otl
```
## `mas_HistVerify`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Verifies if data at the given key matches the verification value.

IN:
    key - data key to lookup
    _verify - the data we want to match to
    years - years to look up data (as args)
        Dont pass in anything if you want to lookup all years since
        2017

RETURNS: tuple of the following format:
    [0]: true/False if we found data that matched the verification
    [1]: list of years that matched the verification
```
## `mas_HistVerifyAll_k`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Checks if the value of _verify for the keys is in history at any point

IN:
    _verify - value to check for
    *keys - string pieces of a key to search for

OUT:
    boolean:
        - True if _verify is in the key built by the provided pieces at all
        - False otherwise
```
## `mas_HistVerifyLastYear_k`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Checks history for the value of _verify in the key provided last year

IN:
    _verify - value to check for
    *keys - string pieces of a key to search for

OUT:
    boolean:
        - True if _verify is in the key built by the provided pieces last year
        - False otherwise
```
## `mas_HistVerify_k`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Verifies if data at the given key matches the verification value.

IN:
    years_list - list of years to look up data (as args)
        Pass an empty list if you want to lookup all years since
        2017.
    _verify - the data we want to match to
    *keys - string pieces of a key to search for

RETURNS: see mas_HistVerify
```
## `mas_HistWasFirstValueIn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`global_-850`]() | `-850` | `public` |

```
Checks if the first year that _verify was found for the keys provided in history
matches the year provided

IN:
    _verify - Value to check for
    year - year to match
    *keys - string pieces to make a key for history

OUT:
    boolean:
        - True if the first year matches the year provided
        - False otherwise
```
## `mas_MUMUDropShield`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Enables:
    - Music button + hotkey
    - Music Menu

Intended Flow:
    - Whenever the music menu-based interactions need to be enabled
```
## `mas_MUMURaiseShield`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Disables:
    - Music button + hotkey
    - Music Menu

Intended Flow:
    - Whenever the music menu-based interactions need to be disabled
```
## `mas_OVLDropShield`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_overlays` | [`global_501`]() | `501` | `public` | **Yes** |

```
Enables all overlay screens. This is like "dropping a shield" because
it allows user interactions with the overlays.
```
## `mas_OVLHide`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_overlays` | [`global_501`]() | `501` | `public` | **Yes** |

```
Hides all overlay screens.
```
## `mas_OVLRaiseShield`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_overlays` | [`global_501`]() | `501` | `public` | **Yes** |

```
Disables all overlay screens. This is like "raising a shield" because
it prevents user interactions with the overlays.
```
## `mas_OVLShow`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_overlays` | [`global_501`]() | `501` | `public` | **Yes** |

```
Shows all overlay screens.
```
## `mas_RaiseShield_core`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Disables:
    - Talk button + hotkey
    - Extra button + hotkey
    - Music button + hotkey + volume keys + mute key
    - Play button + hotkey
    - Calendar overlay
    - Escape key
```
## `mas_RaiseShield_dlg`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Disables:
    - Talk button + hotkey
    - Extra button + hotkey
    - Play button + hotkey
    - Calendar overlay

Enables:
    - Derandom hotkey
    - bookmark hotkey

Sets:
    - dialogue workflow flag

Intended Flow:
    - Monika starts talking
```
## `mas_RaiseShield_idle`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Disables:
    - Talk hotkey
    - Extra hotkey
    - Music hotkey
    - Play button + hotkey

Intended Flow:
    - Idle mode starts
```
## `mas_RaiseShield_mumu`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Disables:
    - Talk button + hotkey
    - Extra button + hotkey
    - Music button
    - Play button + hotkey
    - Calendar overlay

Intended Flow:
    - The Music menu is opened
```
## `mas_SELisUnlocked`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`global_-1`]() | `-1` | `public` |

```
Checks if the given sprite item is unlocked

IN:
    _sprite_item - sprite object to check

RETURNS: True if the given sprite item is unlocked, false otherwise
```
## `mas_addBlacklistReact`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Adds the given ev_label to the no unlock list
IN:
    ev_label: eventlabel to add to the no unlock list
```
## `mas_addClothesToHolidayMap`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_10`]() | `10` | `public` |

```
Adds the given clothes to the holiday clothes map

IN:
    clothes - clothing item to add
    key - dateime.date to use as key. If None, we use today
```
## `mas_addClothesToHolidayMapRange`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_10`]() | `10` | `public` |

```
Adds the given clothes to the holiday clothes map over the day range provided

IN:
    clothes - clothing item to add
    start_date - datetime.date to start adding to the map on
    end_date - datetime.date to stop adding to the map on
```
## `mas_addDelayedAction`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_-880`]() | `-880` | `public` |

```
Creates a delayed action with the given ID and adds it to the delayed
action map (runtime)

NOTE: this handles duplicates, so its better to use this

NOTE: this also adds to persistent, just in case

IN:
    _id - id of the delayed action to create
```
## `mas_addDelayedActions`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_-880`]() | `-880` | `public` |

```
Creates delayed actions given ids as args

assumes each arg is a valid id
```
## `mas_addDelayedActions_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_-880`]() | `-880` | `public` |

```
Creates delayed actions given a list of Ids

IN:
    _ids - list of IDS to add
```
## `_mas_backgroundUpdateCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updater` | [`global_10`]() | `10` | `internal` |

```
THIS IS A PRIVATE FUNCTION
Background update check
```
## `mas_backgroundUpdateCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updater` | [`global_10`]() | `10` | `public` |

```
This launches the background update thread
```
## `mas_bookmark_topic`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_0`]() | `0` | `public` |

```
Function for the bookmark hotkey, 'b'

IN:
    ev_label - label of the event we want to bookmark.
        (Optional, defaults to persistent.current_monikatopic)
```
## `mas_buildEventLists`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```
Builds the unseen / most seen / seen event lists

RETURNS:
    tuple of the following format:
    [0] - unseen list of events
    [1] - seen list of events
    [2] - most seen list of events

ASSUMES:
    evhand.event_database
    mas_events_built
```
## `mas_buildSeenEventLists`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```
Builds the seen / most seen event lists

RETURNS:
    tuple of the following format:
    [0] - seen list of events
    [1] - most seen list of events

ASSUMES:
    evhand.event_database
```
## `mas_calDropOverlayShield`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`global_0`]() | `0` | `public` | **Yes** |

```
Enables input for the calendar overlay
```
## `mas_calHideOverlay`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`global_0`]() | `0` | `public` | **Yes** |

```
Hides the calendar overlay
```
## `mas_calIsVisible_ovl`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`global_0`]() | `0` | `public` |

```
RETURNS: True if the calendar ovelray is visible, False otherwise
```
## `mas_calRaiseOverlayShield`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`global_0`]() | `0` | `public` | **Yes** |

```
Disables input for the calendar overlay
```
## `mas_calShowOverlay`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_calendar` | [`global_0`]() | `0` | `public` | **Yes** |

```
Shows the calendar overlay
```
## `mas_canCheckActiveWindow`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Checks if we can check the active window (simplifies conditionals)
```
## `mas_capGainAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

```
Gains affection according to the cap(s) defined

IN:
    amount:
        Amount of affection to gain

    aff_gained_var:
        The persistent variable which the total amount gained for the holiday is stored
        (NOTE: Must be a string)

    normal_cap:
        The cap to use when not player bday

    pbday_cap:
        The cap to use when it's player bday (NOTE: if not provided, normal_cap is assumed)
```
## `mas_changeBackground`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_backgrounds` | [`global_800`]() | `800` | `public` |

```
changes the background w/o any scene changes

IN:
    new_background:
        The background we're changing to

    by_user:
        If the user switched the background themselves
```
## `mas_changeWeather`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`global_800`]() | `800` | `public` |

```
Changes weather without doing scene changes

NOTE: this does NOT do scene change/spaceroom

IN:
    new_weather - weather to change to
    by_user - flag for if user changes weather or not
```
## `mas_checkApologies`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-apologies` | [`global_0`]() | `0` | `public` |

```
Let's not do extra work
```
## `mas_checkForWindowReacts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Runs through events in the windowreact_db to see if we have a reaction, and if so, queue it
```
## `mas_checkOverDate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

```
Checks if the player was gone over the given date entirely (taking you somewhere)

IN:
    date - a datetime.date of the date we want to see if we've been out all day for

OUT:
    True if the player and Monika were out together the whole day, False if not.
```
## `mas_checkReactions`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Checks for reactions, then queues them
```
## `mas_check_player_derand`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Checks the player derandom list for events that are not random and derandoms them
```
## `mas_chgCalEVul`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`global_100`]() | `100` | `public` |

```
Changes the conditionals / actions / and more of the monika start date
topic so it unlocks after the given number of days

IN:
    number_of_days - number of days before unlocking the monika start
        date topic
```
## `mas_cleanBadUpdateFiles`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updater` | [`global_-894`]() | `-894` | `public` |

```
Moves any file with the '.new' extension to the correct file
```
## `mas_cleanEventList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Iterates through the event list and removes items which shouldn't be restarted
```
## `mas_cleanJustSeen`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Cleans the given event list of just seen items (withitn the THRESHOLD)
retunrs not just seen items

IN:
    eventlist - list of event labels to pick from
    db - database these events are tied to

RETURNS:
    cleaned list of events (stuff not in the time THREASHOLD)
```
## `mas_cleanJustSeenEV`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Cleans the given event list (of events) of just seen items
(within the THRESHOLD). Returns not just seen items.
Basically the same as mas_cleanJustSeen, except for Event object lists

IN:
    ev_list - list of event objects

RETURNS:
    cleaned list of events (stuff not in the tiem THRESHOLD)
```
## `mas_clearNotifs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Clears all tray icons (also action center on win10)
```
## `mas_confirmedParty`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

## `mas_coreToIdleShield`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Enables:
    - Talk button
    - Extra button
    - Music button
    - Calendar overlay
    - Escape key

Intended flow:
    - when transitiong from core sheilds to idle shields
```
## `mas_d25HideVisuals`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Hides d25 visuals
```
## `mas_d25ReactToGifts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Goes thru the gifts stored from the d25 gift season and reacts to them

this also registeres gifts
```
## `mas_d25SeasonExit_PP`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-825`]() | `-825` | `public` |

## `mas_d25ShowVisuals`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Shows d25 visuals.
```
## `mas_d25SilentReactToGifts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Method to silently 'react' to gifts.

This is to be used if you gave Moni a christmas gift but didn't show up on
D25 when she would have opened them in front of you.

This also registeres gifts
```
## `mas_darkMode`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `styles` | [`global_0`]() | `0` | `public` |

```
Swaps all styles to dark/light mode provided on the input

IN:
    morning_flag - if True, light mode, if False, dark mode
```
## `mas_derandom_topic`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_0`]() | `0` | `public` |

```
Function for the derandom hotkey, 'x'

IN:
    ev_label - label of the event we want to derandom.
        (Optional, defaults to persistent.current_monikatopic)
```
## `mas_disableTextSpeed`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Disables text speed
```
## `mas_disable_quit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Disables quitting without monika knowing
```
## `mas_disable_quitbox`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Disables Monika's quit dialogue warning
```
## `mas_dlgToIdleShield`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Enables:
    - Talk button
    - Extra button
    - Calendar overlay

Disables:
    - Music hotkey

Unsets:
    - dialogue workflow flag

Intended flow:
    - when transitioning from a dialogue workflow to idle mode
```
## `mas_drawSpaceroomMasks`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Draws the appropriate masks according to the current state of the
game.

IN:
    dissolve_masks - True will dissolve masks, False will not
        (Default; True)

ASSUMES:
    morning_flag
    mas_is_raining
    mas_is_snowing
```
## `mas_drawemptydesk_rk`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`global_-2`]() | `-2` | `public` |

```
draws the table dynamically. includes ACS that should stay on desk.
NOTE: uses image manips.
NOTE: this is assumed to be used with empty desk ONLY
NOTE: sitting only

IN:
    st - renpy related
    at - renpy realted
    character - MASMonika character object
```
## `mas_drawmonika`
**DEPRECATED**

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`global_-3`]() | `-3` | `public` |

```
This function has been gutted and only draws standing

IN:
    st - renpy related
    at - renpy related
    character - MASMonika character object
    eyebrows - type of eyebrows (sitting)
    eyes - type of eyes (sitting)
    nose - type of nose (sitting)
    mouth - type of mouth (sitting)
    head - type of head (standing)
    left - type of left side (standing)
    right - type of right side (standing)
    lean - type of lean (sitting)
        (Default: None)
    arms - type of arms (sitting)
        (Default: "steepling")
    eyebags - type of eyebags (sitting)
        (Default: None)
    sweat - type of sweatdrop (sitting)
        (Default: None)
    blush - type of blush (sitting)
        (Default: None)
    tears - type of tears (sitting)
        (Default: None)
    emote - type of emote (sitting)
        (Default: None)
    stock - True means we are using stock standing, False means not
        (standing)
        (Default: True)
    single - type of single standing image (standing)
        (Default: None)
```
## `mas_drawmonika_rk`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`global_-2`]() | `-2` | `public` |

```
Draws monika dynamically, using render keys
See mas_drawmonika for more info.

IN:
    st - renpy related
    at - renpy related
    character - MASMonika character object
    eyebrows - type of eyebrows (sitting)
    eyes - type of eyes (sitting)
    nose - type of nose (sitting)
    mouth - type of mouth (sitting)
    head - type of head (standing)
    left - type of left side (standing)
    right - type of right side (standing)
    lean - type of lean (sitting)
        (Default: None)
    arms - type of arms (sitting)
        (Default: "steepling")
    eyebags - type of eyebags (sitting)
        (Default: None)
    sweat - type of sweatdrop (sitting)
        (Default: None)
    blush - type of blush (sitting)
        (Default: None)
    tears - type of tears (sitting)
        (Default: None)
    emote - type of emote (sitting)
        (Default: None)
    stock - True means we are using stock standing, False means not
        (standing)
        (Default: True)
    single - type of single standing image (standing)
        (Default: None)
```
## `mas_enableTextSpeed`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Enables text speed
```
## `mas_enable_quit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Enables quitting without monika knowing
```
## `mas_enable_quitbox`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Enables Monika's quit dialogue warning
```
## `mas_eraseTopic`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_0`]() | `0` | `public` |

```
Erases an event from both lockdb and Event database
This should also handle lockdb data as well.
TopicIDs that are not in the given eventDB are silently ignored.
(LockDB data will be erased if found)

IN:
    topicID - topic ID / label
    per_eventDB - persistent database this topic is in
```
## `mas_eventDataDump`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dump` | [`global_999`]() | `999` | `public` |

```
Data dump for purely events stats
```
## `mas_f14CapGainAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `mas_filterUnlockGroup`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`global_-1`]() | `-1` | `public` |

```
Unlock selector topic for the given group if appropriate number of
selector objects are unlocked.

IN:
    sp_type - sprite type to filter on
    group - group to use for filtering selectors
    unlock_min - minimum number that has to be unlocked for us to
        unock the selector topic.
        IF None, then we use the amount provided by the PROMPT_MAP
        (Default: None)
    allow_lock - True will lock the selector topic if it fails to be
        unlocked.
        (Default: False)
```
## `mas_findEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Finds index of the given event label in the even tlist

IN:
    event_label - event lable to check

RETURNS: index of the event in teh even tlist, -1 if not found
```
## `mas_finishSpriteObjInfo`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Finishes the sprite object with the given data.

IN:
    sprite_data - sprite data tuple from getSpriteObjInfo
    unlock_sel - True will unlock the selector topic, False will not
        (Default: True)
```
## `_mas_game_menu`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
Wrapper aound _invoke_game_menu that follows additional ui rules
```
## `mas_generateGiftsReport`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Globalied version for gift stats tracking
```
## `mas_generateShoppingList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_consumables` | [`global_5`]() | `5` | `public` |

```
Generates a list of consumables we're low on in the form of a 'shopping list'
and exports it to the characters folder

IN:
    low_cons_list - List of MASConsumable objects that we're low on
    If None, we get it here
    (Default: None)
```
## `_mas_generate_backup_notes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-story-events` | [`global_11`]() | `11` | `internal` |

## `mas_getActiveWindow`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Gets the active window name
IN:
    friendly: whether or not the active window name is returned in a state usable by the user
```
## `_mas_getBadFiles`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updater` | [`global_-894`]() | `-894` | `internal` |

```
Searches through the entire mod_assets folder for any file
with the '.new' extension and returns their paths
RETURNS:
    a list containing the file names, list will be empty if
    there was no 'bad' files
```
## `mas_getConsumable`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_consumables` | [`global_5`]() | `5` | `public` |

```
Gets a consumable object by type and id

IN:
    consumable_id - id of the consumable

OUT:
    Consumable object:
        If found, MASConsumable
        If not found, None
```
## `mas_getEV`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_6`]() | `6` | `public` |

```
Global get function that retreives an event given the label

Designed to be used as a wrapper around the mas_all_ev_db dict
NOTE: only available at RUNTIME

IN:
    ev_label - eventlabel to find event for

RETURNS:
    the event object you were looking for, or None if not found
```
## `mas_getEVCL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_6`]() | `6` | `public` |

```
Global get function that retrieves the calendar label for an event
given the eventlabel. This is mainly to help with calendar.

IN:
    ev_label - eventlabel to find calendar label for

RETURNS:
    the calendar label you were looking for, or "Unknown Event" if
    not found.
```
## `mas_getGiftStatsForDate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Globalied version to get the stats for a specific gift
IN:
    label - the gift label identifier.
    date - the date to get the stats for, if None is given will check
        today's date.
        (Defaults to None)

RETURNS:
    The number of times the gift has been given that date
```
## `mas_getGiftStatsRange`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Returns status of gifts over a range (needs to be supplied to actually be useful)

IN:
    start - a start date to check from
    end - an end date to check to

RETURNS:
    The gift status of all gifts given over the range
```
## `mas_getGiftedDates`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Gets the dates that a gift was gifted

IN:
    giftlabel - gift reaction label to check when it was last gifted

OUT:
    list of datetime.dates of the times the gift was given
```
## `mas_getNextMonikaBirthday`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

## `mas_getSpriteObjInfo`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Returns sprite info from the sprite reactions list.

IN:
    sp_data - tuple of the following format:
        [0] - sprite type
        [1] - sprite name
        If None, we use pseudo random select from sprite reacts
        (Default: None)

REUTRNS: tuple of the folling format:
    [0]: sprite type of the sprite
    [1]: sprite name (id)
    [2]: giftname this sprite is associated with
    [3]: True if this gift has already been given before
    [4]: sprite object (could be None even if sprite name is populated)
```
## `mas_getTimeFile`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `styles` | [`global_0`]() | `0` | `public` |

```
Returns the filestring pointing to the right asset for day/night

IN:
    the DAY variant of the image file needed

RETURNS:
    filestring pointing to the right path
```
## `mas_get_player_bookmarks`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Gets topics which are bookmarked by the player
Also cleans events which no longer exist

OUT:
    List of bookmarked topics as evs
```
## `mas_get_player_derandoms`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Gets topics which are derandomed by the player (in gen-scrollable-menu format)
Also cleans out events which no longer exist

OUT:
    List of player-derandomed topics in mas_gen_scrollable_menu form
```
## `mas_getuser`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Attempts to get the current user

RETURNS: current user if found, or None if not found
```
## `mas_giftCapGainAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

## `mas_hasBookmarks`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_0`]() | `0` | `public` |

```
Checks to see if we have bookmarks to show

Bookmarks are restricted to Normal+ affection
and to topics that are unlocked and are available
based on current affection
```
## `mas_hasLockedClothesWithExprop`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`global_-1`]() | `-1` | `public` |

```
Checks if we have locked clothes with a specific exprop

IN:
    exprop - exprop to look for
    value - value the exprop should be. Set to None to ignore.
    (Default: None)

OUT:
    boolean:
        True if we have locked clothes with the exprop + value provided
        False otherwise
```
## `mas_hasSpecialOutfit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

```
Checks if the given date is a special event that has an outfit in the event clothes map
IN:
    _date - date to check.
        (Default: None)

RETURNS: True if given date has a special outfit, False otherwise
```
## `mas_hasUnlockedClothesWithExprop`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`global_-1`]() | `-1` | `public` |

```
Checks if we have unlocked clothes with a specific exprop

IN:
    exprop - exprop to look for
    value - value the exprop should be. Set to None to ignore.
    (Default: None)

OUT:
    boolean:
        True if we have unlocked clothes with the exprop + value provided
        False otherwise
```
## `mas_hideEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_6`]() | `6` | `public` |

```
Hides an event given label and code.

IN:
    ev_label - label of event to hide
    code - string code of the db this ev_label belongs to
    lock - True if we want to lock this event
        (Default: False)
    derandom - True if we want to de random this event
        (Default: False)
    depool - True if we want to de pool this event
        (Default: False)
    decond - True if we want to remove conditoinal for this event
        (Default: False)
```
## `mas_hideEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Hide an event by Falsing its unlocked/random/pool props

IN:
    ev - event object we want to hide
    lock - True if we want to lock this event, False if not
        (Default: False)
    derandom - True fi we want to unrandom this Event, False if not
        (Default: False)
    depool - True if we want to unpool this event, Flase if not
        (Default: False)
    decond - True if we want to remove the conditional, False if not
        (Default: False)
```
## `mas_hideEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Hide an event label by Falsing its unlocked/random/pool props

NOTE: use this with custom eventdbs

IN:
    ev_label - label of the event we wnat to hide
    lock - True if we want to lock this event, False if not
        (Default: False)
    derandom - True fi we want to unrandom this Event, False if not
        (Default: False)
    depool - True if we want to unpool this event, Flase if not
        (Default: False)
    decond - True if we want to remove the conditional, False if not
        (Default: False)
    eventdb - event databsae ev_label is in
        (Default: evhand.event_database)
```
## `_mas_hide_windows`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
Wrapper around the _hide_windows label that hides windows
```
## `_mas_hk_bookmark_topic`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
hotkey specific bookmark topics
```
## `_mas_hk_dec_musicvol`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
hotkey specific music volume decreasing
```
## `_mas_hk_derandom_topic`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
hotkey specific derandom topics
```
## `_mas_hk_inc_musicvol`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
hotkey specific music volume increasing
```
## `_mas_hk_mute_music`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
hotkey specific muting / unmuting music channel
```
## `_mas_hk_open_extra_menu`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
hotkey specific open extras menu
```
## `_mas_hk_pick_game`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
hotkey specific pick game
```
## `_mas_hk_select_music`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
Runs the select music function if we are allowed to.
INTENDED FOR HOTKEY USAGE ONLY
```
## `_mas_hk_show_dialogue_box`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
hotkey specific show dialgoue box
```
## `mas_inEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
This checks if an event is in the event list

IN:
    event_label - event lable to check

RETURNS: True if in event list, False if not
```
## `mas_insertSort`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```
Performs a round of insertion sort.
This does least to greatest sorting

IN:
    sort_list - list to insert + sort
    item - item to sort and insert
    key - function to call using the given item to retrieve sort key

OUT:
    sort_list - list with 1 additonal element, sorted
```
## `mas_isA01`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `mas_isD25`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Returns True if the given date is d25

IN:
    _date - date to check
        If None, we use today's date
        (default: None)

RETURNS: True if given date is d25, False otherwise
```
## `mas_isD25Eve`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Returns True if the given date is d25 eve

IN:
    _date - date to check
        If None, we use today's date
        (Default: None)

RETURNS: True if given date is d25 eve, False otherwise
```
## `mas_isD25GiftHold`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
IN:
    _date - date to check, defaults None, which means today's date is assumed

RETURNS:
    boolean - True if within d25c start, to d31 (end of nts range)
    (The time to hold onto gifts, aka not silently react)
```
## `mas_isD25Outfit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Returns True if the given date is tn the range of days where Monika
wears the santa outfit on start.

IN:
    _date - date to check
        if None, we use today's date
        (Default: None)

RETURNS: True if given date is in the d25 santa outfit range, False
    otherwise
```
## `mas_isD25Post`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Returns True if the given date is after d25 but still in D25 season.
The season goes from dec 1 to jan 5.

IN:
    _date - date to check
        If None, we use today's date
        (Default: None)

RETURNS: True if given date is in d25 season but after d25, False
    otherwise.
```
## `mas_isD25PostNYD`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Returns True if the given date is in d25 season and after nyd

IN:
    _date - date to check
        If None, we use today's date
        (Default: None)

RETURNS: True if given date is in d25 season but after nyd, False
    otherwise
```
## `mas_isD25Pre`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
IN:
    _date - date to check
        if None, we use today's date
        (Default: None)

RETURNS: True if given date is in the D25 season, but before Christmas, False
    otherwise

NOTE: This is used for gifts too
```
## `mas_isD25PreNYE`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Returns True if the given date is in d25 season and before nye.

IN:
    _date - date to check
        if None, we use today's date
        (Default: None)

RETURNSL True if given date is in d25 season but before nye, False
    otherwise
```
## `mas_isD25Season`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Returns True if the given date is in d25 season. The season goes from
dec 11 to jan 5.

NOTE: because of the year rollover, we cannot check years

IN:
    _date - date to check
        If None, we use today's date
        (Default: None)

RETURNS: True if given date is in d25 season, False otherwise
```
## `mas_isF14`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `mas_isFall`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`global_-1`]() | `-1` | `public` |

```
Checks if given date is during fall
iff none passed in, then we assume today

Note: If persistent._mas_pm_live_north_hemisphere is none, we assume northern hemi

RETURNS:
    boolean showing whether or not it's fall right now
```
## `mas_isFocused`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Checks if MAS is the focused window
```
## `mas_isGameUnlocked`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Checks if the given game is unlocked.
NOTE: this is using the game_unlocks database, which only cars about
whether or not you have reached the appropraite level to unlock a game.
Each game may be disabled for other reasons not handled via
this system.

IN:
    gamename - name of the game to check

RETURNS: True if the game is unlocked, false if not
```
## `mas_isInActiveWindow`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Checks if ALL keywords are in the active window name
IN:
    keywords:
        List of keywords to check for

    non_inclusive:
        Whether or the not the list is checked non-inclusively
        (Default: False)
```
## `mas_isMonikaBirthday`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

## `mas_isMorning`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
generate the times we need
```
## `mas_isNYD`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `mas_isNYE`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `mas_isO31`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Returns True if the given date is o31

IN:
    _date - date to check.
        If None, we use today's date
        (Default: None)

RETURNS: True if given date is o31, False otherwise
```
## `mas_isRstBlk`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Checks if the event with the current label is blacklistd from being
restarted

IN:
    topic_label - label of the event we are trying to restart
```
## `mas_isSpring`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`global_-1`]() | `-1` | `public` |

```
Checks if given date is during spring
iff none passed in, then we assume today

Note: If persistent._mas_pm_live_north_hemisphere is none, we assume northern hemi

RETURNS:
    boolean showing whether or not it's spring right now
```
## `mas_isSummer`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`global_-1`]() | `-1` | `public` |

```
Checks if given date is during summer
iff none passed in, then we assume today

Note: If persistent._mas_pm_live_north_hemisphere is none, we assume northern hemi

RETURNS:
    boolean showing whether or not it's summer right now
```
## `mas_isTextSpeedEnabled`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Returns true if text speed is enabled
```
## `mas_isWinter`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`global_-1`]() | `-1` | `public` |

```
Checks if given date is during winter
iff none passed in, then we assume today

Note: If persistent._mas_pm_live_north_hemisphere is none, we assume northern hemi

RETURNS:
    boolean showing whether or not it's winter right now
```
## `mas_isplayer_bday`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `mas_lastGiftedInYear`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Checks if the gift for giftlabel was last gifted in _year

IN:
    giftlabel - gift reaction label to check it's last gifted year
    _year - year to see if it was last gifted in this year

OUT:
    boolean:
        - True if last gifted in _year
        - False otherwise
```
## `mas_lastSeenInYear`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_4`]() | `4` | `public` |

```
Checks whether or not the even was last seen in the year provided

IN:
    ev_label - label of the event we want to check
    year - the year we want to check if it's been last seen in

OUT:
    boolean - True if last seen this year, False otherwise

NOTE: if no year provided, we assume this year
```
## `mas_lastSeenLastYear`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_4`]() | `4` | `public` |

```
Checks if the event corresponding to ev_label was last seen last year
```
## `mas_lockEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_6`]() | `6` | `public` |

```
Locks an event given label and code.

IN:
    ev_label - label of event to show
    code - string code of the db this ev_label belongs to
```
## `mas_lockEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Locks the given event object

IN:
    ev - the event object to lock
```
## `mas_lockEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Locks the given event label

IN:
    evlabel - event label of the event to lock
    eventdb - Event database to find this label
```
## `mas_lockHair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Locks all hair topics
```
## `mas_mbdayCapGainAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

## `mas_mumuToIdleShield`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_shields` | [`global_0`]() | `0` | `public` |

```
Enables:
    - Talk button
    - Extra button
    - Music button
    - songs
    - calendar overlay

Intended Flow:
    - when transitioning from music menu to idle mode
```
## `mas_notifsEnabledForGroup`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Checks if notifications are enabled, and if enabled for the specified group
IN:
    group: notification group to check
```
## `mas_o31CapGainAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `mas_o31CostumeWorn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Checks if the given clothes was worn on o31

IN:
    clothes - Clothes object to check

RETURNS: year the given clothe was worn if worn on o31, None if never
    worn on o31.
```
## `mas_o31CostumeWorn_n`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Checks if the given clothes (name) was worn on o31

IN:
    clothes_name - Clothes name to check

RETURNS: year the given clothes name was worn if worn on o31, none if
    never worn on o31.
```
## `mas_o31HideVisuals`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Hides o31 visuals + vignette
```
## `mas_o31SelectCostume`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Selects an o31 costume to wear. Costumes that have not been worn
before are selected first.

NOTE: o31 costume wear flag is NOT set here. Make sure to set this
    manually later.

IN:
    selection_pool - pool to select clothes from. If NOne, we get a
        default list of clothes with costume exprop

RETURNS: a single MASClothes object of what to wear. None if cannot
    return anything.
```
## `mas_o31SetCostumeWorn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Sets that a clothing item is worn. Exprop checking is done

IN:
    clothes - clothes object to set
    year - year that the costume was worn. If NOne, we use current year
```
## `mas_o31SetCostumeWorn_n`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Sets that a clothing name is worn. NO EXPROP CHECKING IS DONE

IN:
    clothes_name - name of clothes to set
    year - year that the costume was worn. If None, we use current year
```
## `mas_o31ShowVisuals`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

```
Shows o31 visuals
```
## `mas_open_extra_menu`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_extrasmenu` | [`global_0`]() | `0` | `public` |

```
Jumps to the extra menu workflow
```
## `mas_pbdayCapGainAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `mas_player_bday_curr`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-11`]() | `-11` | `public` |

## `_mas_quick_menu_cb`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `internal` |

```
Opens game menu to the appropraite quick screen.
NOTE: no checks are done here, please do not fuck this.
```
## `mas_randomSelectAndPush`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```
Randomly selects an element from the the given list and pushes the event
This also removes the element from that list.

NOTE: this does sensitivy checks

IN:
    sel_list - list to select from

ASSUMES:
    persistent.random_seen
```
## `mas_randomSelectAndRemove`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```
Randomly selects an element from the given list
This also removes the element from that list.

IN:
    sel_list - list to select from

RETURNS:
    selected element
```
## `mas_rebuildEventLists`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```
Rebuilds the unseen, seen and most seen event lists.

ASSUMES:
    mas_rev_unseen - unseen list
    mas_rev_seen - seen list
    mas_rev_mostseen - most seen list
```
## `mas_receivedGift`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`global_0`]() | `0` | `public` |

```
Globalied version for gift stats tracking
```
## `mas_recognizedBday`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

## `mas_removeBlacklistReact`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Removes the given ev_label to the no unlock list if exists
IN:
    ev_label: eventlabel to remove from the no unlock list
```
## `mas_removeDelayedAction`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_-880`]() | `-880` | `public` |

```
Removes a delayed action with the given ID

NOTE: this removes from both persistent and the runtime lists

IN:
    _id - id of the delayed action to remove
```
## `mas_removeDelayedActions`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_-880`]() | `-880` | `public` |

```
Multiple argument delayed action removal

Assumes all given args are IDS
```
## `mas_removeDelayedActions_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_-880`]() | `-880` | `public` |

```
Removes a list of delayed actions with given Ids

IN:
    _ids - list of Ids to remove
```
## `mas_resetIdleMode`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Resets specific idle mode vars.

This is meant to basically clear idle mode for holidays or other
things that hijack main flow
```
## `mas_resetTextSpeed`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Sets text speed to the appropriate one depending on global settings

Rules:
1 - developer always gets text speed (unless ignoredev is True)
2 - text speed enabled if affection above happy
3 - text speed disabled otherwise
```
## `_mas_resetVersionUpdates`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_10`]() | `10` | `internal` |

```
Resets all version update script's seen status
```
## `mas_resetWindowReacts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Runs through events in the windowreact_db to unlock them
IN:
    List of ev_labels to exclude from being unlocked
```
## `mas_rmEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
REmoves an event from the event list if it exists

IN:
    event label to remove
```
## `mas_rmallEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Removes all events with athe given label

IN:
    event label to remove
```
## `mas_runDelayedActions`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_-880`]() | `-880` | `public` |

```
Attempts to run currently held delayed actions for the given flow mode

Delayed actions that are successfully completed are removed from the
list

IN:
    flow - FC constant for the current flow
```
## `mas_seasonalCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Determines the current season and runs an appropriate programming
point.

If the global for season is currently None, then we instead set the
current season.

NOTE: this does NOT do progressive programming point execution.
    This is intended for runtime usage only.

ASSUMES:
    persistent._mas_current_season
```
## `mas_sessionDataDump`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dump` | [`global_999`]() | `999` | `public` |

```
Dumps session data as a string
```
## `mas_setBackground`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_backgrounds` | [`global_800`]() | `800` | `public` |

```
Sets the initial bg

NOTE: We don't handle exit pp's here

IN:
    _background:
        The background we're changing to
```
## `mas_setWeather`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`global_800`]() | `800` | `public` |

```
Sets the initial weather.
This is meant for startup/ch30_reset

NOTE: this does NOt call exit programming points

IN:
    _weather - weather to set to.
```
## `mas_shouldChangeTime`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Checks if we should change the day to night or night to day.

RETURNS: true if we should change day/night cycle, False otherwise
```
## `mas_shouldRain`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Rolls some chances to see if we should make it rain

RETURNS:
    rain weather to use, or None if we dont want to change weather
```
## `mas_showEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_6`]() | `6` | `public` |

```
Shows an event given label and code.

IN:
    ev_label - label of event to show
    code - string code of the db this ev_label belongs to
    unlock - True if we want to unlock this Event
        (Default: False)
    _random - True if we want to random this event
        (Default: False)
    _pool - True if we want to random thsi event
        (Default: False)
```
## `mas_showEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Show an event by Truing its unlock/ranomd/pool props

IN:
    ev - event to show
    unlock - True if we want to unlock this event, False if not
        (Default: False)
    _random - True if we want to random this event, Flase otherwise
        (Default: False)
    _pool - True if we want to pool this event, False otherwise
        (Default: False)
```
## `mas_showEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Shows an event label, by Truing the unlocked, random, and pool
properties.

NOTE: use this for custom event dbs

IN:
    ev_label - label of event to show
    unlock - True if we want to unlock this event, False if not
        (DEfault: False)
    _random - True if we want to random this event, False if not
        (Default: False)
    _pool - True if we want to pool this event, False if not
        (Default: False)
    eventdb - eventdatabase this label belongs to
        (Default: evhannd.event_database)
```
## `mas_splitRandomEvents`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```
Splits the given random events dict into 2 lists of events
NOTE: cleans the seen list

RETURNS:
    tuple of the following format:
    [0] - unseen list of events
    [1] - seen list of events, sorted by shown_count

```
## `mas_splitSeenEvents`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```
Splits the seen_list into seena nd most seen

IN:
    sorted_seen - list of seen events, sorted by shown_count

RETURNS:
    tuple of thef ollowing format:
    [0] - seen list of events
    [1] - most seen list of events
```
## `mas_startup_song`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`global_0`]() | `0` | `public` |

```
Starts playing either the persistent track

Meant for usage in startup processes.
```
## `mas_stripEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_6`]() | `6` | `public` |

```
Strips the conditional and action from an event given the label
Also removes the event from the event list if present (optional)

IN:
    ev_label - label of event to strip
    list_pop - True if we want to remove the event from the event list
        (Default: False)
```
## `mas_surpriseBdayHideVisuals`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

## `mas_surpriseBdayShowVisuals`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-1`]() | `-1` | `public` |

## `mas_transferTopic`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_0`]() | `0` | `public` |

```

NOTE: This can cause data corruption. DO NOT USE.

Transfers a topic's data from the old topic ID to the new one int he
given database as well as the lock database.

NOTE: If the new topic ID already exists in the given databases,
the data is OVERWRITTEN

IN:
    old_topicID - old topic ID to transfer
    new_topicID - new topic ID to receieve
    per_eventDB - persistent databse this topic is in
```
## `mas_transferTopicData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_7`]() | `7` | `public` |

```
Transfers topic data from ev to ev

IN:
    new_topic_evl - new topic's eventlabel
    old_topic_evl - old topic's eventlabel
    old_topic_ev_db - event database containing the old topic
    transfer_unlocked - whether or not we should transfer the unlocked property of the old topic
    (Default: True)
    transfer_shown_count - whether or not we should transfer the shown_count property of the old topic
    (Default: True)
    transfer_seen_data - whether or not we should transfer the _seen_ever state of the old topic
    (Default: True)
    transfer_last_seen - whether or not we should transfer the last_seen property of the old topic
    (Default: True)
    erase_topic - whether or not we should erase this topic after transferring data
    (Defualt: True)
```
## `mas_transferTopicSeen`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_0`]() | `0` | `public` |

```
Tranfers persistent seen ever data. This is separate because of complex
topic adjustments

IN:
    old_topicID - old topic ID to tranfer
    new_topicID - new topic ID to receieve
```
## `mas_tryShowNotificationLinux`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Tries to push a notification to the notification center on Linux.
If it can't it should fail silently to the user.
IN:
    title: notification title
    body: notification body
```
## `mas_tryShowNotificationOSX`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Tries to push a notification to the notification center on macOS.
If it can't it should fail silently to the user.
IN:
    title: notification title
    body: notification body
```
## `mas_unlockEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_6`]() | `6` | `public` |

```
Unlocks an event given label and code.

IN:
    ev_label - label of event to show
    code - string code of the db this ev_label belongs to
```
## `mas_unlockEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Unlocks the given evnet object

IN:
    ev - the event object to unlock
```
## `mas_unlockEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Unlocks the given event label

IN:
    evlabel - event label of the event to lock
    eventdb - Event database to find this label
```
## `mas_unlockFailedWRS`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Unlocks a wrs again provided that it showed, but failed to show (failed checks in the notif label)
NOTE: This should only be used for wrs that are only a notification
IN:
    ev_label: eventlabel of the wrs
```
## `mas_unlockGame`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Unlocks the given game.

IN:
    gamename - name of the game to unlock
```
## `mas_unlockPrompt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
Unlocks a pool event

RETURNS:
    True if an event was unlocked. False otherwise
```
## `mas_unstableDataDump`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dump` | [`global_999`]() | `999` | `public` |

```
This is a function called on startup and performs data dumps.

Please add your data dump to a different file than dumps.log if its
a large dump.

Thank you.
```
## `mas_updateFilterDict`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_windowreacts` | [`global_0`]() | `0` | `public` |

```
Updates the filter dict with the groups in the groups list for the settings menu
```
## `mas_useThermos`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_consumables` | [`global_5`]() | `5` | `public` |

```
Gets Monika to put her drink into a thermos when taking her somewhere if it is eligible
```
## `mute_music`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`global_0`]() | `0` | `public` |

```
Mutes and unmutes the music channel

IN:
    mute_enabled - True means we are allowed to mute.
        False means we are not
```
## `pick_game`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Jumps to the pick a game workflow
```
## `play_song`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`global_0`]() | `0` | `public` |

```

literally just plays a song onto the music channel
Also sets the currentt track

IN:
  song - song to play. If None, the channel is stopped
  fadein - number of seconds to fade in the song
  loop - True if we should loop the song if possible, False to not
      loop.
  set_per - True if we should set persistent track, False if not
```
## `pnmlLoadTuples`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`global_810`]() | `810` | `public` |

```
Loads piano note match lists from the saved data, wich is assumed to
be in the proper format. No checking is done.

ASSUMES:
    persistent._mas_pnml_data
    mas_piano_keys.pnml_bk_db
```
## `pnmlSaveTuples`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`global_810`]() | `810` | `public` |

```
Saves piano not match list into a pickleable format.

ASSUMES:
    persistent._mas_pnml_data
    mas_piano_keys.pnml_bk_db
```
## `popEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
This returns the event name for the next event and makes it the
current_monikatopic

IN:
    remove = If False, then just return the name of the event but don't
    remove it

ASSUMES:
    persistent.event_list
    persistent.current_monikatopic

RETURNS: tuple of the folloiwng format:
    [0] - event lable of the next event
    [1] - whether or not we need to notify
```
## `pushEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
This pushes high priority or time sensitive events onto the top of
the event list

IN:
    @event_label - a renpy label for the event to be called
    skipmidloopeval - do we want to skip the mid loop eval to prevent other rogue events
    from interrupting. (Defaults: False)
    notify - True will trigger a notification if appropriate. False
        will not

ASSUMES:
    persistent.event_list
```
## `queueEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
This adds low priority or order-sensitive events onto the bottom of
the event list. This is slow, but rarely called and list should be small.

IN:
    @event_label - a renpy label for the event to be called
    notify - True will trigger a notification if appropriate, False
        will not

ASSUMES:
    persistent.event_list
```
## `removeTopicID`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_0`]() | `0` | `public` |

```
Removes one topic from the _seen_ever variable topics list if it exists in either var
(persistent is also checked for existence)

IN:
    topicID - the topicID to remove

ASSUMES:
    persistent._seen_ever
```
## `remove_seen_labels`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`global_-1`]() | `-1` | `public` |

```

Removes seen labels from the given pool

IN:
  pool - a list of labels to check for seen

OUT:
  pool - list of unseen labels (may be empty)
```
## `replace_text`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `options` | [`global_0`]() | `0` | `public` |

## `restartEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
This checks if there is a persistent topic, and if there was push it
back on the stack with a little comment.
```
## `safeDel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_0`]() | `0` | `public` |

```
Safely deletes variables from persistent

IN:
    varname - name of the variable to delete from persistent as string

NOTE: THIS SHOULD BE USED IN PLACE OF THE DEFAULT `del` KEYWORD WHEN DELETING VARIABLES FROM THE PERSISTENT
```
## `seen_event`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
This checks if an event has either been seen or is already in the
event list.

IN:
    event_lable = The label for the event to be checked

ASSUMES:
    persistent.event_list
```
## `select_music`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`global_0`]() | `0` | `public` |

```
check for open menu
```
## `set_keymaps`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`global_0`]() | `0` | `public` |

```

Sets the keymaps

ASSUMES:
  config.keymap
  config.underlay
Add keys for new functions
```
## `show_calendar`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` | **Yes** |

```
Opens the calendar if we can
```
## `show_dialogue_box`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Jumps to the topic promt menu
```
## `slow_nodismiss`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-ch30` | [`global_0`]() | `0` | `public` |

```
Callback for whenever monika talks

IN:
    event - main thing we can use here, lets us now when in the pipeline
        we are for display text:
        begin -> start of a say statement
        show -> right before dialogue is shown
        show_done -> right after dialogue is shown
        slow_done -> called after text finishes showing
            May happen after "end"
        end -> end of dialogue (user has interacted)
```
## `strip_mas_birthdate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`global_-10`]() | `-10` | `public` |

## `unlockEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
NOTE: DEPRECATED
Unlocks the given evnet object

IN:
    ev - the event object to unlock
```
## `unlockEventLabel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`global_0`]() | `0` | `public` |

```
NOTE: DEPRECATED
Unlocks the given event label

IN:
    evlabel - event label of the event to lock
    eventdb - Event database to find this label
```
## `updateGameFrom`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_0`]() | `0` | `public` |

```
Updates the game, starting at the given start version

IN:
    startVers - the version number in the parsed format ('v#####')

ASSUMES:
    updates.version_updates
```
## `updateTopicIDs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates` | [`global_0`]() | `0` | `public` |

```
Updates topic IDS between versions by performing a two step process: adjust exisitng IDS to match the new IDS
then add newIDs to the persistent randomtopics

IN:
    version_number - the version number we are updating to

ASSUMES:
    persistent._seen_ever
    updates.topics
```
## `zoom_smoothly`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `special-effects` | [`global_0`]() | `0` | `public` |

```
Transition function used in mas_smooth_transition
takes the standard parameters on functions used on transforms
see https://www.renpy.org/doc/html/atl.html#function-statement
ASSUMES:
    _mas_old_zoom - containing the old zoom
    _mas_old_zoom_value - containing the old zoom value
    _mas_old_y - containing the old y value
    _mas_zoom_diff - containing the difference between the old and new zoom levels
    _mas_zoom_value_diff - containing the difference between the old and new zoom values
    _mas_zoom_y_diff - containing the difference between the old and new y values
```
# hkb_button

#### Defined Init Levels
* `-1`

#### TOC

# mas_affection

#### Defined Init Levels
* `-900`
* `-1`
* `15`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-1` |

#### TOC
* [`_affToEnamored`](#_afftoenamored)
* [`_affToHappy`](#_afftohappy)
* [`audit`](#audit)
* [`_betweenAff`](#_betweenaff)
* [`_brokenToDis`](#_brokentodis)
* [`_compareAff`](#_compareaff)
* [`_compareAffG`](#_compareaffg)
* [`_disToBroken`](#_distobroken)
* [`_disToUpset`](#_distoupset)
* [`_enamoredToAff`](#_enamoredtoaff)
* [`_enamoredToLove`](#_enamoredtolove)
* [`_force_exp`](#_force_exp)
* [`_gHappyToNormal`](#_ghappytonormal)
* [`_gNormalToHappy`](#_gnormaltohappy)
* [`_gNormalToSad`](#_gnormaltosad)
* [`_gSadToNormal`](#_gsadtonormal)
* [`_happyToAff`](#_happytoaff)
* [`_happyToNormal`](#_happytonormal)
* [`_init_talk_quips`](#_init_talk_quips)
* [`_isMoniState`](#_ismonistate)
* [`_isMoniStateG`](#_ismonistateg)
* [`_isValidAff`](#_isvalidaff)
* [`_isValidAffRange`](#_isvalidaffrange)
* [`_loveToEnamored`](#_lovetoenamored)
* [`_normalToHappy`](#_normaltohappy)
* [`_normalToUpset`](#_normaltoupset)
* [`raw_audit`](#raw_audit)
* [`runAffGPPs`](#runaffgpps)
* [`runAffPPs`](#runaffpps)
* [`save_quips`](#save_quips)
* [`_upsetToDis`](#_upsettodis)
* [`_upsetToNormal`](#_upsettonormal)

## `_affToEnamored`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from affectionate to enamored
```
## `_affToHappy`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from affectionate to happy
```
## `audit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_-1`]() | `-1` | `public` |

```
Audits a change in affection.

IN:
    change - the amount we are changing by
    new - what the new affection value will be
    frozen - True means we were frozen, false measn we are not
    bypass - True means we bypassed, false means we did not
    ldsv - Set to the string to use instead of monikatopic
        NOTE: for load / save operations ONLY
```
## `_betweenAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_-900`]() | `-900` | `internal` |

```
checks if the given affection level is between the given low and high.
See mas_betweenAff for explanation
```
## `_brokenToDis`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from broken to distressed
```
## `_compareAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_-900`]() | `-900` | `internal` |

```
See mas_compareAff for explanation
```
## `_compareAffG`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_-900`]() | `-900` | `internal` |

```
See mas_compareAffG for explanation
```
## `_disToBroken`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from distressed to broken
```
## `_disToUpset`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from distressed to upset
```
## `_enamoredToAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from enamored to affectionate
```
## `_enamoredToLove`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from enamored to love
```
## `_force_exp`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_-1`]() | `-1` | `internal` |

```
Determines appropriate forced expression for current affection.
```
## `_gHappyToNormal`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from happy group to normal group
```
## `_gNormalToHappy`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from normal group to happy group
```
## `_gNormalToSad`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from normal group to sad group
```
## `_gSadToNormal`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from sad group to normal group
```
## `_happyToAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from happy to affectionate
```
## `_happyToNormal`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitinong from happy to normal
```
## `_init_talk_quips`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Initializes the talk quiplists
```
## `_isMoniState`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Compares the given affection values according to the affection
state system

By default, this will check if aff_1 == aff_2

IN:
    aff_1 - affection to compare
    aff_2 - affection to compare
    lower - True means we want to check aff_1 <= aff_2
    higher - True means we want to check aff_1 >= aff_2

RETURNS:
    True if the given affections pass the test we want to do.
    False otherwise
```
## `_isMoniStateG`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Compares the given affection groups according to the affection group
system

By default, this will check if affg_1 == affg_2

IN:
    affg_1 - affection group to compare
    affg_2 - affection group to compare
    lower - True means we want to check affg_1 <= affg_2
    higher - True means we want to check affg_1 >= affg_2

RETURNS:
    true if the given affections pass the test we want to do.
    False otherwise
```
## `_isValidAff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_-900`]() | `-900` | `internal` |

```
Returns true if the given affection is a valid affection state

NOTE: None is considered valid
```
## `_isValidAffRange`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_-900`]() | `-900` | `internal` |

```
Returns True if the given aff range is a valid aff range.

IN:
    aff_range - tuple of the following format:
        [0]: lower bound
        [1]: upper bound
    NOTE: Nones are considerd valid.
```
## `_loveToEnamored`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from love to enamored
```
## `_normalToHappy`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from noraml to happy
```
## `_normalToUpset`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from normal to upset
```
## `raw_audit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_-1`]() | `-1` | `public` |

```
Non affection-dependent auditing for general usage.

IN:
    old - the "old" value
    new - the "new" value
    change - the chnage amount
    tag - a string to label this audit change
```
## `runAffGPPs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `public` |

```
Runs programming points to transition from the starting affection group
to the ending affection group

IN:
    start_affg - starting affection group
    end_affg - ending affection group
```
## `runAffPPs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `public` |

```
Runs programming points to transition from the starting affection
to the ending affection

IN:
    start_aff - starting affection
    end_aff - ending affection
```
## `save_quips`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `public` |

## `_upsetToDis`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from upset to distressed
```
## `_upsetToNormal`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-affection` | [`mas_affection_15`]() | `15` | `internal` |

```
Runs when transitioning from upset to normal
```
# mas_anni

#### Defined Init Levels
* `-2`
* `10`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `datetime` | `-2` |

#### TOC
* [`add_cal_annis`](#add_cal_annis)
* [`anniCount`](#annicount)
* [`build_anni`](#build_anni)
* [`build_anni_end`](#build_anni_end)
* [`clean_cal_annis`](#clean_cal_annis)
* [`_day_adjuster`](#_day_adjuster)
* [`isAnni`](#isanni)
* [`isAnniAny`](#isanniany)
* [`isAnniOneMonth`](#isannionemonth)
* [`isAnniSixMonth`](#isannisixmonth)
* [`isAnniThreeMonth`](#isannithreemonth)
* [`isAnniWeek`](#isanniweek)
* [`_month_adjuster`](#_month_adjuster)
* [`pastOneMonth`](#pastonemonth)
* [`pastOneWeek`](#pastoneweek)
* [`pastSixMonths`](#pastsixmonths)
* [`pastThreeMonths`](#pastthreemonths)
* [`reset_annis`](#reset_annis)
* [`unlock_past_annis`](#unlock_past_annis)

## `add_cal_annis`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_10`]() | `10` | `public` |

```
Goes through the anniversary database and adds them to the calendar
```
## `anniCount`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

```
RETURNS:
    Integer value representing how many years the player has been with Monika
```
## `build_anni`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

```
Builds an anniversary date.

NOTE:
    years / months / weeks are mutually exclusive

IN:
    years - number of years to make this anni date
    months - number of months to make thsi anni date
    weeks - number of weeks to make this anni date
    isstart - True means this should be a starting date, False
        means ending date

ASSUMES:
    __persistent
```
## `build_anni_end`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

```
Variant of build_anni that auto ends the bool

SEE build_anni for params
```
## `clean_cal_annis`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_10`]() | `10` | `public` |

```
Goes through the calendar and cleans anniversary dates
```
## `_day_adjuster`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_10`]() | `10` | `internal` |

```
Adjusts the start_date / end_date of an anniversary event.

NOTE: do not use this for a non anniversary date

IN:
    ev - event to adjust
    new_start_date - new start date to calculate the event's dates
    days - number of months to advance
    span - the time from the event's new start_date to end_date
```
## `isAnni`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

```
INPUTS:
    milestone:
        Expected values|Operation:

            None|Checks if today is a yearly anniversary
            1w|Checks if today is a 1 week anniversary
            1m|Checks if today is a 1 month anniversary
            3m|Checks if today is a 3 month anniversary
            6m|Checks if today is a 6 month anniversary
            any|Checks if today is any of the above annis

RETURNS:
    True if datetime.date.today() is an anniversary date
    False if today is not an anniversary date
```
## `isAnniAny`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

## `isAnniOneMonth`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

## `isAnniSixMonth`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

## `isAnniThreeMonth`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

## `isAnniWeek`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

## `_month_adjuster`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_10`]() | `10` | `internal` |

```
Adjusts the start_date / end_date of an anniversary event.

NOTE: do not use this for a non anniversary date

IN:
    ev - event to adjust
    new_start_date - new start date to calculate the event's dates
    months - number of months to advance
    span - the time from the event's new start_date to end_date
```
## `pastOneMonth`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

```
RETURNS:
    True if current date is past the 1 month threshold
    False if below the 1 month threshold
```
## `pastOneWeek`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

```
RETURNS:
    True if current date is past the 1 week threshold
    False if below the 1 week threshold
```
## `pastSixMonths`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

```
RETURNS:
    True if current date is past the 6 month threshold
    False if below the 6 month threshold
```
## `pastThreeMonths`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_-2`]() | `-2` | `public` |

```
RETURNS:
    True if current date is past the 3 month threshold
    False if below the 3 month threshold
```
## `reset_annis`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_10`]() | `10` | `public` |

```
Reset the anniversaries according to the new start date.

IN:
    new_start_date - new start date to reset anniversaries
```
## `unlock_past_annis`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-anniversary` | [`mas_anni_10`]() | `10` | `public` |

```
Goes through the anniversary database and unlocks the events that
already past.
```
# mas_apology

#### Defined Init Levels
* `-10`

#### TOC

# mas_background

#### Defined Init Levels
* `-20`
* `-2`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-20` |

#### TOC
* [`_def_background_entry`](#_def_background_entry)
* [`_def_background_exit`](#_def_background_exit)
* [`getUnlockedBGCount`](#getunlockedbgcount)
* [`loadMBGData`](#loadmbgdata)
* [`saveMBGData`](#savembgdata)

## `_def_background_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_backgrounds` | [`mas_background_-2`]() | `-2` | `internal` |

```
Entry programming point for befault background
```
## `_def_background_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_backgrounds` | [`mas_background_-2`]() | `-2` | `internal` |

```
Exit programming point for befault background
```
## `getUnlockedBGCount`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_backgrounds` | [`mas_background_-20`]() | `-20` | `public` |

```
Gets the number of unlocked backgrounds
```
## `loadMBGData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_backgrounds` | [`mas_background_-20`]() | `-20` | `public` |

```
Loads persistent MASBackground data into the weather map

ASSUMES: background map is already filled
```
## `saveMBGData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_backgrounds` | [`mas_background_-20`]() | `-20` | `public` |

```
Saves MASBackground data from weather map into persistent
```
# mas_calendar

#### Defined Init Levels
* `-10`
* `-1`
* `2`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-1` |

#### TOC
* [`addEvent`](#addevent-1)
* [`addEvent_evd`](#addevent_evd)
* [`addEvent_evdt`](#addevent_evdt)
* [`__addEvent_md`](#__addevent_md)
* [`addRepeatable`](#addrepeatable)
* [`addRepeatable_d`](#addrepeatable_d)
* [`addRepeatable_dt`](#addrepeatable_dt)
* [`_addRepeatable_md`](#_addrepeatable_md)
* [`addSeasonEvents`](#addseasonevents)
* [`_findEvent_md`](#_findevent_md)
* [`_findRepeatable_md`](#_findrepeatable_md)
* [`_formatDay`](#_formatday)
* [`_formatYears`](#_formatyears)
* [`genFormalDispDate`](#genformaldispdate)
* [`genFriendlyDispDate`](#genfriendlydispdate)
* [`genFriendlyDispDate_d`](#genfriendlydispdate_d)
* [`loadCalendarDatabase`](#loadcalendardatabase)
* [`removeEvent`](#removeevent)
* [`_removeEvent`](#_removeevent)
* [`_removeEvent_d`](#_removeevent_d)
* [`removeEvent_el`](#removeevent_el)
* [`removeEvent_eld`](#removeevent_eld)
* [`removeEvent_eldt`](#removeevent_eldt)
* [`removeEvent_ev`](#removeevent_ev)
* [`removeEvent_evd`](#removeevent_evd)
* [`removeEvent_evdt`](#removeevent_evdt)
* [`_removeEvent_m`](#_removeevent_m)
* [`_removeEvent_md`](#_removeevent_md)
* [`_removeRepeatable`](#_removerepeatable)
* [`removeRepeatable`](#removerepeatable)
* [`removeRepeatable_d`](#removerepeatable_d)
* [`_removeRepeatable_d`](#_removerepeatable_d)
* [`removeRepeatable_dt`](#removerepeatable_dt)
* [`_removeRepeatable_m`](#_removerepeatable_m)
* [`_removeRepeatable_md`](#_removerepeatable_md)
* [`saveCalendarDatabase`](#savecalendardatabase)

## `addEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Adds an event to the calendar accoridng to its start_date and end_date
properties. If start_date is not set in the given event,
this function will do nothing.

IN:
    ev - event to add
```
## `addEvent_evd`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Adds an event to the calendar at a preicse date.

IN:
    ev - event to add
    _date - datetime.date to add to
```
## `addEvent_evdt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Adds an event to the calendar at a precise datetime.

IN:
    ev - event to add
```
## `__addEvent_md`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `private` |

```
Adds an event to the calendar at a precise month / day

NOTE: no sanity checks are done for month / day

IN:
    ev_label - eventlabel of the event to add
    month - month to add to
    day - day to add to
```
## `addRepeatable`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Adds a repeatable to the calendar at a precise month / day
Sanity checks are done for month / day

IN:
    identifier - label of the event that it's unique
    display_label - label that will be displayed
    month - month to add to
    day - day to add to
    year_param - data to put in the year part of the tuple
```
## `addRepeatable_d`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Adds a repeatable to the calendar at precise datetime.date

IN:
    identifier - identifier of the repeatable to add
    display_label - label that will be displayed
    _date - datetime.date to add to
    year_param - data to put in the year part of the tuple
```
## `addRepeatable_dt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Adds a repeatable to the calendar at a precise datetime

IN:
    identifier - identifier of the repeatable to add
    display_label - label that will be displayed
    _datetime - datetime to add to
    year_param - data to put in the year part of the tuple
```
## `_addRepeatable_md`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Adds a repeatable to the calendar at a precise month / day

NOTE: no sanity checks are done for month / day

IN:
    identifier - label of the event that it's unique
    display_label - label that will be displayed
    month - month to add to
    day - day to add to
    year_param - data to put in the year part of the tuple
```
## `addSeasonEvents`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_2`]() | `2` | `public` |

```
Adds season change events to the calendar.
If the changed param is True it changes the old events.
IN:
    changed - flag to specify that we need to change the
        old events from the calendar
```
## `_findEvent_md`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Finds the event tuple from the calendar at a precise month / day.

NOTE: no sanity checks are done for month / day

IN:
    ev_label - eventlabel of the event to find
    month - month we should look at for finding
    day - day we should look at for finding

RETURNS:
    the event tuple if it was found, None otherwise
```
## `_findRepeatable_md`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Finds the repeatable dtuple from the calendar at a precise month / day

NOTE: no sanity checks are done for month / day

IN:
    identifier - the id of the repeatable to find
    month - month we should look at for finding
    day - day we should look at for finding

RETURNS:
    the repeatable tuple if itw as found, None otherwise
```
## `_formatDay`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Properly formats the given day so it displays with the correct
suffixes.

IN:
    day - day to get a nice display string

RETURNS:
    nice display string for the day
```
## `_formatYears`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Properly formats the given years var so it says a user friendly
way to show years.

Basically if years is:
0 - ""
1 - "last year"
2+ - "x years ago"

IN:
    years - number of years to get a nice display string

RETURNS:
    nice display string for the years
```
## `genFormalDispDate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Generates a display date using the given date

This is considered "formal", in that it's not really realisitc when
used in normal conversation. For example, if today is august 24, you
don't say 'this happened august 24th, 2016', you normally would say
'this happened x years ago today'.

IN:
    _date - date object to create good display date

RETURNS:
    tuple of the following format:
    [0]: nicely formtted display date, suitable for text
    [1]: timedelta between today and the given _date
```
## `genFriendlyDispDate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
NOTE: DEPRECATED

Generates a display date using the given datetime

IN:
    _datetime - datetime object to create good display date
```
## `genFriendlyDispDate_d`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Generates a display date using the given date
This creates a display date in the format:
    Month Day, Year
However, this is somewhat variable.

If it is the same as the current year, the year is not provided.
If the date is whithin a year of the current date, year is not
provided.
If the year is last year and greater than a year of the current date,
"last year on <month> <day>"
If the year is within 2-10 years ago, then "x years ago on <month>
<day>" is used.
Otherwise, the actual 4 digit year is used.

If the days / months are the same, then "x years ago to this date"
is used.

IN:
    _date - date object to create good display date

RETURNS:
    tuple of the following format:
    [0]: nicely formatted display date, suitable for conversation
    [1]: timedelta between today and the given _date
```
## `loadCalendarDatabase`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Returns the database read from the file renpy.config.savedir + '/db.mcal'
as a dict

RETURNS:
    a dict containing the events for the calendar

```
## `removeEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes an event from the calendar using it's start_date and end_date
properties.

IN:
    ev - event to remove
```
## `_removeEvent`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Removs an event from the calendar.

NOTE: O(n^2) efficieny, please avoid using this.

IN:
    ev_label - eventlabel of the event to remove
    remove_all - SEE removeEvent_el
```
## `_removeEvent_d`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Removes an event from the calendar on a particular day.

NOTE:
    no sanity checks are done for day.

IN:
    ev_label - eventlabel of the event to remove
    day - day we should look at for removal
    remove_all - SEE removeEvent_el
```
## `removeEvent_el`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes an event from the calendar.

NOTE: The default params will check EVERY SINGLE calendar spot for the
event to remove. It is considered HIGHLY INEFFICIENT. Try to use the
other removeEvent functions if possible, or narrow the search using
month and day.

NOTE:
    Using both month and day will do the same check as removeEvent_eld

IN:
    ev_label - eventlabel of the event to remove
    month - If given (and a valid month), will only check the calendar
        in the given month.
        (Default: None)
    day - If given (and a valid day), will only check the calendar
        for the given day for each month
        (Default: None)
    remove_all - True means we remove every single occurence of the
        given eventlabel. False means we only remove the first one we
        find.
        (Default: False)
```
## `removeEvent_eld`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes an event from the calendar at a precise date.

IN:
    ev_label - eventlabel of the event to remove
    _date - datetime.date we should look at for event removal
```
## `removeEvent_eldt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes an event from the calendar at a precise datetime.

IN:
    ev_label - eventlabel of the event to remove
    _datetime - datetime we should look at for event removal
```
## `removeEvent_ev`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes an event from the calendar.

SEE removeEvent_el for important NOTES regarding this function.

IN:
    ev - event to remove
    month - SEE removeEvent_el
    day - SEE removeEvent_el
    remove_all - SEE removeEvent_el
```
## `removeEvent_evd`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes an event from the calendar at a precise date.

IN:
    ev - event to remove
    _date - datetime.date we should look at for event removal
```
## `removeEvent_evdt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes and event from the calendar at a precise datetime.

IN:
    ev - event to remove
    _datetime - datetime.date we should look at for removal
```
## `_removeEvent_m`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Removes an event from the calendar in a particular month.

NOTE:
    no sanity checks are done for month

IN:
    ev_label - eventlabel of the event to remove
    month - month we should look at for removal
    remove_all - SEE removeEvent_el
```
## `_removeEvent_md`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Removes an event from the calendar at a precise month / day.

NOTE: no sanity checks are done for month / day

IN:
    ev_label - eventlabel of the event to remove
    month - month we should look at for removal
    day - day we should look at for removal

RETURNS:
    True if we removed something, False otherwise
```
## `_removeRepeatable`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Removes a repeatable from teh calendar.

NOTE: O(n^2) efficiency, please avoid using this.

IN:
    identifier - identifier of the repeatable to remove
```
## `removeRepeatable`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes a repeatable from the calendar.

NOTE: The default params will check EVERY SINGLE calendar spot for the
repeatable to remove. It is considered HIGHLY INEFFICIENT. Try to use
the other removeRepeatable functions if possible, or narrow the search
using month and day.

IN:
    identifier - identifier of the repeatable to remove
    month - If given (and a valid month), will only check the calendar
        in the given month.
        (Default: None)
    day - If given (and a valid day), will only check the calendar for
        the given day for reach month
        (Default: None)
```
## `removeRepeatable_d`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes a repeatable from teh calendar at a precise datetime.date

IN:
    identifier - identifier of the repeatable to remove
    _date - datetime.date we should look at for removal
```
## `_removeRepeatable_d`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Removes a repeatable from teh calendar in a particular month.

NOTE: no sanity checks are done for day

IN:
    identifier - identifier of the repeatable to remove
    day - day we should look at for removal
```
## `removeRepeatable_dt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Removes a repeatable from teh calendar at aprecise datetime

IN:
    identifier - identifier of the repeatable to remove
    _datetime - datetime we should look at for removal
```
## `_removeRepeatable_m`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Removes a repeatable from the calendar in a particular month.

NOTE: no sanity checks are done for month

IN:
    identifier - identifier of the repeatable to remove
    month - month we should look at for removal
```
## `_removeRepeatable_md`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `internal` |

```
Removes a repeatable from teh calendar at a precise month / day.

NOTE: no sanity checks are done for month / day

IN:
    identifider - identifier of the repeatable to remove
    month - month we should look at for removal
    day - day we should look at for removal

RETURNS:
    True if we removed somethign, False otherwise
```
## `saveCalendarDatabase`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_calendar` | [`mas_calendar_-1`]() | `-1` | `public` |

```
Saves the passed database as a json file named db.mcal

IN:
    - encoder a json.JSONEncoder to be used for encoding
        the database
    - database a dict containing the events
```
# mas_chess

#### Defined Init Levels
* `1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `chess` | `1` |

#### TOC
* [`_checkInProgressGame`](#_checkinprogressgame)
* [`__initDLGActions`](#__initdlgactions)
* [`_initMASChess`](#_initmaschess)
* [`_initQuipLists`](#_initquiplists)
* [`isInProgressGame`](#isinprogressgame)

## `_checkInProgressGame`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `chess` | [`mas_chess_1`]() | `1` | `internal` |

```
Checks if the given pgn game is valid and in progress.

IN:
    pgn_game - pgn game to check
    mth - monika twitter handle. pass it in since I'm too lazy to
        find context from a store

RETURNS:
    SEE isInProgressGame
```
## `__initDLGActions`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `chess` | [`mas_chess_1`]() | `1` | `private` |

```
Initailizes the DLG actions dict and updates the persistent
appriorpately

ASSUMES:
    renpy.game.persistent._mas_chess_dlg_actions
```
## `_initMASChess`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `chess` | [`mas_chess_1`]() | `1` | `internal` |

```
Initializes mas chess stuff that needs to be initalized

IN:
    MASQL_class - the MASQuipList class so we can work with it
        even though we arent global
```
## `_initQuipLists`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `chess` | [`mas_chess_1`]() | `1` | `internal` |

```
Initializes the mas quiplists.

IN:
    MASQL_class - the MASQuipList class so we can work with it
        even though we arent global
```
## `isInProgressGame`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `chess` | [`mas_chess_1`]() | `1` | `public` |

```
Checks if the pgn game with the given filename is valid and
in progress.

IN:
    filename - filename of the pgn game
    mth - monika twitter handle. pass it in since I'm too lazy to
        find context from a store

RETURNS:
    tuple of the following format:
        [0]: Text to display on button
        [1]: chess.pgn.Game of the game
    OR NONE if this is not a valid pgn game
```
# mas_compliments

#### Defined Init Levels
* `3`

#### TOC

# mas_consumables

#### Defined Init Levels
* `0`

#### TOC

# mas_d25_utils

#### Defined Init Levels
* `-10`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-10` |

#### TOC
* [`react_to_gifts`](#react_to_gifts)
* [`shouldUseD25ReactToGifts`](#shouldused25reacttogifts)

## `react_to_gifts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`mas_d25_utils_-10`]() | `-10` | `public` |

```
Reacts to gifts using the d25 protocol (exclusions)

OUT:
    found_map - map of found reactions
        key: lowercase giftname, no extension
        val: giftname wtih extension
```
## `shouldUseD25ReactToGifts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`mas_d25_utils_-10`]() | `-10` | `public` |

```
checks whether or not we should use the d25 react to gifts method

Conditions:
    1. Must be in d25 gift range
    2. Must be at normal+ aff (since that's when the topics which will open these gifts will show)
    3. Must have deco active. No point otherwise as no tree to put gifts under
```
# mas_db_merging

#### Defined Init Levels
* `-1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-1` |

#### TOC
* [`merge_db`](#merge_db)
* [`merge_post0810`](#merge_post0810)

## `merge_db`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates_topics` | [`mas_db_merging_-1`]() | `-1` | `public` |

```
Merges the given source database into the given destination db

IN:
    source - source database to merge from
    dest - destination database to merge into
```
## `merge_post0810`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updates_topics` | [`mas_db_merging_-1`]() | `-1` | `public` |

```
Runs a specific set of merges, particularly for the merge that
happend after version 0.8.10.
```
# mas_delact

#### Defined Init Levels
* `-880`
* `-876`
* `-875`
* `-816`
* `994`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `datetime` | `-880` |

#### TOC
* [`_MDA_safeadd`](#_mda_safeadd)
* [`_MDA_saferm`](#_mda_saferm)
* [`_greeting_ourreality_unlock`](#_greeting_ourreality_unlock)
* [`loadDelayedActionMap`](#loaddelayedactionmap)
* [`_mas_birthdate_bad_year_fix`](#_mas_birthdate_bad_year_fix)
* [`_mas_birthdate_bad_year_fix_action`](#_mas_birthdate_bad_year_fix_action)
* [`_mas_monika_islands_unlock`](#_mas_monika_islands_unlock)
* [`saveDelayedActionMap`](#savedelayedactionmap)

## `_MDA_safeadd`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_delact_-880`]() | `-880` | `internal` |

```
Adds MASDelayedAction ids to the persistent mas delayed action list.

NOTE: this is only meant for code that runs super early yet needs to
add MASDelayedActions.

NOTE: This will NOT add duplicates.

IN:
    ids - ids to add to the delayed action list
```
## `_MDA_saferm`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_delact_-880`]() | `-880` | `internal` |

```
Removes MASDelayedActions from the persistent mas delayed action list.

NOTE: this is only meant for code that runs super early yet needs to
remove MASDelayedActions

NOTE: this will check for existence before removing

IN:
    ids - ids to remove from the delayed action list
```
## `_greeting_ourreality_unlock`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-greetings` | [`mas_delact_-876`]() | `-876` | `internal` |

```
NOTE: we dont need this anymore
  We originally needed this since aff_range was not used by greetings
  so we wanted to get this to unlock if we are only able to decode
  islands. Now that aff range is part of gre parsing, the only thing
  that matters is whether or not the event is active, which in this
  case, only happens if the islands were decoded and aff is enamored+
```
## `loadDelayedActionMap`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_delact_994`]() | `994` | `public` |

```
Checks the persistent delayed action list and generates the
runtime map of delayed actions
```
## `_mas_birthdate_bad_year_fix`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-story-events` | [`mas_delact_-876`]() | `-876` | `internal` |

## `_mas_birthdate_bad_year_fix_action`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-story-events` | [`mas_delact_-876`]() | `-876` | `internal` |

## `_mas_monika_islands_unlock`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-islands-event` | [`mas_delact_-876`]() | `-876` | `internal` |

## `saveDelayedActionMap`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_delact_994`]() | `994` | `public` |

```
Checks the runtime map of delayed actions and saves them into the
persistent value.

NOTE: this does not ADD to the persistent's list. This recreates it
    entirely.
```
# mas_dockstat

#### Defined Init Levels
* `-500`
* `-11`
* `0`
* `200`
* `205`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `fastIO` | `cStringIO.StringIO` | `200` |
| `None` | `datetime` | `-11` |

#### TOC
* [`_buildMetaDataList`](#_buildmetadatalist)
* [`_buildMetaDataPer`](#_buildmetadataper)
* [`checkMonika`](#checkmonika)
* [`checkinMonika`](#checkinmonika)
* [`checkoutMonika`](#checkoutmonika)
* [`decodeImages`](#decodeimages)
* [`generateMonika`](#generatemonika)
* [`packageCheck`](#packagecheck)
* [`removeImages`](#removeimages)
* [`safe_encoder`](#safe_encoder)
* [`setMoniSize`](#setmonisize)
* [`triageMonika`](#triagemonika)

## `_buildMetaDataList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `internal` |

```
Writes out a pipe-delimeted metadata list to the given buffer

OUT:
    _outbuffer - buffer to write metadata to
```
## `_buildMetaDataPer`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `internal` |

```
Writes out the persistent's data into the given buffer

Exceptions are logged

OUT:
    _outbuffer - buffer to write persistent data to

RETURNS:
    True on success, False if failed
```
## `checkMonika`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `public` |

```
Parses if a given set of monika data is a rogue monika, our monika,
and so on, and does checkins and more for the appropriate case.

IN:
    status - findMonika's return status
    moni_data - findMonika's return data

RETURNS:
    TBD
```
## `checkinMonika`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `public` |

```
Adds entry to checkin log that monika has returned to the spaceroom.
Also clears the global checksum var.
```
## `checkoutMonika`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `public` |

```
Adds entry to checkout log that monika has left the spaceroom.
Also sets the chk to the global checksum var.
Also removes monikas that had the same checksum

IN:
    chksum - monika's checksum when checking her out.
```
## `decodeImages`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_-11`]() | `-11` | `public` |

```
Attempts to decode the iamges

IN:
    dockstat - docking station to use
    image_dict - image map to use
    selective - list of images keys to decode
        If not passed in, we decode EVERYTHINg
        (DEfault: [])

Returns TRUE upon success, False otherwise
```
## `generateMonika`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `public` |

```
Generates / writes a monika blob file.

NOTE: This does both generation and integretiy checking
NOTE: exceptions are logged

IN:
    dockstat - the docking station to generate Monika in

RETURNS:
    checksum of monika
    -1 if checksums didnt match (and we cant verify data integrity of
        the generated moinika file)
    None otherwise

ASSUMES:
    blocksize - this is a constant in this store
```
## `packageCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `public` |

```
Checks for existence of a package that matches the pkg name and slip.

This acts as a wrapper around the signForPackage that can encapsulate
return values with different values.

Success is when signForPackage returns 1. All other values are
considered failures.

NOTE: if sign is False, then we use createPackageSlip + getPackage
instead. use this if you don't want to delete the package once you
have checked them in.

IN:
    dockstat - docking station to check packag ein
    pkg_name - name of the package to check
    pkg_slip - checksum of this package
    on_succ - value to return on successful package check
    on_fail - value to return on failed package check
    sign - True to use signForPackage (aka delete after checking),
        False uses getPackage + createPackageSlip (aka no delete after
        checking)
        (Default: True)
```
## `removeImages`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_-11`]() | `-11` | `public` |

```
Removes the decoded images at the end of their lifecycle

IN:
    dockstat - docking station
    image_dict - image map to use
    selective - list of image keys to delete
        If not passed in, we delete everything in the image dict
        (Default: [])
    log - should we log a delete failure?
        (Default: False)

AKA quitting
```
## `safe_encoder`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `public` |

```
now open up the checklist and encoders
```
## `setMoniSize`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_0`]() | `0` | `public` |

```
Sets the appropriate persistent size for monika

IN:
    tdelta - timedelta to use
```
## `triageMonika`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_dockingstation` | [`mas_dockstat_200`]() | `200` | `public` |

```
Jumps to an appropriate label based on retmoni_status and retmoni_data.
If retmoni_status is None, we dont do anything.

IN:
    from_empty - True if we should assume from empty desk, False
        otherwise.
```
# mas_ev_data_ver

#### Defined Init Levels
* `-999`
* `-950`
* `-895`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-999` |

#### TOC
* [`MASCurriedVerify`](#mascurriedverify)
* [`_verify_bool`](#_verify_bool)
* [`_verify_data_line`](#_verify_data_line)
* [`_verify_dict`](#_verify_dict)
* [`_verify_dt`](#_verify_dt)
* [`_verify_dt_nn`](#_verify_dt_nn)
* [`_verify_evact`](#_verify_evact)
* [`verify_event_data`](#verify_event_data)
* [`_verify_int`](#_verify_int)
* [`_verify_int_nn`](#_verify_int_nn)
* [`_verify_item`](#_verify_item)
* [`_verify_list`](#_verify_list)
* [`_verify_str`](#_verify_str)
* [`_verify_td`](#_verify_td)
* [`_verify_td_nn`](#_verify_td_nn)
* [`_verify_tuli`](#_verify_tuli)
* [`_verify_tuli_aff`](#_verify_tuli_aff)

## `MASCurriedVerify`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `object` |

```
Allows for currying of a verification function
```
#### TOC
* [Constructor](#constructor-46)
* [`__call__`](#__call__-1)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `event-handler` | [`MASCurriedVerify`](#mascurriedverify) | `` |

```
Constructor

IN:
    verifier - the verification function we want to use
    allow_none - True if we should pass True for allow_none,
        false for False
```
### `__call__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `event-handler` | [`MASCurriedVerify`](#mascurriedverify) | `` |

```
Callable override

IN:
    value - the value we want to verify

RETURNS: True if the value passes verification, False otherwise
```
## `_verify_bool`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

```
verification type functions
most of these lead into verify_item
```
## `_verify_data_line`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-950`]() | `-950` | `internal` |

```
Verifies event data for a single tuple of data.

IN:
    ev_line - single line of data to verify

RETURNS:
    True if passed verification, False if not
```
## `_verify_dict`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_dt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_dt_nn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_evact`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `verify_event_data`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-950`]() | `-950` | `public` |

```
Verifies event data of the given persistent data. Entries that are
invalid are removed. We only check the bits of data that we have, so
data lines with smaller sizes are only validated for what they have.

IN:
    per_db - persistent database to verify
```
## `_verify_int`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_int_nn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_item`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

```
Verifies the given value has the given type/instance

IN:
    val - value to verify
    _type - type to check
    allow_none - If True, None should be considered good value,
        false means bad value
        (Default: True)

RETURNS: True if the given value has the given type/instance,
    false otherwise
```
## `_verify_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_str`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_td`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_td_nn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_tuli`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

## `_verify_tuli_aff`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `event-handler` | [`mas_ev_data_ver_-999`]() | `-999` | `internal` |

# mas_extramenu

#### Defined Init Levels
* `-1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-1` |

#### TOC

# mas_farewells

#### Defined Init Levels
* `-1`

#### TOC
* [`selectFarewell`](#selectfarewell)

## `selectFarewell`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-farewells` | [`mas_farewells_-1`]() | `-1` | `public` |

```
Selects a farewell to be used. This evaluates rules and stuff
appropriately.

RETURNS:
    a single farewell (as an Event) that we want to use
```
# mas_filereacts

#### Defined Init Levels
* `-11`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `collections.namedtuple` | `-11` |

#### TOC
* [`addReaction`](#addreaction-1)
* [`build_exclusion_list`](#build_exclusion_list)
* [`build_gift_react_labels`](#build_gift_react_labels)
* [`check_for_gifts`](#check_for_gifts)
* [`_core_delete`](#_core_delete)
* [`_core_delete_list`](#_core_delete_list)
* [`delete_all`](#delete_all)
* [`delete_file`](#delete_file)
* [`delete_files`](#delete_files)
* [`_get_full_stats_for_date`](#_get_full_stats_for_date)
* [`get_report_for_date`](#get_report_for_date)
* [`_initConnectorQuips`](#_initconnectorquips)
* [`_initStarterQuips`](#_initstarterquips)
* [`_pick_starter_label`](#_pick_starter_label)
* [`process_gifts`](#process_gifts)
* [`react_to_gifts`](#react_to_gifts-1)
* [`register_gen_grds`](#register_gen_grds)
* [`_register_received_gift`](#_register_received_gift)
* [`register_sp_grds`](#register_sp_grds)
* [`th_delete_file`](#th_delete_file)
* [`th_delete_files`](#th_delete_files)

## `addReaction`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Adds a reaction to the file reactions database.

IN:
    ev_label - label of this event
    fname - filename to react to
    _action - the EV_ACT to do
        (Default: EV_ACT_QUEUE)
    is_good - if the gift is good(True), neutral(None) or bad(False)
        (Default: None)
    exclude_on - keys marking times to exclude this gift
    (Need to check ev.rules in a respective react_to_gifts to exclude with)
        (Default: [])
```
## `build_exclusion_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Builds a list of excluded gifts based on the key provided

IN:
    _key - key to build an exclusion list for

OUT:
    list of giftnames which are excluded by the key
```
## `build_gift_react_labels`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Processes gift details into a list of labels to show
labels to queue/push whatever.

IN:
    evb_details - list of GiftReactDetails objects of event-based
        reactions. If empty list, then we don't build event-based
        reaction labels.
        (Default: [])
    gsp_details - list of GiftReactDetails objects of generic sprite
        object reactions. If empty list, then we don't build generic
        sprite object reaction labels.
        (Default: [])
    gen_details - list of GiftReactDetails objects of generic gift
        reactions. If empty list, then we don't build generic gift
        reaction labels.
        (Default: [])
    gift_cntrs - MASQuipList of gift connectors to use. If None,
        then we don't add any connectors.
        (Default: [])
    ending_label - label to use when finished reacting.
        (Default: None)
    starting_label - label to use when starting reacting
        (Default: None)
    prepare_data - True will also setup the appropriate data
        elements for when dialogue is shown. False will not.
        (Default: True)

RETURNS: list of labels. Evb reactions are first, followed by
    gsp reactions, then gen reactions
```
## `check_for_gifts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Finds gifts.

IN:
    exclusion_list - list of giftnames to exclude from the search
    override_react_map - True will skip the last reacted date check,
        False will not
        (Default: False)

OUT:
    found_map - contains all gifts that were found:
        key: lowercase giftname, no extension
        val: full giftname wtih extension
    exclusion_found_map - contains all gifts that were found but
        are excluded.
        key: lowercase giftname, no extension
        val: full giftname with extension

RETURNS: list of found giftnames
```
## `_core_delete`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `internal` |

```
Core deletion file function.

IN:
    _filename - name of file to delete, if None, we delete one randomly
    _map - the map to use when deleting file.
```
## `_core_delete_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `internal` |

```
Core deletion filename list function

IN:
    _filename - list of filenames to delete.
    _map - the map to use when deleting files
```
## `delete_all`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Attempts to delete all files in the given map.
Removes files in that map if they dont exist no more

IN:
    _map - map to delete all
```
## `delete_file`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Deletes a file off the found_react map

IN:
    _filename - the name of the file to delete. If None, we delete
        one randomly
```
## `delete_files`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Deletes multiple files off the found_react map

IN:
    _filename_list - list of filenames to delete.
```
## `_get_full_stats_for_date`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `internal` |

```
Getter for the full stats dict for gifts on a given date
IN:
    date - the date to get the report for, if None is given will check
        today's date
        (Defaults to None)

RETURNS:
    The dict containing the full stats or None if it's empty

```
## `get_report_for_date`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Generates a report for all the gifts given on the input date.
The report is in tuple form (total, good_gifts, neutral_gifts, bad_gifts)
it contains the totals of each type of gift.
```
## `_initConnectorQuips`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `internal` |

```
Initializes the connector quips
```
## `_initStarterQuips`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `internal` |

```
Initializes the starter quips
```
## `_pick_starter_label`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `internal` |

```
Internal function that returns the appropriate starter label for reactions

RETURNS:
    - The label as a string, that should be used today.
```
## `process_gifts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Processes list of giftnames into types of gift

IN:
    gifts - list of giftnames to process. This is copied so it wont
        be modified.

OUT:
    evb_details - list of GiftReactDetails objects regarding
        event-based reactions
    spo_details - list of GiftReactDetails objects regarding
        generic sprite object reactions
    gen_details - list of GiftReactDetails objects regarding
        generic gift reactions
```
## `react_to_gifts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Reacts to gifts using the standard protocol (no exclusions)

IN:
    connect - true will apply connectors, FAlse will not

OUT:
    found_map - map of found reactions
        key: lowercaes giftname, no extension
        val: giftname with extension

RETURNS:
    list of labels to be queued/pushed
```
## `register_gen_grds`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
registers gifts given a generic GiftReactDetails list

IN:
    details - list of GiftReactDetails objects to register
```
## `_register_received_gift`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `internal` |

```
Registers when player gave a gift successfully
IN:
    eventlabel - the event label for the gift reaction

```
## `register_sp_grds`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
registers gifts given sprite-based GiftReactDetails list

IN:
    details - list of GiftReactDetails objcts to register
```
## `th_delete_file`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Deletes a file off the threaded found_react map

IN:
    _filename - the name of the file to delete. If None, we delete one
        randomly
```
## `th_delete_files`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_reactions` | [`mas_filereacts_-11`]() | `-11` | `public` |

```
Deletes multiple files off the threaded foundreact map

IN:
    _filename_list - list of ilenames to delete
```
# mas_fun_facts

#### Defined Init Levels
* `-10`

#### TOC
* [`getAllFactsEVL`](#getallfactsevl)
* [`getUnseenFactsEVL`](#getunseenfactsevl)

## `getAllFactsEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-fun-facts` | [`mas_fun_facts_-10`]() | `-10` | `public` |

```
Gets all fun facts regardless of unlocked as eventlabels

OUT:
    List of all fun fact eventlabels
```
## `getUnseenFactsEVL`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-fun-facts` | [`mas_fun_facts_-10`]() | `-10` | `public` |

```
Gets all unseen (locked) fun facts as eventlabels

OUT:
    List of all unseen fun fact eventlabels
```
# mas_globals

#### Defined Init Levels
* `-890`
* `-1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-890` |

#### TOC

# mas_gmenu

#### Defined Init Levels
* `0`

#### TOC

# mas_greetings

#### Defined Init Levels
* `-1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `random` | `-1` |

#### TOC
* [`checkTimeout`](#checktimeout)
* [`_filterGreeting`](#_filtergreeting)
* [`selectGreeting`](#selectgreeting)

## `checkTimeout`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-greetings` | [`mas_greetings_-1`]() | `-1` | `public` |

```
Checks if we should clear the current greeting type because of a
timeout.

IN:
    gre_type - greeting type we are checking

RETURNS: passed in gre_type, or None if timeout occured.
```
## `_filterGreeting`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-greetings` | [`mas_greetings_-1`]() | `-1` | `internal` |

```
Filters a greeting for the given type, among other things.

IN:
    ev - ev to filter
    curr_pri - current loweset priority to compare to
    aff - affection to use in aff_range comparisons
    check_time - datetime to check against timed rules
    gre_type - type of greeting we want. We just do a basic
        in check for category. We no longer do combinations
        (Default: None)

RETURNS:
    True if this ev passes the filter, False otherwise
```
## `selectGreeting`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-greetings` | [`mas_greetings_-1`]() | `-1` | `public` |

```
Selects a greeting to be used. This evaluates rules and stuff
appropriately.

IN:
    gre_type - greeting type to use
        (Default: None)
    check_time - time to use when doing date checks
        If None, we use current datetime
        (Default: None)

RETURNS:
    a single greeting (as an Event) that we want to use
```
# mas_gtod

#### Defined Init Levels
* `4`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `4` |

#### TOC
* [`has_day_past_tip`](#has_day_past_tip)

## `has_day_past_tip`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-grammar` | [`mas_gtod_4`]() | `4` | `public` |

```
Checks if the tip with the given number has already been seen and
a day has past since it was unlocked.
NOTE: by day, we mean date has changd, not 24 hours

IN:
    tip_num - number of the tip to check

RETURNS:
    true if the tip has been seen and a day has past since it was
    unlocked, False otherwise
```
# mas_hangman

#### Defined Init Levels
* `-1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `random` | `-1` |

#### TOC
* [`addPlayername`](#addplayername)
* [`_add_monika_words`](#_add_monika_words)
* [`buildEasyList`](#buildeasylist)
* [`buildHardList`](#buildhardlist)
* [`buildNormalList`](#buildnormallist)
* [`_buildWordList`](#_buildwordlist)
* [`copyWordsList`](#copywordslist)
* [`randomSelect`](#randomselect)
* [`removePlayername`](#removeplayername)

## `addPlayername`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `public` |

```
Adds playername to the given mode if appropriate

IN:
    _mode - mode to add playername to
```
## `_add_monika_words`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `internal` |

## `buildEasyList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `public` |

```
Builds the easy word list

Sets hm_words and all_hm_words appropritaley

NOTE: clears the list (noticable in all references)
```
## `buildHardList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `public` |

```
Builds the hard word list

Sets hm_words and all_hm_words appropraitely

NOTE: cleras the list (noticable in all references)
```
## `buildNormalList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `public` |

```
Builds the normal word list

Sets hm_words and all_hm_words appropraitely

NOTE: clears the list (noticable in all references)
```
## `_buildWordList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `internal` |

```
Builds a list of words given the filepath and mode

IN:
    filepath - filepath of words to load in
    _mode - mode to build word list for
```
## `copyWordsList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `public` |

```
Does a deepcopy of the words for the given mode.

Sets the hm_words dict for that mode

NOTE: does a list clear, so old references will still work

RETURNS: the copied list of words. This is the same reference as
    hm_words's list. (empty list if mode is invalid)
```
## `randomSelect`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `public` |

```
Randomly selects and pulls a word from the hm_words, given the mode

Will refill the words list if it is empty

IN:
    _mode - mode to pull word from

RETURNS: tuple of the following format:
    [0]: word
    [1]: winner (for hint)
```
## `removePlayername`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hangman` | [`mas_hangman_-1`]() | `-1` | `public` |

```
Removes the playername from the given mode if found

IN:
    _mode - mode to remove in
```
# mas_history

#### Defined Init Levels
* `-860`
* `-816`
* `-815`
* `-800`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `datetime` | `-860` |

#### TOC
* [`addMHS`](#addmhs)
* [`_bday_exit_pp`](#_bday_exit_pp)
* [`getMHS`](#getmhs)
* [`loadMHSData`](#loadmhsdata)
* [`lookup`](#lookup)
* [`lookup_ot`](#lookup_ot)
* [`lookup_otl`](#lookup_otl)
* [`_pm_holdme_adj_times`](#_pm_holdme_adj_times)
* [`_runMHSAlg`](#_runmhsalg)
* [`_runMHSResetAlg`](#_runmhsresetalg)
* [`saveMHSData`](#savemhsdata)
* [`_store`](#_store)
* [`verify`](#verify)

## `addMHS`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `public` |

```
Adds the given mhs to the database.

IN:
    mhs - MASHistorySaver object to add

ASSUMES that the given mhs does not conflict with existing
```
## `_bday_exit_pp`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-815`]() | `-815` | `internal` |

```
this PP will just add the appropriate delayed action IDs to the
persistent delayed action list.
_MDA_safeadd(3, 4, 5, 6, 7)
_MDA_safeadd(3, 4)
```
## `getMHS`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `public` |

```
Gets the MASHistorySaver object with the given id

IN:
    mhs_id - id of the MASHistorySaver object to get

RETURNS: MASHistorySaver object, or None if not found
```
## `loadMHSData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `public` |

```
Loads persistent MASHistorySaver data into the mhs_db

Also adds MHS to the sorted list and sorts it.

ASSUMES: the mhs database is already filled
```
## `lookup`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `public` |

```
Looks up data in the historical archives.

IN:
    key - data key to lookup
    year - year to look up data

RETURNS: a tuple of the following format:
    [0]: Lookup constant
    [1]: retrieved data (which may be None). This is always None if
        we could not find year or key
```
## `lookup_ot`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `public` |

```
Looks up data overtime in the historical archives.

IN:
    key - data key to lookup
    years - years to look up data

RETURNS: SEE lookup_ot_l
```
## `lookup_otl`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `public` |

```
Looks up data overtime in the historical archives.

IN:
    key - data key to look up
    years_list - list of years to lookup data

RETURNS: dict of the following format:
    year: tuple (SEE lookup)
```
## `_pm_holdme_adj_times`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-815`]() | `-815` | `internal` |

```
Sets the appropraite persistent vars according to the elasped time
for the hold me topic
```
## `_runMHSAlg`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-800`]() | `-800` | `internal` |

```
Runs the historical data saving algorithm

ASSUMES:
    - mhs_db is filled with MASHistorySaver objects
```
## `_runMHSResetAlg`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-800`]() | `-800` | `internal` |

```
Runs special resets in the case of TT. Do NOT call if TT not detected.
```
## `saveMHSData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `public` |

```
Saves MASHistorySaver data from mhs_db into persistent
```
## `_store`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `internal` |

```
Stores data in the historical archives.

NOTE: will OVERWRITE data that already exists.

IN:
    value - value to store
    key - data key to store value
    year - year to store value
```
## `verify`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_history` | [`mas_history_-860`]() | `-860` | `public` |

```
Internali version of mas_HistVerify
```
# mas_hotkeys

#### Defined Init Levels
* `-10`
* `-1`

#### TOC
* [`allowdismiss`](#allowdismiss)

## `allowdismiss`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_hotkeys` | [`mas_hotkeys_-10`]() | `-10` | `public` |

```
Justreturns current state of no_dismiss
```
# mas_ics

#### Defined Init Levels
* `-900`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `os` | `-900` |

#### TOC

# mas_interactions

#### Defined Init Levels
* `-10`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-10` |

#### TOC
* [`vertex_list_from_zoom`](#vertex_list_from_zoom)
* [`_vx_list_zoom`](#_vx_list_zoom)

## `vertex_list_from_zoom`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_interactions` | [`mas_interactions_-10`]() | `-10` | `public` |

```
Generates a vertex list from the given zoom

IN:
    zoom_level - zoom level to generate vertex list
    zone_enum - zone enum to get vertex list for

RETURNS: list of vertexes. might be empty list if invalid data passed
    in
```
## `_vx_list_zoom`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_interactions` | [`mas_interactions_-10`]() | `-10` | `internal` |

```
Generates vertex list for zooming.

IN:
    zoom_level zoom level to generate vertex list for
    zone_enum - zone enum to get vertex list for
    zoom_out - True if we are zooming out, False if zooming in

RETURNS: list of vertexes
```
# mas_island_event

#### Defined Init Levels
* `-11`
* `500`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-11` |

#### TOC
* [`decodeImages`](#decodeimages-1)
* [`getBackground`](#getbackground)
* [`isCloudyWeather`](#iscloudyweather)
* [`isWinterWeather`](#iswinterweather)
* [`removeImages`](#removeimages-1)

## `decodeImages`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-islands-event` | [`mas_island_event_-11`]() | `-11` | `public` |

```
Attempts to decode the iamges

Returns TRUE upon success, False otherwise
```
## `getBackground`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-islands-event` | [`mas_island_event_500`]() | `500` | `public` |

```
Because of the dead cherry blossom, we keep the snowy islands during all of winter

Picks the islands bg to use based on the season.

OUT:
    image filepath to show
```
## `isCloudyWeather`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-islands-event` | [`mas_island_event_-11`]() | `-11` | `public` |

```
Checks if the weather on the islands is cloudy

OUT:
    boolean:
        - True if we're using overcast/rain islands
        - False otherwise
```
## `isWinterWeather`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-islands-event` | [`mas_island_event_-11`]() | `-11` | `public` |

```
Checks if the weather on the islands is wintery

OUT:
    boolean:
        - True if we're using snow islands
        - False otherwise
```
## `removeImages`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-islands-event` | [`mas_island_event_-11`]() | `-11` | `public` |

```
Removes the decoded images at the end of their lifecycle

AKA quitting
```
# mas_layout

#### Defined Init Levels
* `0`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `0` |

#### TOC
* [`findMsg`](#findmsg)
* [`setupQuits`](#setupquits)

## `findMsg`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `screens` | [`mas_layout_0`]() | `0` | `public` |

```
Finds first non-None quit message we need

This uses the cascade map from affection

IN:
    start_aff - starting affection
    index - index of the tuple we need to look at

RETURNS:
    first non-None quit message found.
```
## `setupQuits`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `screens` | [`mas_layout_0`]() | `0` | `public` |

```
Sets up quit message based on the current affection state
```
# mas_moods

#### Defined Init Levels
* `-1`

#### TOC
* [`getMoodType`](#getmoodtype)

## `getMoodType`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-moods` | [`mas_moods_-1`]() | `-1` | `public` |

```
Gets the mood type for the given mood label

IN:
    mood_label - label of a mood

RETURNS:
    type of the mood, or None if no type found
```
# mas_piano_keys

#### Defined Init Levels
* `-3`
* `790`
* `800`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `json` | `-3` |

#### TOC
* [`PianoException`](#pianoexception)
* [`PianoNoteMatch`](#pianonotematch)
* [`PianoNoteMatchList`](#pianonotematchlist)
* [`addCustomSongs`](#addcustomsongs)
* [`addSong`](#addsong)
* [`addStockSongs`](#addstocksongs)
* [`_boolCheck`](#_boolcheck)
* [`_findKeymap`](#_findkeymap)
* [`_floatCheck`](#_floatcheck)
* [`getSongChoices`](#getsongchoices)
* [`_intCheck`](#_intcheck)
* [`_intCheck_nl`](#_intcheck_nl)
* [`_labelCheck`](#_labelcheck)
* [`_noteCheck`](#_notecheck)
* [`_scCheck`](#_sccheck)
* [`_setKeymap`](#_setkeymap)
* [`_strtoN`](#_strton)
* [`_strtoN_list`](#_strton_list)

## `PianoException`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `Exception` |

```
Exception class for piano failures
```
#### TOC
* [Constructor](#constructor-47)
* [`__str__`](#__str__-3)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_pianokeys` | [`PianoException`](#pianoexception) | `` |

### `__str__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_pianokeys` | [`PianoException`](#pianoexception) | `` |

## `PianoNoteMatch`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `object` |

```
this class matches particular sets of notes to some dialogue that
Monika can say.
NOTE: only one line of dialogue per set of notes, because brevity is
  important

PROPERTIES:
  say - the line of dialogue to say (as a Text object)
  notes - list of notes (keys) that we need to hear to show the dialogue
      this is ORDER match only. also chords are NOT supported
      NOTE: This is expected as a list of ZZPK constants.
  notestr - string version of the list of notes, for matching
  express - the expression we want monika to show (prefixed with monika)
  matched - True if we were matched this session, False otherwise
  matchdex - Basically an index that says where the last matched note is
      in notestr (and notes, by extension)
  ev_timeout - time we wait for input to start this note match
  vis_timeout - visual timeout that should be used when this match is
      running. This value should be less than ev_timeout
  fails - number of failed attempts to play this
  passes - number of succesful attempts to play this
  postnotes - list of notes (keys) that are considered post match.
      NOTE: so if this is played after the match, monika will continue
          her expression until a miss or the set is complete.
          in both cases, we should expect a clearing of played
  postexpress - expression monika should have during post mode
  verse - verse index this phrases belongs to. 0 means first verse,
      other values will be the starting index of that verse
  copynotes - if not None, this is the index of the pnm whose notes
      this matches
  misses - number of misses we got
  posttext - True if we should keep the text up for post expression,
      False if not

```
#### TOC
* [Constructor](#constructor-48)
* [`reset`](#reset)
* [`is_single`](#is_single)
* [`_is_match`](#_is_match)
* [`isNoteMatch`](#isnotematch)
* [`fromJSON`](#fromjson-4)
* [`isPostMatch`](#ispostmatch)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_pianokeys` | [`PianoNoteMatch`](#pianonotematch) | `` |

```

IN:
  say - line of dialogue to say (as a Text object)
  notes - list of notes (keys) to match
  postnotes - list of notes (keys) that are considered post
      match
      (Default: None)
  express - the monika expression we want to show
      (Default: 1eub)
  postexpress - the monika expression to show during post
      (Default: 1eua)
  ev_timeout - number of seconds we wait for input
      NOTE: THIS means how long we wait BEFORE this note match
          before assuming event timeout
      (Default: None)
  vis_timeout - number of second we wait for visual change
      NOTE: THIS means how long we wait AFTER this note match
          before cleaning visual
      (Default: None)
  verse - the verse dex the phrase belongs to
      (Default: 0)
  copynotes - the index that this pnm note matches with
      NOTE: currently unused
      (Default: None)
  posttext - True if we keep the text up during post, False
      otherwise
      (Default: False)
```
### `reset`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatch`](#pianonotematch) | `` | `public` |

```
Resets this piano note match to its default values.

NOTE: this only clears the following values:
    misses - 0
    fails - 0
    passes - 0
    matchdex - 0
    matched - False
```
### `is_single`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatch`](#pianonotematch) | `` | `public` |

```
RETURNS True if this notematch consists of a single note
```
### `_is_match`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatch`](#pianonotematch) | `` | `internal` |

```

checks if the new key continous the match that we are expecting

IN:
  new_key - the key we want to check (pygame key)
  notes - the notes list we want to look at
  index - current index we need to look at
      (Default: self.matchdex)

OUT:
  returns 1 or larger if we have a match
      -1 if no match
      -2 if index out of range
```
### `isNoteMatch`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatch`](#pianonotematch) | `` | `public` |

```

Checks if the new key continous a notes match

IN:
  new_key - the key we want to check (pygame key)
  index - current index we need to look at
      (Default: self.matchdex)

OUT:
  returns 1 or larger if we have a match
      -1 if no match
      -2 if index out of range
```
### `fromJSON`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatch`](#pianonotematch) | `staticmethod` | `public` |

```
Creates a PianoNoteMatch from a given json object (which is just
a dict)

May add warnings to log file

IN:
    jobj - JSON object (as a dict)

RETURNS:
    Tuple of the following format:
    [0]: PianoNoteMatch associated with the given json object
        Or NONE if the Json object is missing required information
    [1]: List of warning strings
        Or error message string if fatal error occurs
```
### `isPostMatch`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatch`](#pianonotematch) | `` | `public` |

```

Checks if the new key continous a post match

IN:
  new_key - the key we want to check (pygame key)
  index - current index we need to look at
      (Default: self.matchdex)

OUT:
  returns 1 or large if we have a match
      -1 if no match
      -2 if index out of range
```
## `PianoNoteMatchList`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `object` |

```
This a wrapper for a list of note matches. WE do this so we can
easily group note matches with other information.

PROPERTIES:
    pnm_list - list of piano note matches
    verse_list - list of verse indexes (must be in order)
    name - song name (displayed to user in song selection mode)
    full_combos - number of times the song has been played with no
        no mistakes
    wins - number of times the song has been completed
    losses - number of the times the song has been attempted but not
        completed
    win_label - labelt o call to if we played the song well
    fc_label - label to call to if we full comboed
    fail_label - label to call to if we failed the song
    prac_label - label to call if we are practicing
    end_wait - seconds to wait before continuing to quit phase
    launch_label - label to call to prepare song launch
```
#### TOC
* [Constructor](#constructor-49)
* [`_saveTuple`](#_savetuple)
* [`fromJSON`](#fromjson-5)
* [`resetPNM`](#resetpnm)
* [`_loadTuple`](#_loadtuple)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_pianokeys` | [`PianoNoteMatchList`](#pianonotematchlist) | `` |

```
Creates a PianoNoteMatchList

IN:
    pnm_list - list of piano note matches
    verse_list - list of verse indexes (must be in order)
    name - song name (displayed to user in song selection mode)
    win_label - label to call to if we played the song well
    fc_label - label to call to if we full comboed the song
    fail_label - label to call to if we failed the song
    prac_label - label to call if we are practicing
    end_wait - number of seoncds to wait before actually quitting
        (Integers pleaes)
        (Default: 0)
    launch_label - label to call to prepare this song for play
        (Default: None)
```
### `_saveTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatchList`](#pianonotematchlist) | `` | `internal` |

```
Generates a tuple of key data in this PianoNoteMatchList for
pickling

RETURNS:
    a tuple of the following format:
        See _loadTuple
```
### `fromJSON`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatchList`](#pianonotematchlist) | `staticmethod` | `public` |

```
Creats a PianoNoteMatchList from a given JSON object (which is
just a dict)

May add warnings to logg file

IN:
    jobj - JSON object (As a dict)

RETURNS:
    PianoNoteMatchList associated with given JSON object, or
    None if JSON object is missing required information
```
### `resetPNM`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatchList`](#pianonotematchlist) | `` | `public` |

```
Resets the piano note matches in this Piano Note Match List
```
### `_loadTuple`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_pianokeys` | [`PianoNoteMatchList`](#pianonotematchlist) | `` | `internal` |

```
Fills in the data of this PianoNoteMatchList using the given data
tup. (which was probably pickeled)

IN:
    data_tup - tuple of the following format:
        [0] -> name
        [1] -> full_combos
        [2] -> wins
        [3] -> losses
```
## `addCustomSongs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_790`]() | `790` | `public` |

```
Adds the custom songs (if we find any) to the game
```
## `addSong`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_790`]() | `790` | `public` |

```
Adds a song to the pnml db, given its json filepath

NOTE: may raise exceptions

IN:
    filepath - filepath to the JSON we want to load in
        - Assumed to be clean and ready to go
    add_main - True means we should add this to the main pnml db too
        (Default: False)
```
## `addStockSongs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_790`]() | `790` | `public` |

```
Adds the stock songs to the game
```
## `_boolCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Specialized json bool checking function
NOTE: only use this for optional params

IN:
    key - key of the bool to check
    _params - params dict, also using key
    _warns - warning list
    jobj - json object also using keuy
    warn_msg - message to use for warning
```
## `_findKeymap`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Finds the key that points to value in the keymap. Effectively a dict
value search

IN:
    value - value to find

RETURNS:
    key in persistent._mas_piano_keymaps that returns value, or None
    if value not found

ASSUMES:
    persistent._mas_piano_keymaps
```
## `_floatCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Specialized json float checking function
NOTE: only use this for optional params

IN:
    key - key of the float to check
    _params - params dict, also using key
    _warns - warning list
    jobj - json object also using keuy
    warn_msg - message to use for warning
```
## `getSongChoices`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_800`]() | `800` | `public` |

```
Creates a list of tuples appropriate to display as a piano song
selection menu.

RETURNS:
    Tuple of the following format:
    [0]: list of tuples for song selection. May be an empty list
    [1]: Last item (the nvm) for the song selection

ASSUMES:
    pnml_db
```
## `_intCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Specialized json int checking function
NOTE: only use this for optional params

IN:
    key - key of the int to check
    _params - params dict, also using key
    _warns - warning list
    jobj - json object also using keuy
    warn_msg - message to use for warning
```
## `_intCheck_nl`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Specialized json int checking function
NOTE: only use this for optinal params
NOTE: non warning list varient of _intCheck

IN:
    key - key of the integer to check
    _params - params dict, also using key
    jobj - json object, also using key
    warn_msg - warning message
    islogopen - True if log is open, otherwise false
```
## `_labelCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
specialized json label checking function
NOTE: only use this for optional params

IN:
    key - key of label to check
    _params - params dict, also using key
    jobj - json object, also using key
    islogopen - True if log is open, false othrewise
```
## `_noteCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Specialized json note list checking function
NOTE: only use this for optional params

IN:
    key - key of notes to check
    _params - params dict, also using key
    _warns - warnings list
    jobj - json object, also using key
    warn_msg - message to use for warning
```
## `_scCheck`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Specialized json spritecode / expression checking function
NOTE: only use this for optional params

IN:
    key - key of sprite code to check
    _params - params dict, also using key
    _warns - warning list
    jobj - json object, also using key
    warn_msg - message to use for warning
```
## `_setKeymap`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Sets a keymap. Checks for existing keymap and will remove it.
Will NOT set the keymap if key == new

IN:
    key - the key we are mapping
    new - the new key item to map to

RETURNS: tuple of the following format:
    [0] - new key that was set (could be None)
    [1] - old key that was originally set (could be None)

ASSUMES:
    persistent._mas_piano_keymaps
```
## `_strtoN`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Converts a stringified note to a regular note

IN:
    note - note string to convert

RETURNS:
    piano note version, or None if this wasnt a real ntoe
```
## `_strtoN_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_pianokeys` | [`mas_piano_keys_-3`]() | `-3` | `internal` |

```
Versin of strtoN that can handle a full list

IN:
    note_list - list of notes to convert

RETURNS:
    list of piano notes. or None if at least note wasnt real
```
# mas_player_bday_event

#### Defined Init Levels
* `-11`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-11` |

#### TOC
* [`correct_pbday_mhs`](#correct_pbday_mhs)

## `correct_pbday_mhs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-holidays` | [`mas_player_bday_event_-11`]() | `-11` | `public` |

# mas_poemgame_consts

#### Defined Init Levels
* `-10`

#### TOC

# mas_poemgame_fun

#### Defined Init Levels
* `-2`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-2` |

#### TOC
* [`getPointValue`](#getpointvalue)
* [`getWinner`](#getwinner)
* [`validateFlow`](#validateflow)

## `getPointValue`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poemgame` | [`mas_poemgame_fun_-2`]() | `-2` | `public` |

```

Returns the point value if the given condition is true, otherwise
returns 0

IN:
  condition - the condition to evaluate
  point - the point value to return

RETURNS: the point value if condition is True, 0 otherwise
```
## `getWinner`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poemgame` | [`mas_poemgame_fun_-2`]() | `-2` | `public` |

```

Checks the given PoemWord (or MASPoemWord) and returns the winner
The value returned is a constant in mas_poemgame_consts

IN:
  word - the PoemWord (or MASPoemWord) to check
  sayori - True means sayori is visible, False means she is not
  natsuki - True means natsuki is visible, False means she is not
  yuri - True means yuri is visible, False means she is not
  monika - True means monika is visible, False means she is not
  mas - True means we are checking a MASPoemWord, False means a
      regular PoemWord
      (Default: False)

RETURNS: The girl with the highest score, as a constnat defined in
  mas_poemgame_consts
```
## `validateFlow`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poemgame` | [`mas_poemgame_fun_-2`]() | `-2` | `public` |

```

Validates the given flow if it is appropriate for the poemgame

IN:
  flow - flow to validate

RETURNS:
  True if flow is valid, false if not
```
# mas_poems

#### Defined Init Levels
* `0`
* `11`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `0` |

#### TOC
* [`getPoem`](#getpoem)
* [`getPoemsByCategory`](#getpoemsbycategory)
* [`getRandomPoem`](#getrandompoem)
* [`getSeenPoems`](#getseenpoems)
* [`getSeenPoemsMenu`](#getseenpoemsmenu)
* [`getUnseenPoems`](#getunseenpoems)
* [`hasUnlockedPoems`](#hasunlockedpoems)

## `getPoem`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`mas_poems_11`]() | `11` | `public` |

```
Gets a poem by id

IN:
    poem_id - poem id of the poem to get

OUT:
    MASPoem if there's a poem with the id
    None if no poem with the id exists
```
## `getPoemsByCategory`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`mas_poems_11`]() | `11` | `public` |

```
Returns a list of poems by the category provided

IN:
    category:
        category to search for

    unseen:
        whether or not we only want unseen poems

OUT:
    A list of poems based on the specifications above
```
## `getRandomPoem`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`mas_poems_11`]() | `11` | `public` |

```
Gets a random poem from the specified category
IN:
    category:
        category to search for

    unseen:
        whether or not we only want unseen poems
        defaults to True

OUT:
    A random poem
```
## `getSeenPoems`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`mas_poems_11`]() | `11` | `public` |

```
Returns a list of all seen poems ordered by category
```
## `getSeenPoemsMenu`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`mas_poems_11`]() | `11` | `public` |

```
Gets a list of seen poems in scrollable menu format

OUT:
    A list of seen poems in the format for a mas gen scrollable menu
```
## `getUnseenPoems`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`mas_poems_11`]() | `11` | `public` |

```
Returns a list of all unseen poems ordered by category
```
## `hasUnlockedPoems`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_poems` | [`mas_poems_0`]() | `0` | `public` |

```
Checks if we have any poems that we've unlocked.
```
# mas_pong

#### Defined Init Levels
* `-1`

#### TOC

# mas_ptod

#### Defined Init Levels
* `-1`
* `4`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-1` |

#### TOC
* [`clear_console`](#clear_console)
* [`clr_cn`](#clr_cn)
* [`_count_sp`](#_count_sp)
* [`ex_cn`](#ex_cn)
* [`__exec_cmd`](#__exec_cmd)
* [`exec_command`](#exec_command)
* [`__exec_evalexec`](#__exec_evalexec)
* [`__exec_exec`](#__exec_exec)
* [`exit_console`](#exit_console)
* [`_exp_toString`](#_exp_tostring)
* [`get_last_line`](#get_last_line)
* [`has_day_past_tip`](#has_day_past_tip-1)
* [`has_day_past_tips`](#has_day_past_tips)
* [`_indent_line`](#_indent_line)
* [`_line_break`](#_line_break)
* [`__peeki`](#__peeki)
* [`__popi`](#__popi)
* [`__pushi`](#__pushi)
* [`restart_console`](#restart_console)
* [`rst_cn`](#rst_cn)
* [`set_local_context`](#set_local_context)
* [`_update_console_history`](#_update_console_history)
* [`_update_console_history_list`](#_update_console_history_list)
* [`w_cmd`](#w_cmd)
* [`write_command`](#write_command)
* [`wx_cmd`](#wx_cmd)
* [`x_cmd`](#x_cmd)

## `clear_console`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
Cleares console hisotry and current line

Also resets state to Single
```
## `clr_cn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
SEE clear_console
```
## `_count_sp`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `internal` |

```
Counts number of spaces that prefix this line

IN:
    line - line to cound spaces

RETURNS:
    number of spaces at start of line
```
## `ex_cn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
SEE exit_console
```
## `__exec_cmd`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `private` |

```
Tries to eval the line first, then executes.
Returns the result of the command

IN:
    line - line to eval / exec
    context - dict that represnts the current context. should be locals
    block - True means we are executing a block command and should
        skip eval

RETURNS:
    the result of the command, as a string
```
## `exec_command`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
Executes the command that is currently in the console.
This is basically pressing Enter

IN:
    context - dict that represnts the current context. You should pass
        locals here.
        If None, then we use the local_ctx.
```
## `__exec_evalexec`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `private` |

```
Tries to eval the line first, then executes.
Returns the result of the command

IN:
    line - line to eval / exec
    context - dict that represents the current context.

RETURNS:
    the result of the command as a string
```
## `__exec_exec`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `private` |

```
Runs exec on the given line
Returns an empty string or a string with an error if it occured.

IN:
    line - line to exec
    context - dict that represents the current context

RETURNS:
    empty string or string with error message
```
## `exit_console`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
Disables the console
```
## `_exp_toString`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `internal` |

```
Converts the given exception into a string that looks like
how python interpreter prints out exceptions
```
## `get_last_line`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
Retrieves the last line from the console history

RETURNS:
    last line from console history as a string
```
## `has_day_past_tip`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_4`]() | `4` | `public` |

```
Checks if the tip with the given number has already been seen and
a day has past since it was unlocked.
NOTE: by day, we mean date has changd, not 24 hours

IN:
    tip_num - number of the tip to check

RETURNS:
    true if the tip has been seen and a day has past since it was
    unlocked, False otherwise
```
## `has_day_past_tips`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_4`]() | `4` | `public` |

```
Variant of has_day_past_tip that can check multiple numbers

SEE has_day_past_tip for more info

RETURNS:
    true if all the given tip nums have been see nand a day has past
        since the latest one was unlocked, False otherwise
```
## `_indent_line`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `internal` |

```
Prepends the given line with an appropraite number of spaces, depending
on the current stack level

IN:
    line - line to prepend

RETURNS:
    line prepended with spaces
```
## `_line_break`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `internal` |

```
Lines cant be too large. This will line break entries.

IN:
    line - the line to break

RETURNS:
    list of strings, each item is a line.
```
## `__peeki`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `private` |

```
Returns value that would be popped from stack

RETURNS:
    indent level that would be popped
```
## `__popi`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `private` |

```
Pops indent level from stack

REUTRNS:
    popped indent level
```
## `__pushi`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `private` |

```
Pushes a indent level into the stack

IN:
    indent_level - indent to push into stack
```
## `restart_console`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
Cleares console history and current line, also sets up version text
```
## `rst_cn`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
SEE restart_console
```
## `set_local_context`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
Sets the local context to the given context.

Stuff in the old context are forgotten.
```
## `_update_console_history`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `internal` |

```
Updates the console history with the list of new lines to add

IN:
    new_items - the items to add to the console history
```
## `_update_console_history_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `internal` |

```
Updates console history with list of new lines to add

IN:
    new_items - list of new itme sto add to console history
```
## `w_cmd`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
SEE write_command
```
## `write_command`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
Writes a command to the console

NOTE: Does not EXECUTE
NOTE: remove previous command
NOTE: does NOT append to previously written command (unless that cmd
    is in a block and was executed)

IN:
    cmd - the command to write to the console
```
## `wx_cmd`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
Does both write_command and exec_command
```
## `x_cmd`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-python` | [`mas_ptod_-1`]() | `-1` | `public` |

```
SEE exec_command
```
# mas_randchat

#### Defined Init Levels
* `1`

#### TOC

# mas_seasons

#### Defined Init Levels
* `10`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `10` |

#### TOC
* [`_currentSeason`](#_currentseason)
* [`_pp_fall`](#_pp_fall)
* [`_pp_spring`](#_pp_spring)
* [`_pp_summer`](#_pp_summer)
* [`_pp_winter`](#_pp_winter)
* [`_seasonalCatchup`](#_seasonalcatchup)

## `_currentSeason`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`mas_seasons_10`]() | `10` | `internal` |

```
Determins the current season and returns appropriate season ID
```
## `_pp_fall`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`mas_seasons_10`]() | `10` | `internal` |

```
Programming point for fall
```
## `_pp_spring`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`mas_seasons_10`]() | `10` | `internal` |

```
Programming point for spring
```
## `_pp_summer`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`mas_seasons_10`]() | `10` | `internal` |

```
Programming point for summer
```
## `_pp_winter`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`mas_seasons_10`]() | `10` | `internal` |

```
Programming point for winter
```
## `_seasonalCatchup`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_seasons` | [`mas_seasons_10`]() | `10` | `internal` |

```
Runs through seasonal programming points from the given prevoius
season to now. Returns the ID of the current season.

IN:
    prev_season - previously saved season

RETURNS: current season ID
```
# mas_selspr

#### Defined Init Levels
* `-150`
* `-100`
* `-10`
* `200`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-150` |

#### TOC
* [`MASSelectableSpriteMailbox`](#masselectablespritemailbox)
* [`_adjust_monika`](#_adjust_monika)
* [`check_prompt`](#check_prompt)
* [`_clean_select_map`](#_clean_select_map)
* [`create_selectable_remover`](#create_selectable_remover)
* [`_fill_select_map`](#_fill_select_map)
* [`_fill_select_map_and_set_remover`](#_fill_select_map_and_set_remover)
* [`filter_acs`](#filter_acs)
* [`filter_clothes`](#filter_clothes)
* [`filter_hair`](#filter_hair)
* [`_filter_sel`](#_filter_sel)
* [`_filter_sel_single`](#_filter_sel_single)
* [`get_minitems`](#get_minitems)
* [`get_prompt`](#get_prompt)
* [`get_sel`](#get_sel)
* [`_get_sel`](#_get_sel)
* [`get_sel_acs`](#get_sel_acs)
* [`get_sel_clothes`](#get_sel_clothes)
* [`get_sel_hair`](#get_sel_hair)
* [`_has_remover`](#_has_remover)
* [`in_prompt_map`](#in_prompt_map)
* [`init_selectable_acs`](#init_selectable_acs)
* [`init_selectable_clothes`](#init_selectable_clothes)
* [`init_selectable_hair`](#init_selectable_hair)
* [`is_clotheshair_compatible`](#is_clotheshair_compatible)
* [`is_hairacs_compatible`](#is_hairacs_compatible)
* [`is_same`](#is_same)
* [`json_sprite_unlock`](#json_sprite_unlock)
* [`_load_selectable`](#_load_selectable)
* [`load_selectables`](#load_selectables)
* [`lock_acs`](#lock_acs)
* [`lock_clothes`](#lock_clothes)
* [`lock_hair`](#lock_hair)
* [`_lock_item`](#_lock_item)
* [`lock_prompt`](#lock_prompt)
* [`_rm_remover`](#_rm_remover)
* [`rm_selectable_remover`](#rm_selectable_remover)
* [`_rule_ribbon`](#_rule_ribbon)
* [`_save_selectable`](#_save_selectable)
* [`save_selectables`](#save_selectables)
* [`selectable_key`](#selectable_key)
* [`set_compat_acs`](#set_compat_acs)
* [`set_compat_hair`](#set_compat_hair)
* [`set_prompt`](#set_prompt)
* [`startup_prompt_check`](#startup_prompt_check)
* [`_switch_to_wear_prompts`](#_switch_to_wear_prompts)
* [`unlock_acs`](#unlock_acs)
* [`unlock_clothes`](#unlock_clothes)
* [`unlock_hair`](#unlock_hair)
* [`_unlock_item`](#_unlock_item)
* [`unlock_prompt`](#unlock_prompt-2)
* [`_unlock_removers`](#_unlock_removers)
* [`unlock_selector`](#unlock_selector)
* [`valid_select_type`](#valid_select_type)
* [`_validate_group_topics`](#_validate_group_topics)

## `MASSelectableSpriteMailbox`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `MASMailbox` |

```
SelectableSprite extension of the mailbox

PROPERTIES:
    (no additional)

See MASMailbox for properties.
```
#### TOC
* [Constructor](#constructor-50)
* [`send_restore_enable`](#send_restore_enable)
* [`send_prev_state`](#send_prev_state)
* [`send_conf_enable`](#send_conf_enable)
* [`_send`](#_send)
* [`send_disp_fast`](#send_disp_fast)
* [`get_disp_fast`](#get_disp_fast)
* [`send_def_disp_text`](#send_def_disp_text)
* [`read_def_disp_text`](#read_def_disp_text)
* [`read_frame_vsize`](#read_frame_vsize)
* [`read_outfit_checkbox_checked`](#read_outfit_checkbox_checked)
* [`send_outfit_checkbox_visible`](#send_outfit_checkbox_visible)
* [`read_prev_state`](#read_prev_state)
* [`_get`](#_get)
* [`send_outfit_checkbox_checked`](#send_outfit_checkbox_checked)
* [`send_disp_text`](#send_disp_text)
* [`read_conf_enable`](#read_conf_enable)
* [`read_outfit_checkbox_visible`](#read_outfit_checkbox_visible)
* [`get_disp_text`](#get_disp_text)
* [`_read`](#_read)
* [`read_restore_enable`](#read_restore_enable)
* [`send_frame_vsize`](#send_frame_vsize)
* [`read_restore_visible`](#read_restore_visible)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` |

```
Constructor for the selectable sprite mailbox
```
### `send_restore_enable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
sends restore enable messgae

IN:
    enable - True means to enable the restore button, False means
        disable
```
### `send_prev_state`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Sends previous MASMonika state

IN:
    prev_state - previous MASMonika state
```
### `send_conf_enable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Sends enable message

IN:
    enable - True means to enable, False means to disable
```
### `_send`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `internal` |

```
Calls the super classs's send

This is just for ease of use.
```
### `send_disp_fast`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Sends default fast flag
```
### `get_disp_fast`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Removes and returns the fast flag

RETURNS: True if we want to append fast, False/None if not
```
### `send_def_disp_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Sends default display message

IN:
    txt - txt to display
```
### `read_def_disp_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Returns the default display text message

NOTE: does NOT remove.

RETURNS: display text, default
```
### `read_frame_vsize`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Returns frame fsize
```
### `read_outfit_checkbox_checked`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Returns the value of the outfit checkbox checked message

RETURNS:
    True if the outfit checkbox is checked, False otherwise
```
### `send_outfit_checkbox_visible`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Sends ocb visible message

IN:
    visible - True means to show the outfit checkbox, False means
        hide
```
### `read_prev_state`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Returns value of the prev_state message

RETURNS: previous MASMOnika state.
```
### `_get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `internal` |

```
Class the super class's get

This is just for ease of use
```
### `send_outfit_checkbox_checked`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Sends ocb checked message

IN:
    checked - True means checkbox checked, False means not checked
```
### `send_disp_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Sends display text message

IN:
    txt - txt to display
```
### `read_conf_enable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Returns the value of the conf enable message

RETURNS:
    True if the confirmation button should be enabled, False
    otherwise
```
### `read_outfit_checkbox_visible`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Returns the value of the outfit checkbox visible message

RETURNS:
    True if the outfit checkbox should be visible, False otherwise
```
### `get_disp_text`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Removes and returns the display text message

RETURNS: display text
```
### `_read`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `internal` |

```
Calls the super class read

THis is just for ease of us
```
### `read_restore_enable`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Returns the value of the restore enable message

RETURNS: True if the restore button should be enabled, False
    otherwise
```
### `send_frame_vsize`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Sends frame vsize message

IN:
    vsize - vsize
```
### `read_restore_visible`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_selector` | [`MASSelectableSpriteMailbox`](#masselectablespritemailbox) | `` | `public` |

```
Returns the value of the restore visible message

RETURNS: True if the restore button should be visible, false
    otherwise
```
## `_adjust_monika`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Adjusts an aspect of monika based on the select type

NOTE: this also logs exceptions if they occur. Also will undo
    a chnage that causes crash.

IN:
    moni_chr - MASMonika object to adjust
    old_map - the old select map (what was previously selected)
    new_map - the new select map (what is currently selected)
    select_type - the select type, which determins what parts of
        monika to adjust
    use_old - True means we are reverting back to the old map,
        False meanse use the old map
        (Default: False)
    outfit_mode - True means we are in outfit mode, False if not
        This is used in the clothing changes
        (Default: False)
```
## `check_prompt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-100`]() | `-100` | `public` |

```
Checks if the prompt's rule passes.

IN:
    key - select key

RETURNS: True if prompt's rule passes (or doesnt exist), False if not.
```
## `_clean_select_map`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Cleans the select map of non-selected items.

IN:
    select_map - select map to clean
    select_type - select type, only used if remove_items is True
    remove_items - True means we also remove items from monika chr
    moni_chr - MASMonika object to modify.
    force - if True, we deselect and remove regardless.

OUT:
    select_map - select map cleaned of non-selectd items
```
## `create_selectable_remover`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Creates a selectable remover for acs

IN:
    acs_type - acs type of the acs/remover to make
    group - group of selectables this ACS remover should be linked to
    remover_name - the name to use for the remover. If None, we use
        "Remove"

RETURNS: remover ACS selectable
```
## `_fill_select_map`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Fills the select map with what monika is currently wearing, based on
the given select type

IN:
    moni_chr - MASMonika object to read from
    select_type - the select type, which determins what part of monika
        to read
    items - list of displayables we should check if monika is wearing

OUT:
    select_map - select map filled with appropriate selectbales.

RETURNS: true if Monika was found wearing something in the list,
    False if not.
```
## `_fill_select_map_and_set_remover`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Fills select map and sets remover item if passed in.
If remover item is not passsed in, this functions exactly the same as
fill_select_map

IN:
    moni_chr - See _fill_select_map
    select_type - see _fill_select_map
    items - see _fill_select_map
    remover_disp_item - if not None, set this selector if no item is
        found.

OUT:
    select_map - see _fill_select_map

RETURNS: see _fill_select_map
```
## `filter_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Filters the selectable acs based on criteria

IN:
    unlocked - True means we only match unlocked selectables
    group - non-None means we match selectables that match this group
        if None, we don't check group at all.
        (Default: None)

RETURNS: list of selectable acs that match criteria
```
## `filter_clothes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Filters the selectable clothes based on critera

IN:
    unlocked - True means we only match unlocked selectables
    group - non-None means we match selectables that match this group
        if None, we don't check group at all
        (Default: None)

RETURNS: list of selectable clothes that match criteria
```
## `filter_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Filters the selectable hair based on critera

IN:
    unlocked - True means we only match unlocked selectables
    group - non-None means we match selectables that match this group
        if None, we don't check group at all
        (Default: None)

RETURNS: list of selectable hair that match criteria
```
## `_filter_sel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Filters the selectable list based on criteria

IN:
    select_list - list of Selectables to filter
    unlocked - True means we only match unlocked selectables
    group - non-None means we match selectables that match this
        group. If None, we dont check group at all.
        (Default: None)

RETURNS: list of selectables that match criteria
```
## `_filter_sel_single`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Checks if the given item matches the given criteria

IN:
    item - selectable to check
    unlocked - True means item matches if its unlocked
    group - if not None, then item matches if the group matches

RETURNS:
    True if the item matches the criteria, False otherwise
```
## `get_minitems`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-100`]() | `-100` | `public` |

```
Gets minimum number of items required to unlock this selector.

IN:
    key - select key
    defval - default value to return

RETURNS: minimum number of items to unlock the selector.
```
## `get_prompt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-100`]() | `-100` | `public` |

```
Gets prompt with the given key and prompt key

IN:
    key - select key
    prompt_key - key to get prompt

RETURNS: prompt. "" if invalid
```
## `get_sel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Retrieves the selectable for the given item
This uses sprite object type from jsons.

IN:
    item - sprite objct to find the Selectable for

RETURNS: selectable for the given item
```
## `_get_sel`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Retreives the selectable for the given item.

IN:
    item - item to find Selectable for
    select_type - the type of selectable we are trying to find

RETURNS the selectable for the item, or None if not found
```
## `get_sel_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Retrieves the selectable for the given accessory.

IN:
    acs - MASAccessory object to find selectable for

RETURNS the selectable for this acs, or None if not found.
```
## `get_sel_clothes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Retrieves the selectable for the given clothes

IN:
    clothes - MASClothes object to find selectable for

RETURNS the selectable for these clothes, or None if not found
```
## `get_sel_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Retrieves the selectable for the given hair

IN:
    hair - MASHair object to find selectbale for

RETURNS the selectable for this hair, or none if not found
```
## `_has_remover`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Checks if acs of the given group have a remover

IN:
    group - group to check

RETURNS: True if this group already has a remover, False otherwise
```
## `in_prompt_map`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-100`]() | `-100` | `public` |

```
Checks if a key is in the prompt select map

IN:
    key - select key to check

RETURNS: True if in the map, FAlse if not
```
## `init_selectable_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Inits the selectable acs

IN:
    acs - the acs to create a selectable from
    display_name - display name to use
    thumb - thumbnail image
    group - grouping id
    visible_when_locked - True if this should be visible even if locked
        (Default: True)
    hover_dlg - list of dialogue to say when the item is hovered over
        (Default: None)
    first_select_dlg - list of dialogue to say when the item is
        selected for the first time
        (Default: None)
    select_dlg - list of dialogue to say when the item is selected
        after the first time
        (Default: None)
    remover - True if this ACS is a blank one, False otherwise
        (Default: False)
```
## `init_selectable_clothes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Inits the selectable clothes

IN:
    clothes - the clothes to create selectable from
    display_name - display name to use
    thumb - thumbnail image
    group - grouping id
    visible_when_locked - True if this should be visible even if locked
        (Default: True)
    hover_dlg - list of dialogue to say when the item is hovered over
        (Default: None)
    first_select_dlg - list of dialogue to say when the item is
        selected for the first time
        (Default: None)
    select_dlg - list of dialogue to say when the item is selected
        after the first time
        (Default: None)
```
## `init_selectable_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Inits the selectable hair

IN:
    hair - the hair to create a selectable from
    display_name - display name to use
    thumb - thumbnail image
    group - grouping id
    visible_when_locked - True if this should be visible even if locked
        (Default: True)
    hover_dlg - list of dialogue to say when the item is hovered over
        (Default: None)
    first_select_dlg - list of dialogue to say when the item is
        selected for the first time
        (Default: None)
    select_dlg - list of dialogue to say when the item is selected
        after the first time
        (Default: None)
```
## `is_clotheshair_compatible`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Wrapper around mas_sprites.is_clotheshair_compatible that uses a
hair selector.

IN:
    clothes - clothes to check
    hair_sel - hair selector to check

RETURNS: True if clothes+hair is compatible, false if not
```
## `is_hairacs_compatible`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Wrapper around mas_sprites.is_hairacs_compatible that uses an ACS
selector.

IN:
    hair - hair to check
    acs_sel - ACS selector to check

RETURNS: True if hair+acs is compatible, False if not
```
## `is_same`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Compares the given select map views for differences.

NOTE: we only check key existence. Use this after you clean the
map.

IN:
    old_map_view - viewkeys view of the old map
    new_map_view - viewkeys view of the new map

RETURNS:
    True if the maps are the same, false if different.
```
## `json_sprite_unlock`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` | **Yes** |

```
Unlocks selectable for the given sprite, as ewll as the selector
topic for that sprite.

NOTE: checks if the prompt's rules passes before unlocking.

IN:
    sp_obj - sprite object to unlock selectbale+
    unlock_label - True will unlock the selector lable, False will not
        (Default: True)
```
## `_load_selectable`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Loads selectable data from the given source into the destination.

IN:
    source - source data to load from
    dest - data to save the loaded data into
```
## `load_selectables`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Loads the persistent data into selectables.
```
## `lock_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Locks the given accessory's selectable

IN:
    acs - MASAccessory object to lock
```
## `lock_clothes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Locks the given clothes' selectable

IN:
    clothes - MASClothes object to lock
```
## `lock_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
locks the given hair's selectable

IN:
    hair - MASHair object to lock
```
## `_lock_item`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Locks the given item's selectable.

IN:
    item - item to find selectable for
    select_type - the type of selectable we are trying to find
```
## `lock_prompt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-100`]() | `-100` | `public` |

```
Locks ev with the given key

IN:
    key - select key
```
## `_rm_remover`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Gets the remover from a given list of items, takes it out of the list
and reutrns it.

IN:
    item_list - list of ACS

RETURNS:
    remover selectable, or None if not found
```
## `rm_selectable_remover`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Removes a selectable remover for acs.
NOTE: also removes the ACS associated with this selectable.
NOTE: only does this for remover type seelctables

IN:
    remover_sel - remover selectable to remove
```
## `_rule_ribbon`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-150`]() | `-150` | `internal` |

```
Ribbon selector should only be unocked if:
    1 - outfit is not baked
    2 - hair supports ribbon
```
## `_save_selectable`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Saves selectable data from the given source into the destination.

IN:
    source - source data to read
    dest - data place to save
```
## `save_selectables`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Goes through the selectables and saves their unlocked property.

NOTE: we do this by adding the name into the appropriate persistent.
also the data we want to save
```
## `selectable_key`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Returns the display name of a selectable. meant for sorting.

IN:
    selectable - the selectbale to get key for

RETURNS the display name of the selectable
```
## `set_compat_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Checks compatibility of the given list of acs selectors to the given
hair sprite object and sets appropriate flags

IN:
    acs_sels - list of acs selectors to check
    hair - hair sprite object to check

OUT:
    acs_sels - acs selectors with modified flags for compatibility
```
## `set_compat_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Checks compatiblity of the given list of hair selectors to the given
clothing sprite object and sets appropriate flags.

IN:
    hair_sels - list of hair selectors to check
    clothes - clothing sprite object to check

OUT:
    hair_sels - hair selectors with modified flags for compatibility
```
## `set_prompt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-100`]() | `-100` | `public` |

```
Sets prompt of ev with the given key with one associatd with given
prompt key.

IN:
    key - select key
    prompt_key - key to get propmt. if _ev, then no change
```
## `startup_prompt_check`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-100`]() | `-100` | `public` |

```
Checks all prompts and adjusts them if needed
```
## `_switch_to_wear_prompts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Switches all prompts for grp_topic_list topics to use their wear prompt.
```
## `unlock_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Unlocks the given accessory's selectable

IN:
    acs - MASAccessory object to unlock
```
## `unlock_clothes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Unlocks the given clothes' selectable

IN:
    clothes - MASClothes object to unlock
```
## `unlock_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Unlocks the given hair's selectable

IN:
    hair - MASHair object to unlock
```
## `_unlock_item`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Unlocks the given item's selectable

IN:
    item - item to find selectable for
    select_type - the type of selectable we are trying to find
```
## `unlock_prompt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-100`]() | `-100` | `public` |

```
Unlocks ev with the given key

IN:
    key - select key
```
## `_unlock_removers`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Unlocks remover ACS selectables
```
## `unlock_selector`
**DEPRECATED**

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Unlocks the selector of the given group.

IN:
    group - group to unlock selector topic.
```
## `valid_select_type`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `public` |

```
Returns True if valid selection constant, False otherwise

IN:
    sel_con - selection constnat to check

RETURNS: True if vali dselection constant
```
## `_validate_group_topics`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_selector` | [`mas_selspr_-10`]() | `-10` | `internal` |

```
Locks selector topics if there are no unlocked selectables with the
appropriate group.
Unlocks selector topics if they are unlocked selectables.
NOTE: also checks the prompt rule
```
# mas_settings

#### Defined Init Levels
* `0`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `0` |

#### TOC
* [`_auto_mode_toggle`](#_auto_mode_toggle)
* [`_dark_mode_toggle`](#_dark_mode_toggle)

## `_auto_mode_toggle`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `styles` | [`mas_settings_0`]() | `0` | `internal` |

```
Handles the toggling of fields so the menu options become mutually exclusive
```
## `_dark_mode_toggle`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `styles` | [`mas_settings_0`]() | `0` | `internal` |

```
Handles the toggling of fields so the menu options become mutually exclusive
```
# mas_songs

#### Defined Init Levels
* `-10`
* `0`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `0` |

#### TOC
* [`checkRandSongDelegate`](#checkrandsongdelegate)
* [`getRandomSongs`](#getrandomsongs)
* [`getUnlockedSongs`](#getunlockedsongs)
* [`hasRandomSongs`](#hasrandomsongs)
* [`hasUnlockedSongs`](#hasunlockedsongs)

## `checkRandSongDelegate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-songs` | [`mas_songs_0`]() | `0` | `public` |

```
Checks if we have random songs available, and if so unlocks the random delegate if locked
```
## `getRandomSongs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-songs` | [`mas_songs_0`]() | `0` | `public` |

```
Gets a list of all random songs

OUT: list of all random songs within aff_range
```
## `getUnlockedSongs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-songs` | [`mas_songs_0`]() | `0` | `public` |

```
Gets a list of unlocked songs
IN:
    length - a filter for the type of song we want. "long" for songs of TYPE_LONG
        "short" for TYPE_SHORT or None for all songs. (Default None)
OUT: list of unlocked all songs of the desired length in tuple format for a scrollable menu
```
## `hasRandomSongs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-songs` | [`mas_songs_0`]() | `0` | `public` |

```
Checks if there are any songs with the random property

OUT:
    True if there are songs which are random, False otherwise
```
## `hasUnlockedSongs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-songs` | [`mas_songs_0`]() | `0` | `public` |

```
Checks if the player has unlocked a song at any point via the random selection

IN:
    length - a filter for the type of song we want. "long" for songs of TYPE_LONG
        "short" for TYPE_SHORT or None for all songs. (Default None)

OUT:
    True if there's an unlocked song, False otherwise
```
# mas_sprites

#### Defined Init Levels
* `-101`
* `-100`
* `-5`
* `-4`
* `-2`
* `-1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-2` |

#### TOC
* [`ACSTemplate`](#acstemplate)
* [`MASMonikaRender`](#masmonikarender)
* [`_acs_heartchoc_entry`](#_acs_heartchoc_entry)
* [`_acs_heartchoc_exit`](#_acs_heartchoc_exit)
* [`acs_lean_mode`](#acs_lean_mode)
* [`_acs_quetzalplushie_antlers_entry`](#_acs_quetzalplushie_antlers_entry)
* [`_acs_quetzalplushie_entry`](#_acs_quetzalplushie_entry)
* [`_acs_quetzalplushie_exit`](#_acs_quetzalplushie_exit)
* [`_acs_quetzalplushie_santahat_entry`](#_acs_quetzalplushie_santahat_entry)
* [`_acs_remove_if_found`](#_acs_remove_if_found)
* [`_acs_ribbon_like_save_and_remove`](#_acs_ribbon_like_save_and_remove)
* [`_acs_ribbon_save_and_remove`](#_acs_ribbon_save_and_remove)
* [`acs_rm_exit_pre_change`](#acs_rm_exit_pre_change)
* [`acs_rm_exit_pst_change`](#acs_rm_exit_pst_change)
* [`_acs_save_and_remove_exprop`](#_acs_save_and_remove_exprop)
* [`acs_wear_entry_pre_change`](#acs_wear_entry_pre_change)
* [`acs_wear_entry_pst_change`](#acs_wear_entry_pst_change)
* [`_acs_wear_if_found`](#_acs_wear_if_found)
* [`_acs_wear_if_gifted`](#_acs_wear_if_gifted)
* [`_acs_wear_if_in_tempstorage`](#_acs_wear_if_in_tempstorage)
* [`_acs_wear_if_in_tempstorage_s`](#_acs_wear_if_in_tempstorage_s)
* [`_acs_wear_if_not_wearing_type`](#_acs_wear_if_not_wearing_type)
* [`_acs_wear_if_wearing_acs`](#_acs_wear_if_wearing_acs)
* [`_acs_wear_if_wearing_type`](#_acs_wear_if_wearing_type)
* [`acs_wear_mux_pre_change`](#acs_wear_mux_pre_change)
* [`acs_wear_mux_pst_change`](#acs_wear_mux_pst_change)
* [`_add_arms_rk`](#_add_arms_rk)
* [`adjust_zoom`](#adjust_zoom)
* [`alt_bcode`](#alt_bcode)
* [`alt_hsplit`](#alt_hsplit)
* [`apply_ACSTemplate`](#apply_acstemplate)
* [`apply_ACSTemplates`](#apply_acstemplates)
* [`_bhli`](#_bhli)
* [`build_loc`](#build_loc)
* [`build_loc_val`](#build_loc_val)
* [`_cgen_im`](#_cgen_im)
* [`_cgha_im`](#_cgha_im)
* [`_clear_caches`](#_clear_caches)
* [`_clothes_baked_entry`](#_clothes_baked_entry)
* [`_clothes_def_entry`](#_clothes_def_entry)
* [`_clothes_dress_newyears_entry`](#_clothes_dress_newyears_entry)
* [`_clothes_dress_newyears_exit`](#_clothes_dress_newyears_exit)
* [`clothes_entry_pre_change`](#clothes_entry_pre_change)
* [`clothes_entry_pst_change`](#clothes_entry_pst_change)
* [`clothes_exit_pre_change`](#clothes_exit_pre_change)
* [`clothes_exit_pst_change`](#clothes_exit_pst_change)
* [`_clothes_marisa_entry`](#_clothes_marisa_entry)
* [`_clothes_marisa_exit`](#_clothes_marisa_exit)
* [`_clothes_orcaramelo_hatsune_miku_entry`](#_clothes_orcaramelo_hatsune_miku_entry)
* [`_clothes_orcaramelo_hatsune_miku_exit`](#_clothes_orcaramelo_hatsune_miku_exit)
* [`_clothes_orcaramelo_sakuya_izayoi_entry`](#_clothes_orcaramelo_sakuya_izayoi_entry)
* [`_clothes_orcaramelo_sakuya_izayoi_exit`](#_clothes_orcaramelo_sakuya_izayoi_exit)
* [`_clothes_rin_entry`](#_clothes_rin_entry)
* [`_clothes_rin_exit`](#_clothes_rin_exit)
* [`_clothes_santa_entry`](#_clothes_santa_entry)
* [`_clothes_santa_exit`](#_clothes_santa_exit)
* [`_clothes_santa_lingerie_entry`](#_clothes_santa_lingerie_entry)
* [`_clothes_santa_lingerie_exit`](#_clothes_santa_lingerie_exit)
* [`_clothes_sundress_white_entry`](#_clothes_sundress_white_entry)
* [`_clothes_sundress_white_exit`](#_clothes_sundress_white_exit)
* [`_clothes_velius94_dress_whitenavyblue_entry`](#_clothes_velius94_dress_whitenavyblue_entry)
* [`create_remover`](#create_remover)
* [`_cs_im`](#_cs_im)
* [`_dayify`](#_dayify)
* [`_decide_filter`](#_decide_filter)
* [`face_lean_mode`](#face_lean_mode)
* [`_gc`](#_gc)
* [`_genLK`](#_genlk)
* [`_gen_im`](#_gen_im)
* [`get_ACSTemplate`](#get_acstemplate)
* [`get_ACSTemplate_by_type`](#get_acstemplate_by_type)
* [`get_sprite`](#get_sprite)
* [`_hair_bun_entry`](#_hair_bun_entry)
* [`_hair_def_entry`](#_hair_def_entry)
* [`_hair_def_exit`](#_hair_def_exit)
* [`_hair_down_entry`](#_hair_down_entry)
* [`_hair_down_exit`](#_hair_down_exit)
* [`hair_entry_pre_change`](#hair_entry_pre_change)
* [`hair_entry_pst_change`](#hair_entry_pst_change)
* [`hair_exit_pre_change`](#hair_exit_pre_change)
* [`hair_exit_pst_change`](#hair_exit_pst_change)
* [`_hair_orcaramelo_bunbraid_exit`](#_hair_orcaramelo_bunbraid_exit)
* [`_hair_unlock_select_if_needed`](#_hair_unlock_select_if_needed)
* [`_hlify`](#_hlify)
* [`init_acs`](#init_acs)
* [`init_clothes`](#init_clothes)
* [`init_hair`](#init_hair)
* [`is_clotheshair_compatible`](#is_clotheshair_compatible-1)
* [`is_hairacs_compatible`](#is_hairacs_compatible-1)
* [`lock_acstype_topics`](#lock_acstype_topics)
* [`lock_exprop_topics`](#lock_exprop_topics)
* [`_ms_head`](#_ms_head)
* [`_ms_left`](#_ms_left)
* [`_ms_right`](#_ms_right)
* [`_ms_standing`](#_ms_standing)
* [`_ms_standingstock`](#_ms_standingstock)
* [`reset_zoom`](#reset_zoom)
* [`_rk_accessory`](#_rk_accessory)
* [`_rk_accessory_list`](#_rk_accessory_list)
* [`_rk_arms_base_lean_nh`](#_rk_arms_base_lean_nh)
* [`_rk_arms_base_nh`](#_rk_arms_base_nh)
* [`_rk_arms_lean_nh`](#_rk_arms_lean_nh)
* [`_rk_arms_nh`](#_rk_arms_nh)
* [`_rk_arms_nh_wbase`](#_rk_arms_nh_wbase)
* [`_rk_base_body_lean_nh`](#_rk_base_body_lean_nh)
* [`_rk_base_body_nh`](#_rk_base_body_nh)
* [`_rk_body_lean_nh`](#_rk_body_lean_nh)
* [`_rk_body_nh`](#_rk_body_nh)
* [`_rk_body_nh_wbase`](#_rk_body_nh_wbase)
* [`_rk_chair`](#_rk_chair)
* [`_rk_face`](#_rk_face)
* [`_rk_face_pre`](#_rk_face_pre)
* [`_rk_hair`](#_rk_hair)
* [`_rk_sitting`](#_rk_sitting)
* [`_rk_table`](#_rk_table)
* [`rm_acs`](#rm_acs)
* [`should_disable_lean`](#should_disable_lean)
* [`show_empty_desk`](#show_empty_desk)
* [`tryparseclothes`](#tryparseclothes)
* [`tryparsehair`](#tryparsehair)
* [`unlock_acstype_topics`](#unlock_acstype_topics)
* [`unlock_exprop_topics`](#unlock_exprop_topics)
* [`use_bma`](#use_bma)
* [`use_bmpm`](#use_bmpm)
* [`use_bmpm_s`](#use_bmpm_s)
* [`_verify_lean`](#_verify_lean)
* [`_verify_leaningpose`](#_verify_leaningpose)
* [`_verify_pose`](#_verify_pose)
* [`_verify_uprightpose`](#_verify_uprightpose)
* [`zoom_out`](#zoom_out)

## `ACSTemplate`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart` | [`mas_sprites_-101`]() | `-101` | `object` |

```
ACS template object
Establishes guidelines for defauling properties for an ACS

PROPERTIES:
    acs_type - the acs type associated with this template
    mux_type - the default mux type list for this template
    ex_props - default exprops dict for this template
    keep_on_desk - default keep on desk flag for this templat
```
#### TOC
* [Constructor](#constructor-51)
* [`_apply_keep_on_desk`](#_apply_keep_on_desk)
* [`apply`](#apply-1)
* [`_apply_mux_type`](#_apply_mux_type)
* [`_apply_ex_props`](#_apply_ex_props)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart` | [`ACSTemplate`](#acstemplate) | `` |

```
Constructor

IN:
    acs_type - acs type this template should be associated with
    mux_type - the mux_type we want to use as default. Ignored if
        None.
        (Default: None)
    ex_props - the ex_props we want to use as default. Ignored if
        None.
        (Default: None)
    keep_on_desk - the keep_on_desk flag we want to use as default.
        Ignored if None.
        (Default: None)
```
### `_apply_keep_on_desk`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`ACSTemplate`](#acstemplate) | `` | `internal` |

```
Applies keep_on_desk defaults to the given ACS.

acs_type is NOT checked.

IN:
    acs- acs to modify
```
### `apply`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`ACSTemplate`](#acstemplate) | `` | `public` |

```
Applies the defaults to the given ACS. (NOTE: acs type is checked)
```
### `_apply_mux_type`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`ACSTemplate`](#acstemplate) | `` | `internal` |

```
Applies mux type defaults to the given ACS.

acs_type is NOT checked.

IN:
    acs - acs to modify.
```
### `_apply_ex_props`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`ACSTemplate`](#acstemplate) | `` | `internal` |

```
Applies ex prop defaults to the given ACS.

acs_type is NOT checked.

IN:
    acs - acs to modify
```
## `MASMonikaRender`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `MASFilterable` |

```
custom rendering class for MASMonika. This does caching and rendering
at the same time.

INHERED PROPS:
    flt - filter we are using (string)

PROPERTIES:
    render_keys - list of tuples of the following format:
        [0] - key of an image to generate. used to check cache
        [1] - cache ID of the cache to use
        [2] - ImageBase to build the image, IF NOT IN CACHE.
            This should be set to None if we are sure a surf
            object is in the cache.
        [3] - ImageBase to build the highlight. Set to None if no
            no highlight or in cache.
    xpos - xposition to blit objects with
    ypos - yposition to blit objects with
    width - width to render objects with
    height - height to render objects with
```
#### TOC
* [Constructor](#constructor-52)
* [`render`](#render-9)
* [`_l_render_hl`](#_l_render_hl)
* [`visit`](#visit-1)
* [`_render_surf`](#_render_surf)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`MASMonikaRender`](#masmonikarender) | `` |

```
Constructor for a MASMOnikaRender object

IN:
    render_keys - image keys and ImageBase if needed.
        See props.
    flt - filter we are using (string)
    xpos - xposition to blit objects with
    ypos - yposition to blit objects with
    width - width to render objects with
    height - height to render objects with
```
### `render`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASMonikaRender`](#masmonikarender) | `` | `public` |

```
Render function
```
### `_l_render_hl`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASMonikaRender`](#masmonikarender) | `` | `internal` |

```
Retrieves highlight image from cache, or renders if needed

IN:
    render_key - tuple of the following format
        [0] - key of image to generate
        [1] - cache ID of the cache to use
        [2] - ImageBase to build the image
        [3] - ImageBase to build the highlight
    st - renpy related
    at - renpy related

OUT:
    render_list - list to add render to, if needed
```
### `visit`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASMonikaRender`](#masmonikarender) | `` | `public` |

```
Returns a list of displayables we obtain
NOTE: will also save to our cache
```
### `_render_surf`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `sprite-chart-matrix` | [`MASMonikaRender`](#masmonikarender) | `` | `internal` |

```
Retrieves surf image from cache, or renders if needed

IN:
    render_key - tuple of the following format:
        [0] - key of image to generate
        [1] - cache ID of the cache to use
        [2] - ImageBase to build the image
        [3] - ImageBase to build the highlight
    st - renpy related
    at - renpy related

RETURNS: rendered surf image to use
```
## `_acs_heartchoc_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for heartchoc acs
```
## `_acs_heartchoc_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for heartchoc acs
```
## `acs_lean_mode`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
NOTE: DEPRECATED

Adds the appropriate accessory prefix dpenedong on lean

IN:
    sprite_list - list to add sprites to
    lean - type of lean
```
## `_acs_quetzalplushie_antlers_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for quetzal plushie antlers acs
```
## `_acs_quetzalplushie_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for quetzal plushie acs
```
## `_acs_quetzalplushie_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for quetzal plushie acs
```
## `_acs_quetzalplushie_santahat_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for quetzal plushie santa hat acs
```
## `_acs_remove_if_found`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
REmoves an acs if the name exists

IN:
    _moni_chr - MASMonika object
    acs_name - name of the accessory to remove
```
## `_acs_ribbon_like_save_and_remove`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Removes ribbon-like acs and saves them to temp storage, if found

IN:
    _moni_chr - MASMonika object
```
## `_acs_ribbon_save_and_remove`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Removes ribbon acs and aves them to temp storage.

IN:
    _moni_chr - MASMonika object
```
## `acs_rm_exit_pre_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs before exit point runs for acs

IN:
    temp_space - temp space
    moni_chr - MASMonika object
    rm_acs - acs we are removing
    acs_loc - acs location to rm this acs from
```
## `acs_rm_exit_pst_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after exit point runs runs for acs

IN:
    temp_space - temp space
    moni_chr - MASMonika object
    rm_acs - acs we are removing
    acs_loc -  acs location to rm this acs from
```
## `_acs_save_and_remove_exprop`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Removes acs with given exprop, saving them to temp storage with
given key.
Also locks topics with the exprop if desired

IN:
    _moni_chr - MASMonika object
    exprop - exprop to remove and save acs
    key - key to use for temp storage
    lock_topics - True will lock topics associated with this exprop
        False will not
```
## `acs_wear_entry_pre_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after insertion, before entry pooint

IN:
    temp_space - temp space
    moni_chr - MASmonika object
    new_acs - acs we are adding
    acs_loc - acs location to wear this acs
```
## `acs_wear_entry_pst_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after entry point

IN:
    temp_space - temp space
    moni_chr - MASMonika object
    new_acs - acs we are adding
    acs_loc - acs location to wear this acs
```
## `_acs_wear_if_found`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Wears the acs if the acs exists

IN:
    _moni_chr - MASMonika object
    acs_name - name of the accessory
```
## `_acs_wear_if_gifted`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Wears the acs if it exists and has been gifted/reacted.
It has been gifted/reacted if the selectable is unlocked.

IN:
    _moni_chr - MASMonika object
    acs_name - name of the accessory
```
## `_acs_wear_if_in_tempstorage`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Wears the acs in tempstorage at the given key, if any.

IN:
    _moni_chr - MASMonika object
    key - key in tempstorage
```
## `_acs_wear_if_in_tempstorage_s`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Wears a single acs in tempstorage at the given key, if any.

IN:
    _moni_chr - MASMonika object
    key - key in tempstorage
```
## `_acs_wear_if_not_wearing_type`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Wears the given acs if NOT wearing an acs of the given type.

IN:
    _moni_chr - MASMonika object
    acs_type - asc type to check if not wearing
    acs_to_wear - acs to wear if not wearing acs type
```
## `_acs_wear_if_wearing_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Wears the given acs if wearing another acs.

IN:
    _moni_chr - MASMonika object
    acs - acs to check if wearing
    acs_to_wear - acs to wear if wearing acs
```
## `_acs_wear_if_wearing_type`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Wears the given acs if wearing an acs of the given type.

IN:
    _moni_chr - MASMonika object
    acs_type - acs type to check if wearing
    acs_to_wear - acs to wear if wearing acs type
```
## `acs_wear_mux_pre_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs before mux type acs are removed

IN:
    temp_space - temp space
    moni_chr - MASMonika object
    new_acs - acs we are adding
    acs_loc - acs location to wear this acs
```
## `acs_wear_mux_pst_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after mux type acs removed, before insertion

IN:
    temp space - temp space
    moni_chr - MASMonika object
    new_acs - acs we are adding
    acs_loc - acs location to wear this acs
```
## `_add_arms_rk`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds render key for multiple MASArm objects, if needed

IN:
    arms - MASArm objects to add render key for
    pfx - prefix tuple to generate image string with
    flt - filter code to use
    bcode - base code to use
    clothing_t - type of clothing to use
    leanpose - leanpose to use

OUT:
    rk_list - render key list to add render keys to
```
## `adjust_zoom`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Sets the value zoom to an appropraite amoutn based on the current
zoom level.
NOTE: also sets the persistent save for zoom
```
## `alt_bcode`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Adds bcode 0 and bcode 1 versions of the given prefix to the given
list.

IN:
    prefix - string to add bcode to
    inc_night - if True, then we also do night variants of each bcode
        version, otherwise, just day versions

OUT:
    v_list - list to add strings to
```
## `alt_hsplit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Adds backhair/front hair versionsof the given prefix to the given list

IN:
    prefix - string to add bhair/front hair to
    inc_night - if Ture, then we also do night varaints of each bhair
        fhair version, otherwise just day versions

OUT:
    v_list - list to add strings to
```
## `apply_ACSTemplate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-100`]() | `-100` | `public` |

```
Applies ACS template to the given ACS

IN:
    acs - acs to apply defaults to
```
## `apply_ACSTemplates`

| File | Store Module | Available After | Visiblity | Runtime only? |
| ---:| ---:| ---:|:--- |:--- |
| `sprite-chart` | [`mas_sprites_-100`]() | `-100` | `public` | **Yes** |

```
Applies all templates to the available ACS.
```
## `_bhli`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Builds a
High-
Light
Image using the base image path

IN:
    img_list - list of strings that form the base image string
        NOTE: we assume that the last item in this string is the
        FILE_EXT. This also assumes highlight codes are always inserted
        right before the file extension.
    hlcode - highlight code to use. Can be None.

RETURNS: Image to use for highlight, or None if no highlight.
```
## `build_loc`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
RETURNS location string for the sprite
```
## `build_loc_val`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
RETURNS location tuple for a sprite
```
## `_cgen_im`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Checks cache for an im,
GENerates the im if not found

IN:
    flt - filter to use
    key - key of the image
    cid - cache ID of the cache to use
    img_base - ImageBase to build the image

RETURNS: Image Manipulator for this render
```
## `_cgha_im`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Checks cache of an image
Generates the im if not found, and sets
Highlight if needed.
Adds IMs to the given render list

NOTE: should only be used by the visit function

IN:
    flt - filter to use
    render_key - tuple of the following format:
        [0] - key of the image to generate
        [1] - cache ID of the cahce to use
        [2] - ImageBase to build the image
        [3] - ImageBase to build the highlight
    st - renpy related
    at - renpy related

OUT:
    render_list - list to add IMs to
```
## `_clear_caches`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Clears all caches
```
## `_clothes_baked_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Clothes baked entry
```
## `_clothes_def_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for def clothes
```
## `_clothes_dress_newyears_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
entry progpoint for dress_newyears
```
## `_clothes_dress_newyears_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
exit progpoint for dress_newyears
```
## `clothes_entry_pre_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after change, before entry prog point.

IN:
    temp_space - temp dict space
    moni_chr - MASMonika object
    prev_cloth - current clothes
    new_cloth - clothes we are changing to
```
## `clothes_entry_pst_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after entry prog point

IN:
    temp_space - temp dict space
    moni_chr - MASMonika object
    prev_cloth - current clothes
    new_cloth - clothes we are changing to
```
## `clothes_exit_pre_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs pre clothes change code. This code is ran prior to clothes being
changed and prior to exit prog point

IN:
    temp_space - temporary dictionary space
    moni_chr - MASMonika object
    prev_cloth - current clothes
    new_cloth - clothes we are changing to
```
## `clothes_exit_pst_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after exit prog point is ran, before the actual change.

IN:
    temp_space - temp dict space
    moni_chr - MASMonika object
    prev_cloth - current clothes
    new_cloth - clothes we are changing to
```
## `_clothes_marisa_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for marisa clothes
```
## `_clothes_marisa_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for marisa clothes
```
## `_clothes_orcaramelo_hatsune_miku_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry pp for orcaramelo miku
```
## `_clothes_orcaramelo_hatsune_miku_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit pp for orcaramelo miku
```
## `_clothes_orcaramelo_sakuya_izayoi_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry pp for orcaramelo sakuya
```
## `_clothes_orcaramelo_sakuya_izayoi_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit pp for orcaramelo sakuya
```
## `_clothes_rin_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for rin clothes
```
## `_clothes_rin_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for rin clothes
```
## `_clothes_santa_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for santa clothes
```
## `_clothes_santa_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for santa clothes
```
## `_clothes_santa_lingerie_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for santa lingerie
```
## `_clothes_santa_lingerie_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for santa lingerie
```
## `_clothes_sundress_white_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for sundress white
```
## `_clothes_sundress_white_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for sundress white
```
## `_clothes_velius94_dress_whitenavyblue_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry prog point for navyblue dress
```
## `create_remover`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Creates a remover ACS

IN:
    acs_type - acs type for the remover. This is also used in mux_type
    group - group of selectables this ACS remover should be linked to
        This is used in the naming of the ACS.
    mux_types - list of types to use for mux_type

RETURNS: remover ACS object
```
## `_cs_im`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Checks cache for an im
Stores the img_base if not found

IN:
    key - key of the image
    cid - cache ID of the cache to use
    img_base - ImageBase to build the image

RETURNS: ImageBase
```
## `_dayify`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Dayifies the given image key.
DAying simply replaces the filter portion of the key with "day"

IN:
    img_key - image key to dayify

RETURNS: dayified key
```
## `_decide_filter`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Returns the appropriate filter to use

NOTE: this is currently not how we want to do this going forward.
Once we decide on lighting progression, then have this function call
that code.

RETURNS: desired filter
```
## `face_lean_mode`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Returns the appropriate face prefix depending on lean

IN:
    lean - type of lean

RETURNS:
    appropriat eface prefix string
```
## `_gc`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Gets the
Cache

IN:
    cid - cache ID of the cache to get

RETURNS: cache, or empty dict if cache not found
```
## `_genLK`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

```
generates a tuple of keys + leanables using the given kens

Leanable Keys are keys prefixed with a lean type like: <lean>|<key>

IN:
    keys - iterable of keys to use

RETURNS: tuple of keys + leanable keys
```
## `_gen_im`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
GENerates an image maniuplator
NOTE: always assumes we have an available filter.

IN:
    flt - filter to use
    img_base - image path or manipulator to use

RETURNS: generated render key
```
## `get_ACSTemplate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-100`]() | `-100` | `public` |

```
Gets the template for an ACS given the ACS.

IN:
    acs - acs to get template for

RETURNS: ACSTemplate associated with the acs, or None if not found
```
## `get_ACSTemplate_by_type`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-100`]() | `-100` | `public` |

```
Gets the template for an ACS given the ACS type

IN:
    acs_type - acs type to get template for

RETURNS: ACSTemplate associated with the acs_type or Nonr if not ound
```
## `get_sprite`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Returns the sprite object with the given sprite name and sprite type.
Or None if we couldn't find one.
```
## `_hair_bun_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for hair bun
```
## `_hair_def_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for ponytail
```
## `_hair_def_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for ponytail
```
## `_hair_down_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Entry programming point for hair down
```
## `_hair_down_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit programming point for hair down
```
## `hair_entry_pre_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after change, before entry prog point.

IN:
    temp_space - temp dict space
    moni_chr - MASMonika object
    preV_hair - current hair
    new_hair - hair we are changing to
```
## `hair_entry_pst_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after entry prog point

IN:
    temp_space - temp dict space
    moni_chr - MASMonika object
    prev_hair - current hair
    new_hair - hair we are changing to
```
## `hair_exit_pre_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs pre hair change code. This code is ran prior to hair being
changed and prior to exit prog point.

IN:
    temp_space - temporary dictionary space
    moni_chr - MASMonika object
    prev_hair - current hair
    new_hair - hair we are changing to
```
## `hair_exit_pst_change`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Runs after exit prog point is ran, before the actual change.

IN:
    temp_space - temp dict space
    moni_chr - MASMonika object
    prev_hair - current hair
    new_hair - hair we are changing to
```
## `_hair_orcaramelo_bunbraid_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Exit prog point for bunbraid
```
## `_hair_unlock_select_if_needed`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spriteobjects` | [`mas_sprites_-2`]() | `-2` | `internal` |

```
Unlocks the hairdown selector if enough hair is unlocked.
```
## `_hlify`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Highlightifies the given key.
Highlightifying is just prefixing the key with the cid

IN:
    key - key to highlightify
    cid - cid to use when highlighting

RETURNS: highlightified key
```
## `init_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Initlializes the given MAS accessory into a dictionary map setting

IN:
    mas_acs - MASAccessory to initialize
```
## `init_clothes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Initlializes the given MAS clothes into a dictionary map setting

IN:
    mas_clothes - MASClothes to initialize
```
## `init_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Initlializes the given MAS hairstyle into a dictionary map setting

IN:
    mas_hair - MASHair to initialize
```
## `is_clotheshair_compatible`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Checks if the given clothes is compatible with the given hair

IN:
    clothes - clothes to check
    hair - hair to check

RETURNS: True if clothes+hair is comaptible, False if not
```
## `is_hairacs_compatible`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Checks if the given hair is compatible with the given acs

IN:
    hair - hair to check
    acs - acs to check

RETURNS: True if hair+acs is compatible, False if not
```
## `lock_acstype_topics`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Locks topics with the given acs type

IN:
    acstype - acs type to lock assicated topics with
```
## `lock_exprop_topics`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Locks topics with the given exprop

IN:
    exprop - extended property to lock associated topics wtih
```
## `_ms_head`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

```
Creates head string

IN:
    clothing - type of clothing
    hair - type of hair
    head - type of head

RETURNS:
    head string
```
## `_ms_left`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

```
Creates left side string

IN:
    clothing - type of clothing
    hair - type of hair
    left - type of left side

RETURNS:
    left side stirng
```
## `_ms_right`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

```
Creates right body string

IN:
    clothing - type of clothing
    hair - type of hair
    right - type of right side

RETURNS:
    right body string
```
## `_ms_standing`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

```
Creates the custom standing string
This is different than the stock ones because of image location

IN:
    clothing - type of clothing
    hair - type of hair
    head - type of head
    left - type of left side
    right - type of right side
    acs_list - list of MASAccessory objects
        NOTE: this should the combined list because we don't have
            layering in standing mode

RETURNS:
    custom standing sprite
```
## `_ms_standingstock`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

```
Creates the stock standing string
This is different then the custom ones because of image location

Also no night version atm.

IN:
    head - type of head
    left - type of left side
    right - type of right side
    acs_list - list of MASAccessory objects
        NOTE: this should be the combined list because we don't have
            layering in standing mode
    single - type of single standing picture.
        (Defualt: None)

RETURNS:
    stock standing string
```
## `reset_zoom`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Resets the zoom to the default value
NOTE: also set sthe persistent save for zoom
```
## `_rk_accessory`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds accessory render key if needed

IN:
    acs - MASAccessory object
    flt - filter to apply
    arm_split - see MASAccessory.arm_split for codes. None for no
        codes at all.
    leanpose - current pose
        (Default: None)

OUT:
    rk_list - list to add render keys to
```
## `_rk_accessory_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds accessory render keys for a list of accessories

IN:
    acs_list - list of MASAccessory objects, in order of rendering
    flt - filter to use
    arm_split - set to MASAccessory.arm_split code if we are rendering
        arm_split-affected ACS. If None, we use standard algs.
        (Default: None)
    leanpose - arms pose for we are currently rendering
        (Default: None)

OUT:
    rk_list - list to add render keys to
```
## `_rk_arms_base_lean_nh`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds arms base lean render key
(eqiv to _ms_arms_nh_leaning_base)

IN:
    barms - tuple of MASArm objects to use
    lean - type of lean
    leanpose - leanpose to use
    flt - filter to use
    bcode - base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_arms_base_nh`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds arms base render keys
(equiv to _ms_arms_nh_up_base)

IN:
    barms - tuple of MASArm objects to use
    leanpose - leanpose to use
    flt - filter to use
    bcode - base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_arms_lean_nh`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds arms lean render key
(equiv to _ms_arms_nh_leaning_arms)

IN:
    parms - tuple of MASArm objects to use
    clothing - MASClothes object
    lean - type of lean
    leanpose - leanpose to use
    flt - filter to use
    bcode - base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_arms_nh`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds arms render key
(equiv to _ms_arms_nh_up_arms)

IN:
    parms - tuple of MASArm objects to use
    clothing - MASClothes object
    leanpose - leanpose to use
    flt - filter to use
    bcode - base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_arms_nh_wbase`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds arms render keys, no hair, with baes

IN:
    barms - tuple of MASArm objects for base
    parms - tuple of MASArm objects for pose
    clothing - MASClothes object
    acs_ase_list - acs between arms-base-0 and arms-0
    leanpose - leanpose to pass to accessorylist
    lean - lean to use
    flt - filter to use
    bcode - base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_base_body_lean_nh`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds base body lean render keys, no hair
(equivalent of _ms_torsoleaning_nh_base)

IN:
    lean - type of lean
    flt - filter to use
    bcode - base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_base_body_nh`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds base body render keys, no hair
(equiv of _ms_torso_nh_base)

IN:
    flt - filter ot use
    bcode- base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_body_lean_nh`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds body leaning render keys, no hair
(equiv of _ms_torsoleaning_nh)

IN:
    clothing - MASClothes object
    lean - type of lean
    flt - filter to use
    bcode - base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_body_nh`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds body render keys, no hair
(equiv of _ms_torso_nh)

IN:
    clothing - MASClothes object
    flt - filter to use
    bcode - base code to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_body_nh_wbase`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds body render keys, including base and bse acs, no hair

IN:
    clothing - MASClothes object
    acs_bse_list - acs between base-0 and body-0
    bcode - base code to use
    flt - filter to use
    leanpose - leanpose to pass to accessorylist
    lean - type of lean

OUT:
    rk_list - list to add render keys to
```
## `_rk_chair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds chair render key

IN:
    mtc - MASTableChair object
    flt - filter to use

OUT:
    rk_list - list to add render keys to
```
## `_rk_face`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds face render keys

IN:
    eyes - type of eyes
    eyebrows - type of eyebrows
    nose - type of nose
    mouth - type of mouth
    flt - filter to use
    fpfx - face prefix to use
    lean - type of lean to use
    sweat - type of sweat drop
    tears - type of tears
    emote - type of emote

OUT:
    rk_list - list to add render keys to
```
## `_rk_face_pre`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds face render keys that go before hair

IN:
    flt - filter to use
    fpfx - face prefix to use
    lean - type of lean to use
    blush - type of blush

OUT:
    rk_list - list to add render keys to
```
## `_rk_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds hair render key

IN:
    hair - MASHair object
    flt - filter to use
    hair_key - hair key to use (front/back)
    lean - tyoe of lean

OUT:
    rk_list - list to add render keys to
```
## `_rk_sitting`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Creates a list of render keys in order of desired render.

IN:
    clothing - MASClothes object
    hair - MASHair object
    base_arms - tuple of MASArm objects to use for the base
    pose_arms - tuple of MASArm objects to use for the clothes arms
    eyebrows - type of eyebrows
    eyes - type of eyes
    nose - type of nose
    mouth - type of mouth
    flt - filter to use
    acs_pre_list - sorted list of MASAccessories to draw prior to body
    acs_bbh_list - sroted list of MASAccessories to draw between back
        hair and body
    acs_bse_list - sorted list of MASAccessories to draw between base
        body and outfit
    acs_bba_list - sorted list of MASAccessories to draw between
        body and back arms
    acs_ase_list - sorted list of MASAccessories to draw between base
        arms and outfit
    acs_bat_list - sorted list of MASAccessories to draw between back
        arms and table
    acs_mat_list - sorted list of MASAccessories to draw between
        middle arms and table
    acs_mab_list - sorted list of MASAccessories to draw between
        middle arms and boobs
    acs_bfh_list - sorted list of MASAccessories to draw between boobs
        and front hair
    acs_afh_list - sorted list of MASAccessories to draw between front
        hair and face
    acs_mid_list - sorted list of MASAccessories to draw between body
        and arms
    acs_pst_list - sorted list of MASAccessories to draw after arms
    leanpose - lean and arms together
    lean - type of lean
    arms - type of arms
    eyebags - type of eyebags
    sweat - type of sweatdrop
    blush - type of blush
    tears - type of tears
    emote - type of emote
    tablechair - MASTableChair object
    show_shadow - True will show shadow, false will not

RETURNS: list of render keys
```
## `_rk_table`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart-matrix` | [`mas_sprites_-4`]() | `-4` | `internal` |

```
Adds table render key

IN:
    table - MASTableChair object
    show_shadow - True if shadow should be included, false if not
    flt filter to use

OUT:
    rk_list - list to add render keys to
```
## `rm_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Deletes an ACS by removing it from the map

IN:
    acs - ACS to remove
```
## `should_disable_lean`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Figures out if we need to disable the lean or not based on current
character settings

IN:
    lean - lean type we want to do
    arms - arms type involved with lean
    character - MASMonika object

RETURNS:
    True if we should disable lean, False otherwise
```
## `show_empty_desk`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-1`]() | `-1` | `public` |

```
shows empty desk
```
## `tryparseclothes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Returns the given clothes if it exists, or the default if not exist

IN:
    _clothes - clothes to check for existence
    default - default if clothes dont exist

RETURNS:
    the clothes if it exists, or default if not
```
## `tryparsehair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Returns the given hair if it exists, or the default if not exist

IN:
    _hair - hair to check for existence
    default - default if hair dont exist

RETURNS:
    the hair if it exists, or default if not
```
## `unlock_acstype_topics`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Unlocks topics with the given acs type

IN:
    acstype - acs type to unlock associated topics with
```
## `unlock_exprop_topics`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
Unlocks topics with the given exprop

IN:
    exprop - extended property to unlock associated topics with
```
## `use_bma`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-2`]() | `-2` | `public` |

```
Returns base MASArm for an armid

IN:
    arm_id - numerical digit for an arm. Corresponds to NUM_ARMS

RETURNS: base MASArm for this arm, or None if no Arm
```
## `use_bmpm`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-2`]() | `-2` | `public` |

```
Returns tuple of MASArms for a pose num

IN:
    posenum - numerical digit for a pose. This corresponds to
        NUM_POSE.

RETURNS: base MASArms for this poes, or None if no arms
```
## `use_bmpm_s`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-2`]() | `-2` | `public` |

```
Version of use_bpam that uses leanpose

IN:
    leanpose - leanpose string

RETURNS: base MASArms for this pose, or None if no arms
```
## `_verify_lean`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

## `_verify_leaningpose`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

## `_verify_pose`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

## `_verify_uprightpose`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `internal` |

## `zoom_out`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `sprite-chart` | [`mas_sprites_-5`]() | `-5` | `public` |

```
zooms out to the farthest zoom level
NOTE: also sets the persistent save for zoom
```
# mas_sprites_json

#### Defined Init Levels
* `-21`
* `189`
* `190`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-21` |

#### TOC
* [`_addGift`](#_addgift)
* [`addSpriteObject`](#addspriteobject)
* [`addSpriteObjects`](#addspriteobjects)
* [`_add_hair_to_verify`](#_add_hair_to_verify)
* [`_build_loadstrs`](#_build_loadstrs)
* [`_check_giftname`](#_check_giftname)
* [`initSpriteObjectProc`](#initspriteobjectproc)
* [`_init_giftname`](#_init_giftname)
* [`parsewritelog`](#parsewritelog)
* [`parsewritelogs`](#parsewritelogs)
* [`processGifts`](#processgifts)
* [`_process_giftname`](#_process_giftname)
* [`_process_progpoint`](#_process_progpoint)
* [`_remove_sel_list`](#_remove_sel_list)
* [`_replace_hair_map`](#_replace_hair_map)
* [`_reset_sp_obj`](#_reset_sp_obj)
* [`_test_loadables`](#_test_loadables)
* [`_validate_acs`](#_validate_acs)
* [`_validate_clothes`](#_validate_clothes)
* [`_validate_ex_props`](#_validate_ex_props)
* [`_validate_fallbacks`](#_validate_fallbacks)
* [`_validate_hair`](#_validate_hair)
* [`_validate_highlight`](#_validate_highlight)
* [`_validate_highlight_core`](#_validate_highlight_core)
* [`_validate_iterstr`](#_validate_iterstr)
* [`_validate_mux_type`](#_validate_mux_type)
* [`_validate_params`](#_validate_params)
* [`_validate_selectable`](#_validate_selectable)
* [`_validate_type`](#_validate_type)
* [`verifyHairs`](#verifyhairs)
* [`_verify_sptype`](#_verify_sptype)
* [`writelog`](#writelog)
* [`writelogs`](#writelogs)

## `_addGift`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Adds the reaction for this gift, using the correct label depending on
gift label existence.

IN:
    giftname - giftname to add reaction for
    indent_lvl - indentation level to use
```
## `addSpriteObject`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `public` |

```
Adds a sprite object, given its json filepath

NOTE: most exceptions logged
NOTE: may raise exceptions

IN:
    filepath - filepath to the JSON we want to load
```
## `addSpriteObjects`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `public` |

```
Adds sprite objects if we find any

Also does delayed validation rules:
    - hair
```
## `_add_hair_to_verify`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_-21`]() | `-21` | `internal` |

```
only for use with the above dicts
```
## `_build_loadstrs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Builds list of strings that need to be verified via loadable.

IN:
    sp_obj - sprite object to build strings from
    sel_obj - selectable to build thumb string from.
        Ignored if None
        (Default: None)

RETURNS: list of strings that would need to be loadable verified
```
## `_check_giftname`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Initializes the giftname with the sprite info

IN:
    giftname - giftname we want to use
    sp_type - sprite type we want to init
    sp_name - name of the sprite object to associated with this gift
        (use the sprite's name property == ID)
    ind_lvl - indentation level to use

OUT:
    msg_log - list to log messages to
```
## `initSpriteObjectProc`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `public` |

```
Prepares internal data for sprite object processing
```
## `_init_giftname`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Initializes the giftname with the sprite info
does not check for valid giftname.

IN:
    giftname - giftname we want to use
    sp_type - sprite type we want to init
    sp_name - name of the sprite object to associate with this gift
```
## `parsewritelog`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `public` |

```
write log using specially formatted data.

IN:
    msg_data - tuple of the following format:
        [0] - log constant
        [1] - indentation level
        [2] - msg to write

RETURNS: True if an ERR constant was found, False if not
```
## `parsewritelogs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `public` |

```
Write logs using specially formatted data

IN:
    msgs_data - list of tuples of the following format:
        [0] - log constant
        [1] - indentation level
        [2] - msg to write

RETURNS: True if an ERR constnat was found, False if not
```
## `processGifts`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `public` |

```
Processes giftnames that were loaded, adding/removing them from
certain dicts.
```
## `_process_giftname`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Process the gift maps by cleaning the persistent vars
```
## `_process_progpoint`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Attempts to find a prop point for a sprite object with the given
sp_type and name

IN:
    sp_type - sprite object type
    name - name of sprite object
    ind_lvl - indent level
    progname - name of progpoint (do not include suffix)

OUT:
    save_obj - dict to save progpoint to
    msg_log - list to save messages to
```
## `_remove_sel_list`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Removes selectable from selectbale list

Only intended for json usage. DO not use elsewhere. In general, you
should NEVER need to remove a selectable from the selectable list.
```
## `_replace_hair_map`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Replaces the hair vals of the given sprite object with the given name
of the given hair with defaults.

IN:
    sp_name - name of the clothing sprite object to replace hair
        map values in
    hair_to_replace - hair name to replace with defaults
```
## `_reset_sp_obj`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Uninits the given sprite object. This is meant only for json
sprite usage if we need to back out.

IN:
    sp_obj - sprite object to remove
```
## `_test_loadables`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Tests loadable images and errs if an image is not loadable.

IN:
    sp_obj - sprite object to test
    ind_lvl - indentation level

OUT:
    msg_log - list to add messages to
```
## `_validate_acs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates ACS-specific properties, as well as acs pose map

Props validated:
    - rec_layer
    - priority
    - acs_type
    - dlg_desc
    - dlg_plural
    - mux_type
    - pose_map
    - giftname
    - arm_split
    - highlight

IN:
    jobj - json object to pasrse
    obj_based - dict of object-based items
        (contains pose_map)
    indent_lvl - indentation lvl to use

OUT:
    save_obj - dict to save data to
    msg_log - list to add messages to

RETURNS: True if validation success, False if not
```
## `_validate_clothes`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates CLOTHES related properties

Props validated:
    - hair_map
    - giftname
    - pose_arms
    - highlight

IN:
    jobj - json object to parse
    obj_based - dict of objected-baesd items
        (contains split)
    sp_name - name of the clothes we are validating
    dry_run - true if we are dry running, False if not
    indent_lvl - indentation lvl

OUT:
    save_obj - dict to save data to
    msg_log - list to save messages to

RETURNS: True if good, False if not
```
## `_validate_ex_props`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates ex_props proprety

Props validated:
    - ex_props

IN:
    jobj - json object to parse
    obj_based - dict of object-based items
        (contains ex_props)
    ind_lvl - indentation level

OUT:
    save_obj - dict to save data to
    msg_log - list to save messages to
```
## `_validate_fallbacks`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates fallback related properties and pose map

Props validated:
    - fallback
    - pose_map

IN:
    jobj - json object to parse
    obj_based - dict of object-based items
        (contains pose_map)
    indent_lvl - indentation lvl to use

OUT:
    save_obj - dict to save data to
    msg_log - list to save messages to

RETURNS: True if success, False if not
```
## `_validate_hair`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates HAIR related properties

Props validated:
    - unlock
    - highlight

IN:
    jobj - json object to parse
    obj_based - dict of object-based items
    indent_lvl - indentation lvl

OUT:
    save_obj - dict to save data to
    msg_log - list to save messagse to

RETURNS: True on success, False if not
```
## `_validate_highlight`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates highlight objects

Props validated:
    - highlight

IN:
    obj_based - dict of object-based props
    hl_keys - the keys that this highlight object should be using
    ind_lvl - indentation level

OUT:
    save_obj - dict to save data to
    msg_log - list to add messages to

RETURNS: True if valid, False if not
```
## `_validate_highlight_core`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Primary portion of highlight validation. This is so it can be
used seamlessly with highlight split object validation logs.

Props validated:
    - highlight

IN:
    jobj - json object to parse
    hl_keys - the keys this highlight object should be using

OUT:
    save_obj - dict to save data to
    msg_log - list to add messages to

RETURNS: True if valid, False if not
```
## `_validate_iterstr`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates an iterable if it consists solely of strings

an empty list is considered bad.

IN:
    jobj - json object to parse
    propname - property name for error messages
    required - True if this property is required, False if not
    allow_none - True if None is valid value, False if not
    indent_lvl - indentation level

OUT:
    save_obj - dict to save to
    msg_log - list to save messages to

RETURNS: True if good, False if bad
```
## `_validate_mux_type`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates mux_type of this json object

IN:
    json_obj - json object to validate
    indent_lvl - indtenation lvl to use

OUT:
    msg_log - list to save error messages to
        if nothing was addeed to this list, the mux_type is valid

RETURNS: mux_type found. May be None
```
## `_validate_params`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates a list of parameters, while also saving said params into
given save object.

Errors/Warnings are logged to given lists

IN:
    jobj - json object to parse
    param_dict - dict of params + verification functiosn
    required - True if the given params are required, False otherwise.
    indent_lvl - indentation level to use

OUT:
    save_obj - dict to save data to
    msg_log - log to save messages to

RETURNS: True if success, False if not
```
## `_validate_selectable`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates selectable

Props validated:
    - select_info

IN:
    jobj - json object to parse
    obj_based - dict of object-based items
        (contains select_info)
    indent_lvl - indentation level

OUT:
    save_obj - dict to save data to
    msg_log - list to write messages to

RETURNS: True if success, false if failure
```
## `_validate_type`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `internal` |

```
Validates the type of this json object.

Logs errors. Also pops type off

IN:
    json_obj - json object to validate

RETURNS: SP constant if valid type, None otherwise
```
## `verifyHairs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_189`]() | `189` | `public` |

```
Verifies all hair items that we encountered
```
## `_verify_sptype`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_-21`]() | `-21` | `internal` |

## `writelog`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_-21`]() | `-21` | `public` |

```
new lines always added ourselves
```
## `writelogs`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_spritejsons` | [`mas_sprites_json_-21`]() | `-21` | `public` |

```
writes multiple msges given list
```
# mas_stories

#### Defined Init Levels
* `-1`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-1` |

#### TOC
* [`_unlock_everything`](#_unlock_everything)
* [`unlock_pooled_story`](#unlock_pooled_story)

## `_unlock_everything`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-stories` | [`mas_stories_-1`]() | `-1` | `internal` |

## `unlock_pooled_story`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-stories` | [`mas_stories_-1`]() | `-1` | `public` |

# mas_submod_utils

#### Defined Init Levels
* `-991`
* `-980`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `traceback` | `-991` |

#### TOC
* [`SubmodError`](#submoderror)
* [`_checkDependencies`](#_checkdependencies)
* [`_checkUpdates`](#_checkupdates)
* [`checkVersions`](#checkversions)
* [`getVersionNumberList`](#getversionnumberlist)
* [`hasUpdated`](#hasupdated)
* [`__init__`](#__init__-1)
* [`parseVersions`](#parseversions)
* [`updateFrom`](#updatefrom)

## `SubmodError`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` | `Exception` |

#### TOC
* [Constructor](#constructor-53)
* [`__str__`](#__str__-4)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_submods` | [`SubmodError`](#submoderror) | `` |

### `__str__`

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_submods` | [`SubmodError`](#submoderror) | `` |

## `_checkDependencies`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` | `internal` |

```
Checks to see if the dependencies for this submod are met
```
## `_checkUpdates`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` | `internal` |

```
Checks if submods have updated and sets the appropriate update scripts for them to run
```
## `checkVersions`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` | `public` |

```
Generic version checker for submods

IN:
    curr_vers - current installed version of the submod as a list
    comparative_vers - the version we're comparing to (or need the current version to be at or greater than) as a list

OUT:
    integer:
        - (-1) if the current version number is less than the comparitive version
        - 0 if the current version is the same as the comparitive version
        - 1 if the current version is greater than the comparitive version
```
## `getVersionNumberList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` | `public` |

```
Gets the version number as a list of integers

OUT:
    List of integers representing the version number
```
## `hasUpdated`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` | `public` |

```
Checks if this submod instance was updated (version number has incremented)

OUT:
    boolean:
        - True if the version number has incremented from the persistent one
        - False otherwise
```
## `__init__`

| File | Store Module | Available After |
| ---:| ---:| ---:|
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` |

```
Submod object constructor

IN:
    author - string, author name.

    name - submod name

    description - a short description for the submod

    version - version number in format SPECIFICALLY like so: `1.2.3`
        (You can add more or less as need be, but splits MUST be made using periods)

    dependencies - dictionary in the following structure: {"name": ("minimum_version", "maximum_version")}
    corresponding to the needed submod name and version required
    NOTE: versions must be passed in the same way as the version property is done
        (Default: empty dict)

    settings_pane - a string representing the screen for this submod's settings

    version_updates - dict of the format {"old_version_update_label_name": "new_version_update_label_name"}
        NOTE: submods MUST use the format <author>_<name>_v<version> for update labels relating to their submods
        NOTE: capital letters will be forced to lower and spaces will be replaced with underscores
        NOTE: Update labels MUST accept a version parameter, defaulted to the version of the label
        For example:
            author name: MonikaAfterStory,
            submod name: Example Submod
            submod vers: 1.2.3

        becomes:
            label monikaafterstory_example_submod_v1_2_3(version="v1_2_3")
```
## `parseVersions`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` | `public` |

```
Parses a string version number to list format.

IN:
    version - version string to parse

OUT:
    list() - representing the parsed version number

NOTE: Does not handle errors as to get here, formats must be correct regardless
```
## `updateFrom`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_submods` | [`mas_submod_utils_-991`]() | `-991` | `public` |

```
Updates the submod, starting at the given start version

IN:
    version - the version number in the parsed format ('author_name_v#_#_#')
```
# mas_threading

#### Defined Init Levels
* `-750`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `threading` | `-750` |

#### TOC
* [`MASAsyncWrapper`](#masasyncwrapper)

## `MASAsyncWrapper`

| File | Store Module | Available After | Base Class |
| ---:| ---:| ---:| ---:|
| `zz_threading` | [`mas_threading_-750`]() | `-750` | `object` |

```
Class designed for calling a function asynchronously and returning
the result.

This uses threading.

NOTE: we are not using context managers because we might have an
issue with them on macs

TODO: you cannot use this to spawm multiple calls of the same function
if we need that, then we make extension of this class

Main things are:
1. storing the function to call when threading
2. not spawning a new thread if the previous one isn't done yet
    (adjustable)
3. check function that checks status of thread's return value
4. closing the spawn'ed thread

PROPERTIES:
    ready - True means we are ready to spawn a thread, False means we
        are either waiting for the thread or waiting for main thread
        to retrieve the value.

PRIVATE PROPERTIES:
    _th_lock - the threading lock we are using for var checking
    _th_cond - the threading condition for var checking
    _th_result - data returned from the function
    _th_function - the function we are calling
    _th_args - args to pass into the function
    _th_kwargs - kwargs to pass into the function
    _th_thread - thread object
    _th_done - True means the thread has returned and set the value
        False means thread is still running
```
#### TOC
* [Constructor](#constructor-54)
* [`end`](#end)
* [`_th_start`](#_th_start)
* [`get`](#get-8)
* [`start`](#start-2)
* [`done`](#done)
* [`__end`](#__end)

### Constructor

| File | Class | Modifier |
| ---:| ---:|:--- |
| `zz_threading` | [`MASAsyncWrapper`](#masasyncwrapper) | `` |

```
IN:
    async_fun - function to call asynchronously
    async_args - list of arguments to send to the async function
        (Default: [])
    async_kwargs - dict of keyword args to send to the async
        function
        (Default: {})
```
### `end`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_threading` | [`MASAsyncWrapper`](#masasyncwrapper) | `` | `public` |

```
Resets thread status vars and more so we can spawn a new thread.

Checks if the thread is done before doing any resets
```
### `_th_start`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_threading` | [`MASAsyncWrapper`](#masasyncwrapper) | `` | `internal` |

```
Actually runs the async function and sets the result var
appropriately.
```
### `get`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_threading` | [`MASAsyncWrapper`](#masasyncwrapper) | `` | `public` |

```
Retrieves value set by thread and resets everything so we can
spawn a new thread.

RETURNS:
    value returned from async call.
    or None if the async call is still returning. (or if your
        async call returned None)
```
### `start`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_threading` | [`MASAsyncWrapper`](#masasyncwrapper) | `` | `public` |

```
Starts the threaded function call.
```
### `done`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_threading` | [`MASAsyncWrapper`](#masasyncwrapper) | `` | `public` |

```
Returns true if the thread is Done and has returned data, False
otherwise.
```
### `__end`

| File | Class | Modifier | Visiblity |
| ---:| ---:|:--- |:--- |
| `zz_threading` | [`MASAsyncWrapper`](#masasyncwrapper) | `` | `private` |

```
Resets vars so we can spawn a new thred. Does NOT check if the
thread is done.
```
# mas_topics

#### Defined Init Levels
* `-2`

#### TOC
* [`topSeenEvents`](#topseenevents)

## `topSeenEvents`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `script-topics` | [`mas_topics_-2`]() | `-2` | `public` |

```
counts the number of events with a > shown_count than the given
shown_count

IN:
    sorted_ev_list - an event list sorted by shown_counts
    shown_count - shown_count to compare to

RETURNS:
    number of events with shown_counts that are higher than the given
    shown_count
```
# mas_ui

#### Defined Init Levels
* `-990`
* `-201`
* `-200`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-990` |

#### TOC

# mas_updater

#### Defined Init Levels
* `0`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `shutil` | `0` |

#### TOC
* [`checkUpdate`](#checkupdate)

## `checkUpdate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `updater` | [`mas_updater_0`]() | `0` | `public` |

```
RETURNS:
    update_link if theres update available
    None if no update avaiable, or no need to update rn
```
# mas_utils

#### Defined Init Levels
* `-995`
* `-990`
* `-100`

#### TOC
* [`compareVersionLists`](#compareversionlists)
* [`fixVersionListLen`](#fixversionlistlen)

## `compareVersionLists`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `definitions` | [`mas_utils_-995`]() | `-995` | `public` |

```
Generic version number checker

IN:
    curr_vers - current version number as a list (eg. 1.2.5 -> [1, 2, 5])
    comparative_vers - the version we're comparing to as a list, same format as above

    NOTE: The version numbers can be different lengths

OUT:
    integer:
        - (-1) if the current version number is less than the comparitive version
        - 0 if the current version is the same as the comparitive version
        - 1 if the current version is greater than the comparitive version
```
## `fixVersionListLen`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `definitions` | [`mas_utils_-995`]() | `-995` | `public` |

```
Adjusts the smaller version list to be the same length as the larger version list for easy comparison

OUT:
    adjusted version list

NOTE: fills missing indeces with 0's
```
# mas_weather

#### Defined Init Levels
* `-20`
* `0`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-20` |

#### TOC
* [`_determineCloudyWeather`](#_determinecloudyweather)
* [`loadMWData`](#loadmwdata)
* [`saveMWData`](#savemwdata)
* [`shouldRainToday`](#shouldraintoday)
* [`unlockedWeathers`](#unlockedweathers)
* [`weatherProgress`](#weatherprogress)
* [`_weather_overcast_entry`](#_weather_overcast_entry)
* [`_weather_overcast_exit`](#_weather_overcast_exit)
* [`_weather_rain_entry`](#_weather_rain_entry)
* [`_weather_rain_exit`](#_weather_rain_exit)
* [`_weather_snow_entry`](#_weather_snow_entry)
* [`_weather_snow_exit`](#_weather_snow_exit)
* [`_weather_thunder_entry`](#_weather_thunder_entry)
* [`_weather_thunder_exit`](#_weather_thunder_exit)

## `_determineCloudyWeather`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_0`]() | `0` | `internal` |

```
Determines if weather should be rainiy/thunder/overcase, or none of
those.

IN:
    rain_chance - chance of rain out of 100
    thunder_chance - chance of thunder out of 100
        NOTE: this should be percentage based on rain chance, i.e.:
        thunder_chance * (rain_chance as %)
    overcast_chance - chance of overcast out of 100
    rolled_chance - if passed, then we use that chance instead of
        generating a random chance. None means we generate our
        own chance.
        (Default: None)

RETURNS:
    appropriate weather type, or None if neither of these weathers.
```
## `loadMWData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `public` |

```
Loads persistent MASWeather data into the weather map

ASSUMES: weather map is already filled
```
## `saveMWData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `public` |

```
Saves MASWeather data from weather map into persistent
```
## `shouldRainToday`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_0`]() | `0` | `public` |

## `unlockedWeathers`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `public` |

```
Returns number of unlocked weather items
```
## `weatherProgress`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `public` |

```
Runs a roll on mas_shouldRain() to pick a new weather to change to after a time between half an hour - one and a half hour

RETURNS:
    - True or false on whether or not to call spaceroom
```
## `_weather_overcast_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `internal` |

```
Overcast entry programming point
```
## `_weather_overcast_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `internal` |

```
Overcast exit programming point
```
## `_weather_rain_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `internal` |

```
Rain start programming point
```
## `_weather_rain_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `internal` |

```
RAIN stop programming point
```
## `_weather_snow_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `internal` |

```
Snow entry programming point
```
## `_weather_snow_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `internal` |

```
Snow exit programming point
```
## `_weather_thunder_entry`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `internal` |

```
Thunder entry programming point
```
## `_weather_thunder_exit`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_weather` | [`mas_weather_-20`]() | `-20` | `internal` |

```
Thunder exit programming point
```
# mas_windowreacts

#### Defined Init Levels
* `-10`

#### TOC

# mas_xp

#### Defined Init Levels
* `0`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `0` |

#### TOC
* [`_calc`](#_calc)
* [`calc`](#calc)
* [`calc_by_hours`](#calc_by_hours)
* [`calc_by_time`](#calc_by_time)
* [`_grant`](#_grant)
* [`grant`](#grant)
* [`_grant_on_pt`](#_grant_on_pt)
* [`_grant_xp`](#_grant_xp)
* [`_level`](#_level)
* [`level`](#level)
* [`_level_rxp`](#_level_rxp)
* [`set_xp_rate`](#set_xp_rate)

## `_calc`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `internal` |

```
Calculates xp gained within a range

IN:
    xp_rate - starting rate to calc xp with
    start - datetime to begin calculating xp with
    end - datetime to end calculating xp with
    hrx - hours today that have already been applied to xp

RETURNS: tuple:
    [0] - xp gained
    [1] - new xp_rate to use
    [2] - new amount of hours that we have applied xp rate to
```
## `calc`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `public` |

```
Calculates xp gained since last call to calc

Sets globals as needed

RETURN: amt of xp gained since last call to calc
```
## `calc_by_hours`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `public` |

```
Calculates toatl xp gain given a duration (in hours) and starting rate
using the new XP model

IN:
    duration - amt of time to grant xp for (hours)
    start_rate - the rate to start calculating with

RETURNS: tuple of the following format:
    [0] - amt of xp gained (float)
    [1] - new rate (float)
```
## `calc_by_time`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `public` |

```
Calculates total xp gain given a duration and starting rate using
the new XP model

IN:
    duration - amount of time to grant xp for (timedelta)
    start_rate - the rate to start calctuing with

RETURNS: tuple of the following format:
    [0] - amt of xp gained (float)
    [1] - new rate (float)
```
## `_grant`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `internal` |

```
Internal version of grant. dont use

IN:
    xp - amount of xp to grant
    xptnl - current xp to next level

RETURNS: tuple:
    [0] - lvls gained
    [1] - new xp tnl
```
## `grant`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `public` |

```
Grants xp based on current state. Meant for use by ch30 code
```
## `_grant_on_pt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `internal` |

```
Grants xp by calcuating avgs using the current playtime

RETURNS: tuple:
    [0] - lvls gained
    [1] - new xp tnl
```
## `_grant_xp`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `internal` |

```
Grant abitrary xp. You better have a good reason to use this.

IN:
    xp - arbitrary xp to grant
```
## `_level`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `internal` |

```
gets level using based on an amt of xp

NOTE: do NOT use this to determine level. use level() instead

IN:
    xp - amt of xp to calculate level for

RETURNS: level based on xp
```
## `level`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `public` |

```
Gets current level

RETURNS: current level
```
## `_level_rxp`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `internal` |

```
Gets gained levels and remaining xp

IN:
    xp - amt of xp to calculate level for

RETURNS: tuple of the following format:
    [0] - lvls gained
    [1] - remainig xp
```
## `set_xp_rate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `progression` | [`mas_xp_0`]() | `0` | `public` |

```
Sets xp rate based on session time today
Also resets reset date if appropriate

NOTE: assumes that we are calling this once at a new session start
```
# songs

#### Defined Init Levels
* `-1`
* `10`

#### Imports

| Alias | Source | Imported At |
|:--- |:--- | ---:|
| `None` | `store` | `-1` |

#### TOC
* [`adjustVolume`](#adjustvolume)
* [`cleanGUIText`](#cleanguitext)
* [`__genPage`](#__genpage)
* [`_getAudioFile`](#_getaudiofile)
* [`_getDispName`](#_getdispname)
* [`_getLoopData`](#_getloopdata)
* [`_getMP3`](#_getmp3)
* [`_getMP3Name`](#_getmp3name)
* [`_getOgg`](#_getogg)
* [`_getOggLoop`](#_getoggloop)
* [`_getOggLoopMAS`](#_getoggloopmas)
* [`_getOggLoopRPG`](#_getogglooprpg)
* [`_getOggName`](#_getoggname)
* [`_getOpus`](#_getopus)
* [`getPlayingMusicName`](#getplayingmusicname)
* [`getUserVolume`](#getuservolume)
* [`getVolume`](#getvolume)
* [`initMusicChoices`](#initmusicchoices)
* [`isInMusicList`](#isinmusiclist)
* [`isValidExt`](#isvalidext)
* [`__paginate`](#__paginate)
* [`_sanitizeVolume`](#_sanitizevolume)
* [`__scanCustomBGM`](#__scancustombgm)
* [`setUserVolume`](#setuservolume)

## `adjustVolume`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```

Adjusts the volume of the given channel by the volume bump value

IN:
  channel - the channel to adjust volume
      (DEFAULT: music)
  up - True means increase volume, False means decrease
      (DEFAULT: True)
```
## `cleanGUIText`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```
Cleans the given text so its applicable for gui usage

IN:
    unclean - unclean text

RETURNS:
    cleaned text
```
## `__genPage`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `private` |

```
Generates the a page of music choices

IN:
    music_list - list of music choice tuples (see initMusicChoices)

RETURNS:
    tuple of the following format:
        [0] - page of the music choices
        [1] - reamining items in the music_list
```
## `_getAudioFile`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Atteempts to retrive the correct audio object based on file extension

IN:
    filepath - full filepath to the audio file we want

RETURNS:
    tuple of the following format:
    [0]: audio object we want (May be None if this failed to load)
    [1]: extension of this audio object
```
## `_getDispName`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retreive the display name for an audio file
If that fails, then it will use the _filename as song name, minus
extension.

IN:
    _audio_file - audio object
    _ext - extension of the audio file
    _filename - filename of the audio file

RETURNS:
    The name of this Song (probably)
```
## `_getLoopData`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retrieve loop data from the given audio file and
generates the appropraite string to put in front of the file name

IN:
    _audio_file - audio object
    _ext - extension of hte audio file

RETURNS:
    loop string, or and empty string if no loop string available
```
## `_getMP3`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retrieve the MP3 object from the given audio file

IN:
    filepath - full filepath to the mp3 file want tags from

RETURNS:
    mutagen.mp3.EasyMP3 object, or None if we coudlnt do it
```
## `_getMP3Name`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retrieve song name from mp3 id3 tag

IN:
    _audio_file - audio object

RETURNS:
    The display name for this song, or None if not possible
```
## `_getOgg`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retreive the Ogg object from the given audio file

IN:
    filepath - full filepath to the ogg file

RETURNS:
    mutagen.ogg.OggVorbis or None if we coudlnt get the info
```
## `_getOggLoop`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retreive loop data from Ogg tags

IN:
    _audio_file - audio object
    _ext - extension of the audio file

RETURNS:
    the loop string we should use, or "" if no loop
```
## `_getOggLoopMAS`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retrieve MAS-based loop data from Ogg tags

IN:
    loopstart - list of loopstart tags
    loopend - list of loopend tags
    _audio_file - audio object

RETURNS:
    the loop string we should use or "" if no loop
```
## `_getOggLoopRPG`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retrieve RPGMaker-based loop data form Ogg tags

NOTE: unlike the MAS tags, loopstart is REQUIRED

IN:
    loopstart - list of loopstart tags
    looplen - list of loop length tags
    _audio_file - audio object

RETURNS:
    the loop string we should use or "" if no loop
```
## `_getOggName`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retreive song name from Ogg tag

IN:
    _audio_file - audio object

RETURNS:
    The display name for this song, or None if not possible
```
## `_getOpus`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Attempts to retrieve the Opus object from the given audio file

IN:
    filepath - full filepath to the opus file

RETURNS:
    mutagen.ogg.OggOpus or None if we couldnt get the info
```
## `getPlayingMusicName`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```

Gets the name of the currently playing song.

IN:
  channel - the audio channel to get the playing file

RETURNS:
  The name of the currently playing song, as defined here in
  music_choices, Or None if nothing is currently playing

ASSUMES:
  music_choices (songs store)
```
## `getUserVolume`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```
Gets user-defined slider volume of the given channel.
NOTE: this is indepenent of the actual channel volume.
    Using set_volume will NOT affect this.

IN:
    channel - audio channel to get volume for (string)

RETURNS: value of the user slider for the audio channel (double/float)
```
## `getVolume`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```
Gets the volume of the given audio channel.
NOTE: gets the real volume, not user-defined slider volume.

IN:
    channel - audio channel to get volume for (string)

RETURNS: volume of the audio channel as double/float
```
## `initMusicChoices`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```

Sets up the music choices list

IN:
  sayori - True if the player name is sayori, which means only
      allow Surprise in the player
```
## `isInMusicList`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```
Checks if the a song with the given filepath is in the music choices
list

IN:
    filepath - filepath of song to check

RETURNS:
    True if filepath is in the music_choices list, False otherwise
```
## `isValidExt`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```
Checks if the given filename has an appropriate extension

IN:
    filename - filename to check

RETURNS:
    True if valid extension, false otherwise
```
## `__paginate`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `private` |

```
Paginates the music list and returns a dict of the pages.

IN:
    music_list - list of music choice tuples (see initMusicChoices)

RETURNS:
    dict of music choices, paginated nicely:
    [0]: first page of music
    [1]: next page of music
    ...
    [n]: last page of music
```
## `_sanitizeVolume`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `internal` |

```
Santizes the given value as if it were a volume.
NOTE: does not check if its a number.

IN:
    value - value to sanitize

RETURNS: valid volume value
```
## `__scanCustomBGM`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `private` |

```
Scans the custom music directory for custom musics and adds them to
the given music_list.

IN/OUT:
    music_list - list of music tuples to append to
```
## `setUserVolume`

| File | Store Module | Available After | Visiblity |
| ---:| ---:| ---:|:--- |
| `zz_music_selector` | [`songs_-1`]() | `-1` | `public` |

```
Sets user volume to the given value.
NOTE: this does a preference edit, so there's no delay options.
NOTE: this changes mixer volume, so it may affect other channels.

IN:
    value - value to set volume to. Should be between 0.0 and 1.0.
    channel - channel to set.
```
